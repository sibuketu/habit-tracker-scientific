# Cursor マルチエージェント機能ガイド

## 概要

Cursor 2.0では、マルチエージェント機能が導入され、最大8つのエージェントを並行して実行可能です。

## Agentを複数一気に実行できるか？

**はい、可能です。** Cursor 2.0では、マルチエージェント機能により、最大8つのエージェントを並行して実行できます。

## Window複数作らなくていい？

**はい、Windowは1つでOKです。** マルチエージェント機能は、同じCursorウィンドウ内で複数のエージェントを並行実行できます。

## コンテキストの共有はできる？

**部分的に可能です。** 各エージェントは独立した作業環境を持ちますが、同じリポジトリを参照するため、変更は反映されます。

### コンテキスト共有の仕組み

1. **リポジトリレベル**: 全てのエージェントが同じリポジトリを参照
2. **作業環境**: 各エージェントが独立したコードベースのコピー上で作業（Worktree使用時）
3. **変更の反映**: 各エージェントの変更は、コミット・プッシュ後に他のエージェントに反映

### Worktreeを使用する場合

- 各エージェントが独立したGitワークツリーで作業
- ファイル競合を防ぐ
- 同じリポジトリ内で複数のブランチを同時に作業可能

### Localを使用する場合

- 全てのエージェントが同じコードベースで作業
- ファイル競合の可能性がある
- 通常の開発作業ではLocalを使用

## 使い方

1. **エージェント管理画面**: 右側のエージェント管理画面で「New Agent」をクリック
2. **複数エージェント作成**: 最大8つまでエージェントを作成可能
3. **並行実行**: 各エージェントが独立して作業を実行

## 注意事項

- **ファイル競合**: Localを使用する場合、複数のエージェントが同じファイルを編集すると競合が発生する可能性がある
- **Worktree推奨**: マルチエージェント機能を使用する場合、Worktreeを使用することでファイル競合を防げる
- **コンテキストの共有**: 各エージェントは独立した作業環境を持つため、直接的なコンテキスト共有はできないが、同じリポジトリを参照するため、変更は反映される

## 実例

### マルチエージェント使用例

```
エージェント1: RecipeScreenのリファクタリング（Worktree: feature/recipe-refactor）
エージェント2: CustomFoodScreenの改善（Worktree: feature/custom-food-improve）
エージェント3: 栄養素計算の最適化（Worktree: feature/nutrient-optimize）
→ 3つのエージェントが並行して作業
```

### コンテキスト共有の例

```
エージェント1: RecipeScreen.tsxを編集
エージェント2: CustomFoodScreen.tsxを編集
→ 両方の変更が同じリポジトリに反映される
→ コミット・プッシュ後に、両方のエージェントが最新のコードを参照可能
```

## 参考

- Cursor 2.0のマルチエージェント機能: 最大8つのエージェントを並行実行可能
- Worktree機能: 各エージェントが独立したコードベースのコピー上で作業
- Local機能: 通常の開発作業で使用


