# Primal Logic - 機能の意図と目的

> 作成日: 2025-01-27
> 目的: 各機能の意図と目的を記録し、実装の根拠を明確にする

---

## Gift機能

### 意図
**利他性を刺激し、コミュニティの結束を強化する**

### 目的
1. **利他的な行動の促進**: 「何人を助けたか」という表示により、利他性を刺激する
2. **コミュニティの結束**: 既存ユーザーが新規ユーザーを応援する仕組み
3. **新規ユーザーの獲得**: 初月割引により、心理的障壁を下げる
4. **持続可能なビジネスモデル**: 課金の100%が新規ユーザーへの割引に変換される

### 実装の根拠
- 詳細は [`second-brain/PRIMAL_LOGIC_DECISIONS.md`](second-brain/PRIMAL_LOGIC_DECISIONS.md) を参照

---

## If-Thenルール機能

### 意図
**条件に応じた自動アクションを設定し、ユーザーの行動をサポートする**

### 目的
1. **外食時の対応**: 外食時にカーニボアダイエットを継続するためのガイド
2. **糖質摂取時の対応**: 糖質を摂取してしまった時のリカバリープロトコル自動生成
3. **症状に応じた対応**: 特定の症状が出た時の栄養素目標値の自動調整
4. **栄養素不足時の対応**: 栄養素が不足している時の警告と提案

### 実装の根拠
- 習慣化アプリ（Habitica、Streaksなど）のIf-Thenルール機能を参考
- カーニボア専門家の推奨事項に基づく

---

## 通知機能

### 意図
**重要な情報をユーザーに届け、継続的な行動を促す**

### 目的
1. **電解質アラート**: 電解質が不足している時の警告
2. **脂質不足リマインダー**: 脂質が不足している時のリマインダー
3. **移行期間のサポート**: 移行期間中の症状検出と対処法の提案
4. **リカバリープロトコル**: 糖質摂取時のリカバリープロトコル通知

### 実装の根拠
- Browser Notification APIを使用
- オンボーディングで通知許可を求める（他アプリのベストプラクティス）

---

## カメラ機能（写真から追加・バーコード読み取り）

### 意図
**食品記録の手間を削減し、ユーザーの継続的な使用を促進する**

### 目的
1. **写真から追加**: AIが写真を解析し、栄養素を自動計算
2. **バーコード読み取り**: バーコードから食品情報を取得
3. **統合**: 1つのボタンで複数の機能を提供（ユーザーの選択を促す）

### 実装の根拠
- 健康管理アプリ（MyFitnessPal、Lifesum、Noomなど）のパターンを参考
- カメラ1つで複数の機能を提供する方が、UIがシンプルになる

---

## AI機能（チャット、音声入力、写真解析）

### 意図
**専門知識を提供し、ユーザーの質問に答える**

### 目的
1. **AIチャット**: 操作方法や機能について何でも質問できる
2. **音声入力**: 話すだけで食品記録や日次入力が自動で完了
3. **写真解析**: 食べた食品の写真を撮るだけで、AIが自動で栄養素を計算

### 実装の根拠
- カーニボア専門家（Dr. Ken Berry、Dr. Shawn Bakerなど）の情報源に基づく
- 複数のAIを使うのではなく、シンプルにそのまま書けるようにする（トークン消費を抑える）

---

## 移行期間のガイド機能

### 意図
**カーニボア移行期間中のユーザーをサポートし、継続を促進する**

### 目的
1. **症状の自動検出**: 移行期間中の症状を検出し、対処法を提案
2. **進捗の可視化**: 移行期間の進捗を可視化
3. **栄養素目標値の自動調整**: 症状に応じた栄養素目標値の自動調整

### 実装の根拠
- カーニボア専門家の見解に基づく（30日固定ではなく、個人差を考慮）
- 詳細は [`ANTIGRAVITY_RESEARCH_REQUESTS.md`](ANTIGRAVITY_RESEARCH_REQUESTS.md) を参照

---

## 栄養素追跡機能

### 意図
**カーニボアダイエットに必要な栄養素を正確に追跡する**

### 目的
1. **動的目標値**: ユーザーの状態に応じた栄養素目標値の自動調整
2. **バイオアベイラビリティロジック**: 植物性栄養素はペナルティ、動物性栄養素は優先
3. **4ゾーングラデーション**: 栄養素の状態を直感的に可視化

### 実装の根拠
- カーニボア専門家の推奨事項に基づく
- 既存アプリ（MyFitnessPal、Lifesum、Noomなど）との差別化

---

## プロファイル設定（100項目以上）

### 意図
**ユーザーの状態を正確に把握し、個人最適化を実現する**

### 目的
1. **個人差の考慮**: 性別、年齢、健康状態、活動レベルなど
2. **動的目標値の計算**: プロファイル情報に基づいた栄養素目標値の計算
3. **症状に応じた調整**: 症状に応じた栄養素目標値の自動調整

### 実装の根拠
- カーニボア専門家の推奨事項に基づく
- 広くカーニボア実践者に対応するため、包括的な機能を実装

