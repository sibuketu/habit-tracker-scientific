# 繝ｭ繧ｰ繧､繝ｳ讖溯・縺ｨSupabase險ｭ螳壹・迴ｾ迥ｶ遒ｺ隱阪Ξ繝昴・繝・

> **菴懈・譌･**: 2026-01-21  
> **逶ｮ逧・*: 繝ｭ繧ｰ繧､繝ｳ讖溯・縺ｨSupabase險ｭ螳壹・迴ｾ迥ｶ繧堤｢ｺ隱阪＠縲∝ｿ・ｦ√↑菴懈･ｭ繧堤音螳・

---

## 1. 繝ｭ繧ｰ繧､繝ｳ讖溯・縺ｮ螳溯｣・憾豕・

### 笨・螳溯｣・ｸ医∩

1. **隱崎ｨｼ逕ｻ髱｢**: `src/screens/AuthScreen.tsx`
   - 繝ｭ繧ｰ繧､繝ｳ讖溯・・・handleLogin`髢｢謨ｰ縲・3-73陦檎岼・・
   - 繝ｦ繝ｼ繧ｶ繝ｼ逋ｻ骭ｲ讖溯・・・handleSignup`髢｢謨ｰ縲・5-113陦檎岼・・
   - 繝代せ繝ｯ繝ｼ繝峨Μ繧ｻ繝・ヨ讖溯・・・handleResetPassword`髢｢謨ｰ縲・15-140陦檎岼・・
   - 繝ｭ繧ｰ繧｢繧ｦ繝域ｩ溯・・・handleLogout`髢｢謨ｰ縲・42-147陦檎岼・・
   - 繧ｻ繝・す繝ｧ繝ｳ邂｡逅・ｼ・useEffect`縺ｧ繧ｻ繝・す繝ｧ繝ｳ遒ｺ隱阪・3-41陦檎岼・・

2. **Supabase繧ｯ繝ｩ繧､繧｢繝ｳ繝・*: `src/lib/supabaseClient.ts`
   - Supabase繧ｯ繝ｩ繧､繧｢繝ｳ繝医・蛻晄悄蛹厄ｼ・5-24陦檎岼・・
   - 迺ｰ蠅・､画焚繝√ぉ繝・け・・VITE_SUPABASE_URL`縲～VITE_SUPABASE_ANON_KEY`・・
   - 繝輔か繝ｼ繝ｫ繝舌ャ繧ｯ讖溯・・育腸蠅・､画焚縺瑚ｨｭ螳壹＆繧後※縺・↑縺・ｴ蜷医・`null`繧定ｿ斐☆・・

3. **隱崎ｨｼ迥ｶ諷狗ｮ｡逅・*: `src/App.tsx`
   - 繧ｻ繝・す繝ｧ繝ｳ迥ｶ諷九・邂｡逅・ｼ・28陦檎岼・・
   - 隱崎ｨｼ迥ｶ諷九・螟画峩繧偵Μ繝・せ繝ｳ・・61-166陦檎岼・・
   - 隱崎ｨｼ逕ｻ髱｢縺ｮ陦ｨ遉ｺ繝ｭ繧ｸ繝・け・・52-454陦檎岼・・

### 笞・・豕ｨ諢丈ｺ矩・

1. **隱崎ｨｼ逕ｻ髱｢縺ｮ陦ｨ遉ｺ縺檎┌蜉ｹ蛹悶＆繧後※縺・ｋ**
   - `src/App.tsx`縺ｮ155-158陦檎岼縺ｧ隱崎ｨｼ逕ｻ髱｢縺ｮ陦ｨ遉ｺ縺後さ繝｡繝ｳ繝医い繧ｦ繝医＆繧後※縺・ｋ
   - 迴ｾ蝨ｨ縺ｯ隱崎ｨｼ縺ｪ縺励〒繧ょ虚菴懊☆繧具ｼ・ocal First譁ｹ驥晢ｼ・

2. **隱崎ｨｼ縺ｯ繧ｪ繝励す繝ｧ繝ｳ**
   - `RELEASE_AUTH_DECISION.md`縺ｫ繧医ｋ縺ｨ縲∬ｪ崎ｨｼ縺ｯ繧ｪ繝励す繝ｧ繝ｳ縺ｮ縺ｾ縺ｾ縺ｫ縺吶ｋ譁ｹ驥・
   - 繝ｦ繝ｼ繧ｶ繝ｼ縺悟ｸ梧悍縺吶ｋ蝣ｴ蜷医・縺ｿ隱崎ｨｼ繧剃ｽｿ逕ｨ

---

## 2. Supabase縺ｮ險ｭ螳夂憾豕・

### 笨・螳溯｣・ｸ医∩

1. **Supabase繧ｯ繝ｩ繧､繧｢繝ｳ繝・*: `src/lib/supabaseClient.ts`
   - 迺ｰ蠅・､画焚縺九ｉ險ｭ螳壹ｒ隱ｭ縺ｿ霎ｼ繧・・-10陦檎岼・・
   - 迺ｰ蠅・､画焚縺瑚ｨｭ螳壹＆繧後※縺・↑縺・ｴ蜷医・`null`繧定ｿ斐☆・医ヵ繧ｩ繝ｼ繝ｫ繝舌ャ繧ｯ・・

2. **繝・・繧ｿ繝吶・繧ｹ繧ｹ繧ｭ繝ｼ繝・*: `supabase_schema.sql`
   - `daily_logs`繝・・繝悶Ν
   - `profiles`繝・・繝悶Ν
   - `streaks`繝・・繝悶Ν
   - RLS繝昴Μ繧ｷ繝ｼ

3. **繝峨く繝･繝｡繝ｳ繝・*: 
   - `SUPABASE_SETUP_GUIDE.md` - Supabase險ｭ螳壹ぎ繧､繝会ｼ亥ｮ悟・迚茨ｼ・
   - `ENV_SETUP_COMPLETE_GUIDE.md` - 迺ｰ蠅・､画焚險ｭ螳壹ぎ繧､繝・

### 笶・譛ｪ險ｭ螳・

1. **`.env`繝輔ぃ繧､繝ｫ**: 蟄伜惠縺励↑縺・ｼ医∪縺溘・讀懃ｴ｢縺ｫ蠑輔▲縺九°繧峨↑縺・ｼ・
   - 蠢・ｦ√↑迺ｰ蠅・､画焚:
     - `VITE_SUPABASE_URL`
     - `VITE_SUPABASE_ANON_KEY`

2. **Supabase繝励Ο繧ｸ繧ｧ繧ｯ繝・*: 菴懈・迥ｶ豕∽ｸ肴・
   - 繝励Ο繧ｸ繧ｧ繧ｯ繝医′菴懈・縺輔ｌ縺ｦ縺・ｋ縺狗｢ｺ隱阪′蠢・ｦ・
   - 繝・・繧ｿ繝吶・繧ｹ繧ｹ繧ｭ繝ｼ繝槭′驕ｩ逕ｨ縺輔ｌ縺ｦ縺・ｋ縺狗｢ｺ隱阪′蠢・ｦ・

---

## 3. 蠢・ｦ√↑菴懈･ｭ

### Phase 1: 迴ｾ迥ｶ遒ｺ隱搾ｼ亥ｮ御ｺ・ｼ・

- [x] `.env`繝輔ぃ繧､繝ｫ縺ｮ蟄伜惠遒ｺ隱・竊・**蟄伜惠縺励↑縺・*
- [x] 迺ｰ蠅・､画焚縺ｮ險ｭ螳夂憾豕∫｢ｺ隱・竊・**譛ｪ險ｭ螳・*
- [x] Supabase繝励Ο繧ｸ繧ｧ繧ｯ繝医・菴懈・迥ｶ豕∫｢ｺ隱・竊・**荳肴・・育｢ｺ隱阪′蠢・ｦ・ｼ・*
- [x] 險ｭ螳壽焔鬆・ラ繧ｭ繝･繝｡繝ｳ繝医・遒ｺ隱・竊・**譌｢縺ｫ蟄伜惠**

### Phase 2: Supabase險ｭ螳夲ｼ亥ｿ・ｦ√↑蝣ｴ蜷茨ｼ・

1. **Supabase繝励Ο繧ｸ繧ｧ繧ｯ繝医・菴懈・**・域悴菴懈・縺ｮ蝣ｴ蜷茨ｼ・
   - [ ] Supabase繧｢繧ｫ繧ｦ繝ｳ繝医↓繝ｭ繧ｰ繧､繝ｳ
   - [ ] 譁ｰ縺励＞繝励Ο繧ｸ繧ｧ繧ｯ繝医ｒ菴懈・
   - [ ] 繝ｪ繝ｼ繧ｸ繝ｧ繝ｳ繧帝∈謚橸ｼ域耳螂ｨ: Northeast Asia (Tokyo)・・

2. **迺ｰ蠅・､画焚縺ｮ蜿門ｾ・*
   - [ ] Supabase繝繝・す繝･繝懊・繝峨〒縲郡ettings縲坂・縲窟PI縲阪ｒ髢九￥
   - [ ] Project URL繧偵さ繝斐・・・VITE_SUPABASE_URL`・・
   - [ ] anon public繧ｭ繝ｼ繧偵さ繝斐・・・VITE_SUPABASE_ANON_KEY`・・

3. **繝・・繧ｿ繝吶・繧ｹ繧ｹ繧ｭ繝ｼ繝槭・驕ｩ逕ｨ**
   - [ ] Supabase繝繝・す繝･繝懊・繝峨〒縲郡QL Editor縲阪ｒ髢九￥
   - [ ] `supabase_schema.sql`縺ｮ蜀・ｮｹ繧偵さ繝斐・縺励※雋ｼ繧贋ｻ倥￠
   - [ ] 縲軍un縲阪・繧ｿ繝ｳ繧偵け繝ｪ繝・け縺励※螳溯｡・
   - [ ] 謌仙粥繝｡繝・そ繝ｼ繧ｸ繧堤｢ｺ隱・

4. **`.env`繝輔ぃ繧､繝ｫ縺ｸ縺ｮ迺ｰ蠅・､画焚險ｭ螳・*
   - [ ] `.env`繝輔ぃ繧､繝ｫ繧剃ｽ懈・・亥ｭ伜惠縺励↑縺・ｴ蜷茨ｼ・
   - [ ] 莉･荳九・迺ｰ蠅・､画焚繧定ｿｽ蜉:
     ```env
     VITE_SUPABASE_URL=https://your-project.supabase.co
     VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
     ```
   - [ ] 繝輔ぃ繧､繝ｫ繧剃ｿ晏ｭ・

### Phase 3: 繝ｭ繧ｰ繧､繝ｳ讖溯・縺ｮ譛牙柑蛹厄ｼ医が繝励す繝ｧ繝ｳ・・

1. **隱崎ｨｼ逕ｻ髱｢陦ｨ遉ｺ繝ｭ繧ｸ繝・け縺ｮ遒ｺ隱・*
   - [x] `App.tsx`縺ｮ隱崎ｨｼ逕ｻ髱｢陦ｨ遉ｺ繝ｭ繧ｸ繝・け繧堤｢ｺ隱・竊・**繧ｳ繝｡繝ｳ繝医い繧ｦ繝医＆繧後※縺・ｋ・・55-158陦檎岼・・*

2. **隱崎ｨｼ繧貞ｿ・医↓縺吶ｋ縺九√が繝励す繝ｧ繝ｳ縺ｮ縺ｾ縺ｾ縺ｫ縺吶ｋ縺九・蛻､譁ｭ**
   - 迴ｾ蝨ｨ縺ｮ譁ｹ驥・ **繧ｪ繝励す繝ｧ繝ｳ縺ｮ縺ｾ縺ｾ**・・RELEASE_AUTH_DECISION.md`蜿ら・・・
   - 繝ｦ繝ｼ繧ｶ繝ｼ縺悟ｸ梧悍縺吶ｋ蝣ｴ蜷医・縺ｿ隱崎ｨｼ繧剃ｽｿ逕ｨ

3. **蠢・ｦ√↓蠢懊§縺ｦ隱崎ｨｼ逕ｻ髱｢縺ｮ陦ｨ遉ｺ繧呈怏蜉ｹ蛹・*
   - 迴ｾ蝨ｨ縺ｯ荳崎ｦ・ｼ医が繝励す繝ｧ繝ｳ縺ｮ縺ｾ縺ｾ・・

---

## 4. 遒ｺ隱堺ｺ矩・

1. **`.env`繝輔ぃ繧､繝ｫ縺ｯ蟄伜惠縺吶ｋ縺具ｼ・*
   - 笶・蟄伜惠縺励↑縺・ｼ医∪縺溘・讀懃ｴ｢縺ｫ蠑輔▲縺九°繧峨↑縺・ｼ・

2. **Supabase繝励Ο繧ｸ繧ｧ繧ｯ繝医・譌｢縺ｫ菴懈・縺輔ｌ縺ｦ縺・ｋ縺具ｼ・*
   - 笶・荳肴・・医Θ繝ｼ繧ｶ繝ｼ縺ｫ遒ｺ隱阪′蠢・ｦ・ｼ・

3. **繝ｭ繧ｰ繧､繝ｳ讖溯・繧呈怏蜉ｹ縺ｫ縺励◆縺・°縲√が繝励す繝ｧ繝ｳ縺ｮ縺ｾ縺ｾ縺ｫ縺吶ｋ縺具ｼ・*
   - 笨・繧ｪ繝励す繝ｧ繝ｳ縺ｮ縺ｾ縺ｾ・・RELEASE_AUTH_DECISION.md`蜿ら・・・

---

## 5. 谺｡縺ｮ繧ｹ繝・ャ繝・

1. **繝ｦ繝ｼ繧ｶ繝ｼ縺ｫ遒ｺ隱・*:
   - Supabase繝励Ο繧ｸ繧ｧ繧ｯ繝医・譌｢縺ｫ菴懈・縺輔ｌ縺ｦ縺・ｋ縺具ｼ・
   - Supabase繧定ｨｭ螳壹＠縺溘＞縺九√が繝励す繝ｧ繝ｳ縺ｮ縺ｾ縺ｾ縺ｫ縺吶ｋ縺具ｼ・

2. **Supabase繧定ｨｭ螳壹☆繧句ｴ蜷・*:
   - Phase 2縺ｮ菴懈･ｭ繧貞ｮ溯｡・
   - `.env`繝輔ぃ繧､繝ｫ繧剃ｽ懈・縺励※迺ｰ蠅・､画焚繧定ｨｭ螳・
   - 髢狗匱繧ｵ繝ｼ繝舌・繧貞・襍ｷ蜍・

3. **Supabase繧定ｨｭ螳壹＠縺ｪ縺・ｴ蜷・*:
   - 迴ｾ蝨ｨ縺ｮ縺ｾ縺ｾ・・ocalStorage縺ｮ縺ｿ菴ｿ逕ｨ・峨〒蝠城｡後↑縺・
   - 隱崎ｨｼ讖溯・縺ｯ螳溯｣・ｸ医∩縺縺後∽ｽｿ逕ｨ縺励↑縺・

---

**譛邨よ峩譁ｰ**: 2026-01-21

