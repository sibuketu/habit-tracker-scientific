# Primal Logic - 既存アプリとの比較：不足機能リスト

> 作成日: 2025-01-27
> 目的: MyFitnessPal、Lifesum、Noom等の既存アプリと比較し、不足している機能を洗い出す

---

## 既存アプリの主要機能とPrimal Logicの実装状況

### 1. 食事記録機能

#### MyFitnessPal / Lifesum / Noom の機能
1. **バーコード読み取り** ❌ 未実装
   - 市販食品のバーコードをスキャンして栄養情報を取得
   - **重要度**: 高（市販食品の記録が簡単になる）

2. **写真解析** ⚠️ 部分実装
   - 食事写真から栄養素を自動検出
   - **現状**: モック実装のみ。Gemini Vision API統合が必要
   - **重要度**: 高（記録の手間を大幅に削減）

3. **レシピ登録・保存** ❌ 未実装
   - よく食べる組み合わせをレシピとして保存
   - レシピから一括で食事記録
   - **重要度**: 中（よく食べる組み合わせの記録が簡単になる）

4. **食事タイミング記録** ⚠️ 部分実装
   - 朝食、昼食、夕食、間食の区別
   - **現状**: 日次ログには時刻情報がない
   - **重要度**: 中（食事パターンの分析に有用）

5. **食品検索の強化** ⚠️ 改善の余地あり
   - より多くの食品データベース
   - 食品名の部分一致検索の改善
   - **重要度**: 中（記録の効率化）

#### Primal Logicの実装状況
- ✅ 手動入力（食品名検索）
- ✅ タブ切り替えによる動物・部位選択（文字選択、解剖図タップではない）
- ✅ カスタム食品登録
- ✅ 履歴活用（History Copy機能）

---

### 2. 栄養バランスの可視化

#### MyFitnessPal / Lifesum / Noom の機能
1. **グラフ表示** ⚠️ 部分実装
   - 日次・週次・月次の栄養素推移グラフ
   - **現状**: `NutrientTrendChart.tsx`は存在するが、UIからアクセスしやすいか確認が必要
   - **重要度**: 高（栄養素の推移を視覚的に把握）

2. **円グラフ・棒グラフ** ❌ 未実装
   - 栄養素の摂取状況を円グラフや棒グラフで表示
   - **重要度**: 中（栄養バランスの可視化）

3. **目標値との比較表示** ⚠️ 部分実装
   - グラフ上で目標値との比較を表示
   - **現状**: ゲージ表示はあるが、グラフでの比較表示が不足
   - **重要度**: 高（目標達成状況の把握）

4. **栄養素の詳細分析** ⚠️ 改善の余地あり
   - 栄養素ごとの詳細な分析画面
   - 不足・過剰の警告
   - **現状**: ゲージ表示はあるが、詳細分析画面が不足
   - **重要度**: 中（栄養素の詳細な把握）

#### Primal Logicの実装状況
- ✅ 4ゾーングラデーションゲージ（不足/バッファー/最適/過剰）
- ✅ 栄養素のリアルタイム計算
- ⚠️ グラフ表示（`NutrientTrendChart.tsx`は存在するが、UIからアクセスしやすいか確認が必要）

---

### 3. 体重・体組成管理

#### MyFitnessPal / Lifesum / Noom の機能
1. **日次体重記録** ❌ 未実装
   - 毎日の体重を記録
   - **現状**: プロファイル設定には体重があるが、日次記録機能がない
   - **重要度**: 高（体重管理は健康管理の基本）

2. **体重推移グラフ** ⚠️ 部分実装
   - 体重の推移をグラフで表示
   - **現状**: `WeightTrendChart.tsx`は存在するが、UIからアクセスしやすいか確認が必要
   - **重要度**: 高（体重の変化を視覚的に把握）

3. **体脂肪率記録** ❌ 未実装
   - 体脂肪率の日次記録
   - **現状**: プロファイル設定には体組成があるが、日次記録機能がない
   - **重要度**: 中（体組成の変化を追跡）

4. **BMI計算** ❌ 未実装
   - BMIの自動計算と表示
   - **重要度**: 低（カーニボアではBMIは重要ではないが、既存アプリにはある）

5. **体組成グラフ** ❌ 未実装
   - 体重、体脂肪率、筋肉量などの推移グラフ
   - **重要度**: 中（体組成の変化を視覚的に把握）

#### Primal Logicの実装状況
- ⚠️ 体重記録（プロファイル設定のみ、日次記録機能なし）
- ⚠️ 体組成設定（プロファイル設定のみ、日次記録機能なし）
- ⚠️ 体重推移グラフ（`WeightTrendChart.tsx`は存在するが、UIからアクセスしやすいか確認が必要）

---

### 4. 運動記録（別アプリ連携で対応）

#### MyFitnessPal / Lifesum / Noom の機能
1. **運動記録** ⚠️ 部分実装
   - 運動種目の記録
   - **現状**: 活動レベル記録のみ（「低い/中程度/高い」）
   - **方針**: 詳細な運動記録は別アプリ（Strava、Apple Health、Google Fit等）に任せる
   - **重要度**: 低（別アプリ連携で対応）

2. **ウェアラブルデバイス連携** ❌ 未実装
   - Apple Health、Google Fitとの連携
   - 活動量・心拍数の自動取得
   - **重要度**: 中（活動量の自動記録）

#### Primal Logicの実装状況
- ✅ 活動レベル記録（「低い/中程度/高い」）
- ❌ ウェアラブルデバイス連携（未実装）

---

### 5. データ連携

#### MyFitnessPal / Lifesum / Noom の機能
1. **クラウド同期** ⚠️ 部分実装
   - 複数デバイス間での同期
   - **現状**: Supabase連携は実装されているが、動作確認が必要
   - **重要度**: 高（複数デバイスでの利用）

2. **データエクスポート/インポート** ⚠️ 部分実装
   - JSON形式でのエクスポート
   - **現状**: `DataExportScreen.tsx`は存在するが、インポート機能がない
   - **重要度**: 中（データのバックアップと復元）

3. **ウェアラブルデバイス連携** ❌ 未実装
   - Apple Health、Google Fitとの連携
   - **重要度**: 中（活動量の自動記録）

#### Primal Logicの実装状況
- ⚠️ Supabase連携（実装されているが、動作確認が必要）
- ✅ データエクスポート（`DataExportScreen.tsx`）
- ❌ データインポート（未実装）

---

### 6. コミュニティ機能

#### MyFitnessPal / Lifesum / Noom の機能
1. **コミュニティ機能** ⚠️ 部分実装
   - ユーザー同士の情報交換
   - レシピ共有
   - モチベーション維持機能
   - **現状**: Phase 6以降、今後実装予定としてUIに表示済み
   - **重要度**: 低（リリース後でも対応可能）

#### Primal Logicの実装状況
- ⚠️ コミュニティ機能（今後実装予定としてUIに表示済み）

---

### 7. その他の機能

#### MyFitnessPal / Lifesum / Noom の機能
1. **食事プランニング** ❌ 未実装
   - 週間・月間の食事プランを立てる
   - **重要度**: 低（カーニボアでは毎日同じような食事になるため、優先度は低い）

2. **カロリー計算** ❌ 実装しない（カーニボアでは重要ではない）
   - **方針**: カロリーは表示しない（カーニボアでは重要ではないため）

3. **PFC比率** ❌ 実装しない（カーニボアでは重要ではない）
   - **方針**: PFC比率は表示しない（カーニボアでは重要ではないため）

4. **水分記録** ❌ 未実装
   - 水分摂取量の記録
   - **重要度**: 低（カーニボアでは水分は重要だが、記録の優先度は低い）

5. **睡眠記録** ⚠️ 部分実装
   - 睡眠時間・睡眠の質の記録
   - **現状**: 日次ログに睡眠スコアはあるが、睡眠時間の記録機能がない
   - **重要度**: 中（睡眠は健康管理の基本）

---

## 追加すべき機能の優先順位

### 🔴 最優先（リリース前に実装すべき）

1. **日次体重記録機能**
   - 毎日の体重を記録
   - 体重推移グラフの表示
   - **理由**: 既存アプリには必ずある基本機能

2. **グラフ表示機能の強化**
   - 栄養素の推移グラフをUIからアクセスしやすく
   - 目標値との比較表示をグラフ上に追加
   - **理由**: 栄養素の推移を視覚的に把握するために重要

3. **バーコード読み取り**
   - 市販食品のバーコードをスキャン
   - 栄養情報の自動取得
   - **理由**: 市販食品の記録が簡単になる

4. **写真解析の完全実装**
   - 実際の画像認識AI統合（Gemini Vision API等）
   - 食品の自動識別と栄養素計算
   - **理由**: 記録の手間を大幅に削減

### 🟡 優先度: 中（リリース後でも対応可能だが、あると良い）

5. **レシピ登録・保存**
   - よく食べる組み合わせをレシピとして保存
   - レシピから一括で食事記録
   - **理由**: よく食べる組み合わせの記録が簡単になる

6. **体脂肪率記録**
   - 体脂肪率の日次記録
   - 体組成グラフの表示
   - **理由**: 体組成の変化を追跡するために有用

7. **データインポート機能**
   - JSON形式でのデータインポート
   - データのバックアップと復元
   - **理由**: データのバックアップと復元に必要

8. **ウェアラブルデバイス連携**
   - Apple Health、Google Fitとの連携
   - 活動量・心拍数の自動取得
   - **理由**: 活動量の自動記録に有用

9. **睡眠記録の強化**
   - 睡眠時間の記録機能
   - 睡眠の質の詳細記録
   - **理由**: 睡眠は健康管理の基本

### 🟢 優先度: 低（リリース後でも対応可能）

10. **コミュニティ機能**
    - ユーザー同士の情報交換
    - レシピ共有
    - **理由**: リリース後でも対応可能

11. **食事プランニング**
    - 週間・月間の食事プランを立てる
    - **理由**: カーニボアでは毎日同じような食事になるため、優先度は低い

12. **水分記録**
    - 水分摂取量の記録
    - **理由**: カーニボアでは水分は重要だが、記録の優先度は低い

---

## UI/UXの改善点

### 1. グラフ表示へのアクセス
- **現状**: `NutrientTrendChart.tsx`は存在するが、UIからアクセスしやすいか確認が必要
- **改善**: ホーム画面や履歴画面からグラフ表示にアクセスしやすくする

### 2. 体重記録へのアクセス
- **現状**: プロファイル設定に体重があるが、日次記録機能がない
- **改善**: ホーム画面や履歴画面から体重記録にアクセスしやすくする

### 3. 食品選択UI
- **現状**: タブ切り替えによる動物・部位選択（文字選択、解剖図タップではない）
- **改善**: より直感的なUI（解剖図タップの実装、またはより視覚的な選択UI）

---

## 結論

### リリース前に実装すべき機能
1. 日次体重記録機能
2. グラフ表示機能の強化
3. バーコード読み取り
4. 写真解析の完全実装

### リリース後でも対応可能だが、あると良い機能
5. レシピ登録・保存
6. 体脂肪率記録
7. データインポート機能
8. ウェアラブルデバイス連携
9. 睡眠記録の強化

### UI/UXの改善
- グラフ表示へのアクセスを改善
- 体重記録へのアクセスを改善
- 食品選択UIの改善（解剖図タップの実装、またはより視覚的な選択UI）

---

## 参考資料

- `CARNIVORE_NUTRITION_APP_REQUIREMENTS.md`: カーニボア栄養管理アプリ要件定義書
- `RELEASE_CHECKLIST.md`: リリース前チェックリスト

