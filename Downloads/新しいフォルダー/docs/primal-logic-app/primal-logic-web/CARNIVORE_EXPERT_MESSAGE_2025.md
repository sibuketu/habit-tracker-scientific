# Primal Logic - Carnivore専門家向けメッセージ

> 最終更新: 2025-01-27
> 状態: **リリース準備中**（動作確認しきれておりません。ご利用いただき、ご意見・ご指摘をいただければ幸いです）

---

## ご挨拶

Carnivoreダイエットに精通されている方へ

この度、**Primal Logic**というカーニボアダイエット管理アプリを開発いたしました。Dr. Ken Berry、Dr. Shawn Baker、Dr. Paul Saladino、Dr. Anthony Chaffee、Dr. Bart Kay、Dr. Paul Masonなどの専門家の知見を参考に、世界最高峰のカーニボア健康管理アプリを目指しています。

ご覧いただき、ご意見やご指摘をいただければ幸いです。

---

## アプリの概要

**Primal Logic**は、カーニボアダイエット実践者のための健康管理アプリです。既存の栄養管理アプリ（MyFitnessPal、Lifesum、Noom等）を参考にしつつ、カーニボアダイエットに特化した機能を提供します。

### コンセプト
- **Logic over Calorie**: カロリー計算ではなく、ホルモンと栄養素のロジックで体を最適化
- **Dynamic Optimization**: 天気・体調・活動量に応じて、その日の摂取目標が自動変動
- **Frictionless Input**: キーボード入力を排除。タブ切り替えと履歴活用で3秒で完了

---

## 主な機能と試し方

### 1. 栄養素追跡（4ゾーングラデーションゲージ）

#### どうやって試すか
1. **ホーム画面**を開く
2. **「+ 食品を追加」**ボタンをタップ
3. **動物タブ**（🐄牛肉、🐖豚肉、🐓鶏肉、🥚卵・乳製品、🧈脂質・調味料、🐟魚、🌱植物性食品）から選択
4. **部位ボタン**（リブアイ、ブリスケット、サーロイン、肝臓など）をタップ
5. **量スライダー**で量を調整（300gがデフォルト）
6. **「🥩 [食品名]を追加」**ボタンをタップ
7. **ホーム画面の上部**に栄養素ゲージが表示される

#### ゲージの見方
- **赤色（不足ゾーン）**: 目標値の0-50% → 栄養素が不足している
- **オレンジ色（バッファーゾーン）**: 目標値の50-100% → まだ不足気味
- **緑色（最適ゾーン）**: 目標値の100-120% → 最適範囲内
- **紫色（過剰ゾーン）**: 目標値の120%以上 → 過剰摂取の可能性

#### 💡アイコンの機能
- **全ての栄養ゲージに💡アイコンを表示**: 不足時（目標値の80%未満）は自動的にヒントを生成（例：「現状: 不足気味（500mg不足）。ミネラルウォーターや塩で補給可能」）
- **💡アイコンをクリック**: 栄養素の目標値に影響する要因を表示（性別、年齢、活動レベル、妊娠/授乳状態、ストレスレベル、睡眠時間、運動強度・頻度、甲状腺機能、太陽光暴露頻度、消化器系の問題、炎症レベル、メンタルヘルス状態、サプリメント摂取状況など）
- **なぜこの数値になるか**: プロファイル設定に基づいて、目標値がどのように計算されたかを表示（影響要因を影響度順、アルファベット順、カテゴリ順で並び替え可能）
- **どうするか**: 不足時の具体的な対処法を表示（例：「ナトリウムが不足している場合 → ミネラルウォーターや塩で補給可能」「タンパク質が不足している場合 → 肉や魚を増やすことで補給可能」）

#### 栄養素をタップすると
- **Argument Card**が表示される（3-tier表示：Glance → Explanation → Source）
- カーニボア医者の主張に基づく科学的根拠を確認可能

#### 意図と差別化ポイント
- **既存アプリとの違い**: MyFitnessPalやLifesumは「カロリー」や「PFC比率」を重視するが、Primal Logicは「栄養素の充足度」を重視
- **カーニボア基準**: ビタミンCの目標値は0mg（糖質ゼロ環境下では不要）、ナトリウムは5000mg以上（低インスリン状態では高用量が必要）など、カーニボア医者の推奨値に基づく
- **動的目標値**: 100項目以上のプロファイル設定（性別、年齢、活動レベル、妊娠/授乳状態、ストレスレベル、睡眠時間、運動強度・頻度、甲状腺機能、太陽光暴露頻度、消化器系の問題、炎症レベル、メンタルヘルス状態、サプリメント摂取状況、アルコール・カフェイン摂取量、カーニボア開始日、体組成、代謝ストレス指標など）により、個人最適化された目標値を自動計算

### 2. AI機能（専門家モード）

#### どうやって試すか
1. **ホーム画面**の右下にある**AI Speed Dial**（浮遊ボタン）をタップ
2. 以下の機能が選択可能：
   - **📷 写真から追加**: 食べたものを写真で撮影 → AIが食品を識別して栄養素を自動計算
   - **💬 AIチャット**: カーニボアに関する質問を入力 → 専門家の主張に基づく回答
   - **🎤 音声入力**: 音声で食品名を入力 → テキストに変換して検索

#### AIチャットの特徴
- **情報源**: Carnivore専門家（Dr. Ken Berry、Dr. Shawn Baker、Dr. Paul Saladino、Dr. Anthony Chaffee、Dr. Bart Kay、Dr. Paul Mason）の主張に基づく
- **論証スタイル**: 4ステップ論証（検証 → 脱構築 → 再構築 → 引用）で、誤解や批判に対して体系的に対応
- **Detective AI**: 日記と食生活のデータを分析して、症状の原因を特定（「なぜ調子が悪いの？」などの質問に対応）
- **実践的アドバイス**: 症状や問題に対して、具体的な対処法を提示（例：「頭痛がする」→「ナトリウムを+2000mg増やしてください」）
- **プロフィール連携**: ユーザーのプロフィール（身長、体重、年齢、性別など）を参照して、よりパーソナライズされた回答を提供
- **過去の食事記録参照**: 「3日前何食べたっけ？」などの質問に対して、過去の食事記録を参照して回答

#### 写真解析の特徴
- **Gemini Vision API**を使用して食品を自動識別
- **栄養素の自動計算**: 食品名からマスターデータを検索し、栄養素を自動計算
- **多言語対応**: 日本語、英語、フランス語、ドイツ語で食品名を検索可能

#### 意図と差別化ポイント
- **既存アプリとの違い**: ChatGPTやClaudeなどの汎用AIとは異なり、Carnivore専門家の主張に基づく情報のみを提供
- **専門家レベルのアドバイス**: 単なる情報提供ではなく、症状や問題に対して具体的な対処法を提示
- **Detective AI**: 日記と食生活のデータを分析して、症状の原因を特定（例：「昨日は頭痛がした」→「ナトリウムが不足していた可能性があります」）

### 3. 食品データベースと入力方法

#### どうやって試すか
1. **ホーム画面**の**「+ 食品を追加」**ボタンをタップ
2. **動物タブ**から選択（🐄牛肉、🐖豚肉、🐓鶏肉、🥚卵・乳製品、🧈脂質・調味料、🐟魚、🌱植物性食品）
3. **部位ボタン**をタップ（リブアイ、ブリスケット、サーロイン、肝臓、内臓など）
4. **量スライダー**で量を調整
5. **「🥩 [食品名]を追加」**ボタンをタップ

#### その他の入力方法
- **📷 バーコード読み取り**: ホーム画面の**「📷 バーコード読み取り」**ボタンをタップ → カメラでバーコードをスキャン → Open Food Facts APIで栄養素を取得
- **📷 写真から追加**: AI Speed Dialから**「📷 写真から追加」**を選択 → 写真を撮影 → AIが食品を識別
- **⭐ いつもの（My Foods）**: ホーム画面の**「⭐ いつもの」**タブから、過去に入力した食品をワンタップで追加（履歴リストの⭐ボタンからも追加可能）
- **📋 履歴**: ホーム画面の**「📋 履歴」**タブから、過去のログから食品を再追加
- **🍽️ レシピ**: ホーム画面の**「🍽️ レシピ」**ボタンをタップ → よく食べる組み合わせをレシピとして保存 → レシピから一括で食事記録

#### カスタム食品登録
1. **設定画面**（⚙️）→ **「カスタム食品登録」**をタップ
2. **食品名を入力** → **「AI推測」**ボタンをタップ → AIが栄養素を推測
3. **栄養素を確認・修正** → **「保存」**ボタンをタップ

#### 意図と差別化ポイント
- **既存アプリとの違い**: MyFitnessPalやLifesumは「検索」が主流だが、Primal Logicは「タブ切り替え」で3秒で入力完了
- **カーニボア特化**: カーニボアでよく食べる食品（リブアイ、ブリスケット、サーロイン、肝臓、内臓など）を優先表示
- **多様な入力方法**: バーコード読み取り、写真解析、履歴活用、レシピなど、様々な方法で入力可能

### 4. 違反検知とリカバリー

#### どうやって試すか
1. **植物性食品**を選択（🌱植物性食品タブ）
2. **部位ボタン**をタップ（大豆、豆腐、ほうれん草、ナッツ類、穀物など）
3. **量を調整**して追加
4. **ホーム画面**に**「⚠️ Avoid Zone（避けるべきもの）」**セクションが表示される
5. **抗栄養素**（フィチン酸、ポリフェノール、フラボノイド、シュウ酸、レクチン、サポニン、ゴイトロゲン、タンニンなど）の摂取量が表示される
6. **違反が検出されると**、自動的に**Recovery Protocol**が生成される
7. **Recovery Protocol画面**で、断食時間、推奨食品、サプリメントなどを確認
8. **「明日のログに追加」**ボタンをタップ → 翌日のログに自動追加

#### Recovery Protocolの内容
- **断食時間**: 違反タイプに応じて自動計算（例：糖質摂取 → 16時間断食）
- **推奨食品**: 脂質を増やす、魚を追加するなど
- **サプリメント**: 必要に応じて推奨
- **警告**: 注意すべき点を表示

#### 意図と差別化ポイント
- **既存アプリとの違い**: MyFitnessPalやLifesumは「違反検知」機能がないが、Primal Logicは「違反検知」と「リカバリー提案」を自動化
- **カーニボア基準**: 植物性食品や加工食品の摂取を自動検知し、抗栄養素の摂取量を追跡
- **自動リカバリー**: 違反検出時に自動的にリカバリープロトコルを生成し、翌日のログに自動追加

### 5. 履歴管理と統計

#### どうやって試すか
1. **ホーム画面**の**「📋 履歴」**タブをタップ
2. **過去のログ**が日付順（新しい順）に表示される
3. **日付をタップ** → 詳細が展開される（アコーディオン形式）
4. **食品をタップ** → **「再追加」**ボタンで今日のログに追加可能
5. **「📈 統計・グラフ」**ボタン（LabsScreenからもアクセス可能）をタップ
6. **栄養素トレンドグラフ**と**体重推移グラフ**が表示される
7. **期間選択**（今日、7日間、30日間、全期間）で期間を変更可能

#### 統計機能
- **栄養素トレンドグラフ**: タンパク質、脂質、亜鉛、マグネシウム、鉄、ビタミンB12、ナトリウムなどの推移をグラフで表示
- **体重推移グラフ**: 体重と体脂肪率の推移をグラフで表示
- **週間・月間サマリー**: 平均タンパク質、平均脂質、記録日数、違反率などを表示

#### 意図と差別化ポイント
- **既存アプリとの違い**: MyFitnessPalやLifesumは「カロリー」や「PFC比率」のグラフを表示するが、Primal Logicは「栄養素の充足度」と「体重推移」を重視
- **カーニボア基準**: カーニボアで重要な栄養素（タンパク質、脂質、亜鉛、マグネシウム、鉄、ビタミンB12、ナトリウムなど）の推移をグラフで表示
- **再追加機能**: 過去のログから食品を再追加可能（よく食べる組み合わせを素早く記録）

### 6. 習慣トラッカー（ストリーク機能）

#### どうやって試すか
1. **その他画面**（🧪）を開く
2. **「習慣トラッカー」**をタップ
3. **現在のストリーク**（連続記録日数）が表示される
4. **フェーズ（称号）**が表示される（Rookie、Carnivore、Hunter、Predator、Apex、Legend）
5. **次のフェーズまでの日数**が表示される

#### ストリークの計算方法
- **連続記録日数**: 違反日は除外して計算
- **最長連続日数**: 過去の最長連続日数を記録
- **フェーズ（称号）**: 
  - Rookie (0日)
  - Carnivore (7日)
  - Hunter (30日)
  - Predator (90日)
  - Apex (180日)
  - Legend (365日)

#### 意図と差別化ポイント
- **既存アプリとの違い**: MyFitnessPalやLifesumは「ストリーク機能」がないが、Primal Logicは「ストリーク機能」と「フェーズ（称号）システム」を提供
- **モチベーション向上**: 次のフェーズまでの日数表示で、モチベーションを維持
- **違反日の除外**: 違反日は除外して計算するため、カーニボアの実践日数を正確に記録

### 7. 日記機能

#### どうやって試すか
1. **その他画面**（🧪）を開く
2. **「日記」**をタップ
3. **体調、メンタル、身体能力**などを記録
4. **「保存」**ボタンをタップ
5. **過去の日記**を確認可能

#### Detective AIとの連携
- **日記と食生活のデータを分析**: 「なぜ調子が悪いの？」などの質問に対して、日記と食生活のデータを分析して原因を特定
- **因果関係の可視化**: 症状と食生活の因果関係を可視化

#### 意図と差別化ポイント
- **既存アプリとの違い**: MyFitnessPalやLifesumは「日記機能」がないが、Primal Logicは「日記機能」と「Detective AI」を提供
- **Detective AI**: 日記と食生活のデータを分析して、症状の原因を特定
- **因果関係の可視化**: 症状と食生活の因果関係を可視化することで、より効果的な対処法を提案

### 8. 多言語対応

#### どうやって試すか
1. **設定画面**（⚙️）を開く
2. **「言語設定」**をタップ
3. **言語を選択**（日本語、English、Français、Deutsch、中文）
4. **アプリ全体**が選択した言語に切り替わる

#### 対応言語
- **日本語**: 完全対応
- **English**: 完全対応
- **Français**: 完全対応
- **Deutsch**: 完全対応
- **中文**: 完全対応（日本語名を使用）

#### 意図と差別化ポイント
- **既存アプリとの違い**: MyFitnessPalやLifesumは「多言語対応」が限定的だが、Primal Logicは「5言語完全対応」
- **カーニボアコミュニティ**: カーニボアコミュニティは世界中に広がっているため、多言語対応は必須
- **食品名の多言語対応**: 食品名も多言語対応（日本語、英語、フランス語、ドイツ語）

### 9. データ管理

#### どうやって試すか
1. **設定画面**（⚙️）を開く
2. **「データ管理」**をタップ
3. **「データをエクスポート」**をタップ → JSON形式でダウンロード
4. **「データをインポート」**をタップ → JSON形式でアップロード
5. **「データを削除」**をタップ → 全てのデータを削除（取り消し不可）

#### GDPR対応
- **データエクスポート**: ユーザーが自分のデータをエクスポート可能
- **データ削除**: ユーザーが自分のデータを削除可能
- **プライバシーポリシー**: 設定画面からアクセス可能

#### 意図と差別化ポイント
- **既存アプリとの違い**: MyFitnessPalやLifesumは「データエクスポート」機能が限定的だが、Primal Logicは「完全なデータエクスポート」と「データ削除」を提供
- **GDPR対応**: ユーザーの権利を尊重し、データの完全なコントロールを提供
- **プライバシー重視**: ユーザーのプライバシーを最優先に考慮

---

## 差別化ポイントと意図

### 1. カーニボア基準に基づく栄養計算

#### 既存アプリとの違い
- **MyFitnessPal、Lifesum、Noom**: 「カロリー」や「PFC比率」を重視
- **Primal Logic**: 「栄養素の充足度」を重視

#### カーニボア基準の例
- **ビタミンC**: 目標値0mg（糖質ゼロ環境下では不要）
- **ナトリウム**: 目標値5000mg以上（低インスリン状態では高用量が必要）
- **マグネシウム**: 目標値600mg（土壌枯渇により肉のみでは不足しがち）
- **カリウム**: 目標値4500mg（ナトリウム摂取増に対応）

#### 動的目標値システム
- **100項目以上のプロファイル設定**: 性別、年齢、活動レベル、妊娠/授乳状態、ストレスレベル、睡眠時間、運動強度・頻度、甲状腺機能、太陽光暴露頻度、消化器系の問題、炎症レベル、メンタルヘルス状態、サプリメント摂取状況、アルコール・カフェイン摂取量、カーニボア開始日、体組成、代謝ストレス指標など
- **個人最適化**: プロファイル設定に基づいて、その日の摂取目標が自動変動

### 2. AI機能（専門家モード）

#### 既存アプリとの違い
- **ChatGPT、Claude**: 汎用AIで、情報の正確性が保証されない
- **Primal Logic**: Carnivore専門家の主張に基づく情報のみを提供

#### 専門家レベルのアドバイス
- **情報源**: Dr. Ken Berry、Dr. Shawn Baker、Dr. Paul Saladino、Dr. Anthony Chaffee、Dr. Bart Kay、Dr. Paul Masonなどの専門家の主張に基づく
- **論証スタイル**: 4ステップ論証（検証 → 脱構築 → 再構築 → 引用）で、誤解や批判に対して体系的に対応
- **Detective AI**: 日記と食生活のデータを分析して、症状の原因を特定

### 3. 違反検知とリカバリー

#### 既存アプリとの違い
- **MyFitnessPal、Lifesum**: 「違反検知」機能がない
- **Primal Logic**: 「違反検知」と「リカバリー提案」を自動化

#### 自動リカバリー
- **違反検出**: 植物性食品や加工食品の摂取を自動検知
- **抗栄養素の追跡**: フィチン酸、ポリフェノール、フラボノイド、シュウ酸、レクチン、サポニン、ゴイトロゲン、タンニンなどの摂取量を追跡
- **自動リカバリー**: 違反検出時に自動的にリカバリープロトコルを生成し、翌日のログに自動追加

### 4. 入力の簡単さ

#### 既存アプリとの違い
- **MyFitnessPal、Lifesum**: 「検索」が主流で、入力に時間がかかる
- **Primal Logic**: 「タブ切り替え」で3秒で入力完了

#### 多様な入力方法
- **タブ切り替え**: 動物タブから部位を選択
- **バーコード読み取り**: カメラでバーコードをスキャン
- **写真解析**: AIが食品を識別
- **履歴活用**: 過去のログから再追加
- **レシピ**: よく食べる組み合わせをレシピとして保存

### 5. 多言語対応

#### 既存アプリとの違い
- **MyFitnessPal、Lifesum**: 「多言語対応」が限定的
- **Primal Logic**: 「5言語完全対応」（日本語、英語、フランス語、ドイツ語、中国語）

#### カーニボアコミュニティ
- **世界中に広がるコミュニティ**: カーニボアコミュニティは世界中に広がっているため、多言語対応は必須
- **食品名の多言語対応**: 食品名も多言語対応（日本語、英語、フランス語、ドイツ語）

---

## 技術的な特徴

### カーニボア基準に基づく栄養計算

#### タンパク質
- 体重1kgあたり1.2-2.2g（活動レベルに応じて調整）
- 動物性タンパク質と植物性タンパク質を区別
- バイオアベイラビリティを考慮した有効タンパク質計算

#### 脂質
- タンパク質の1.5-2倍（高脂質推奨）
- オメガ3/6比率を追跡
- 炎症スコアの計算

#### 炭水化物
- 実質ゼロ（植物性食品は検知対象）
- 正味炭水化物の計算
- 食物繊維の追跡

#### 微量栄養素
- カーニボア医者の推奨値に基づく
- 動的必要量の計算（性別、年齢、活動レベル等を考慮）

### 科学的根拠の重視
- カーニボア専門家の主張に基づく栄養目標値
- エビデンスベースの機能設計
- 推測ではなく、確立された知見を優先

---

## 現在の状態

### 実装完了機能
- ✅ 技術仕様書に記載されている全機能を実装完了
- ✅ エラーハンドリングの統一
- ✅ 型安全性の改善
- ✅ コード品質の向上（リンターエラーなし）
- ✅ 多言語対応（日本語、英語、フランス語、ドイツ語、中国語）
- ✅ バーコード読み取り機能
- ✅ 写真解析機能（Gemini Vision API）
- ✅ レシピ登録・保存機能
- ✅ データインポート/エクスポート機能
- ✅ 体重・体脂肪率記録機能
- ✅ グラフ表示機能（栄養素トレンド、体重推移）
- ✅ 習慣トラッカー（ストリーク機能）
- ✅ 日記機能
- ✅ AIチャット機能（専門家モード、プロフィール連携、過去の食事記録参照）
- ✅ 音声入力機能
- ✅ カスタム食品登録機能
- ✅ 栄養ゲージの💡アイコン（全ての栄養ゲージに表示、不足時の自動ヒント生成、影響要因の表示）

### リリース準備状況
- ✅ 機能実装: 完了
- ✅ デバッグモード: 実装完了（デバッグデータ生成機能あり）
- ⚠️ 動作確認: 一部機能は動作確認済み、全ての機能の動作確認は未実施（`RELEASE_CHECKLIST.md`参照）
- ⚠️ UI/UX: 基本的な実装は完了、細かい調整の余地あり
- ✅ 栄養ゲージの💡アイコン: 全ての栄養ゲージに💡アイコンと説明を追加（不足時の自動ヒント生成機能あり、食品追加以外の画面でも表示）

---

## ご意見・ご指摘のお願い

以下のご意見をいただければ幸いです：

1. **栄養目標値の妥当性**: カーニボア基準として適切か
2. **機能の追加提案**: 必要だと思われる機能は何か
3. **科学的根拠の正確性**: 表示されている情報に誤りがないか
4. **ユーザー体験**: 実際のカーニボア実践者にとって有用か
5. **リリース準備**: 現在の状態でリリース可能か、追加で必要な機能は何か

---

## 今後の展開

### リリース前
- 動作確認の実施（`RELEASE_CHECKLIST.md`参照）
- UI/UXの最終調整
- 広告素材の準備

### リリース後
- ユーザーフィードバックに基づく改善
- 機能の追加・拡張
- 専門家コミュニティとの連携強化

---

**Primal Logic開発チーム**

このアプリは、カーニボアコミュニティの発展と、より多くの人々が健康的なライフスタイルを実現できることを目指して開発されています。
