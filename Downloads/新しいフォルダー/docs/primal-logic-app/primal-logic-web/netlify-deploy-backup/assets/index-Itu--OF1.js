const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/debugData-DsCn4NmK.js","assets/chart-vendor-BKK2UjWf.js","assets/react-vendor-OvXVS5lI.js","assets/bioTuner-C3DdO7PQ.js","assets/HistoryScreen-DdZ8W0rk.js","assets/HistoryScreen-BBkXSXiS.css","assets/UserSettingsScreen-zG91x_Z3.js","assets/StreakTrackerScreen-CMmrvWmi.js","assets/StreakTrackerScreen-BwKq13ED.css","assets/CommunityScreen-DTvX5VNg.js","assets/CommunityScreen-BHa5yTrU.css","assets/DiaryScreen-C9Oyr79O.js","assets/DiaryScreen-0i8AGIwU.css","assets/StatsScreen-B3c9VGLz.js","assets/StatsScreen-Cp2YCN1o.css","assets/PrivacyPolicyScreen-Cs220wZL.js","assets/PrivacyPolicyScreen-DkKoK-Vb.css","assets/TermsOfServiceScreen-D04q7O20.js","assets/TermsOfServiceScreen-BoxcJVt7.css","assets/DataExportScreen-ChM2BcRL.js","assets/DataExportScreen-1HR5Np7C.css","assets/DataImportScreen-hUe6OqVk.js","assets/DataImportScreen-DIr1i-Ie.css","assets/DataDeleteScreen-BTD58bhD.js","assets/DataDeleteScreen-C4nCJP0o.css","assets/FeedbackScreen-DPobDizf.js","assets/LanguageSettingsScreen-Cpw7xOlZ.js","assets/LanguageSettingsScreen-DvYmnS9U.css","assets/SaltSettingsScreen-D2AVzy3f.js","assets/SaltSettingsScreen-BGU2wm5C.css","assets/CarbTargetSettingsScreen-DsZ9DdHz.js","assets/CarbTargetSettingsScreen-CCD2YNRT.css","assets/NutrientTargetCustomizationScreen-CLi3qABK.js","assets/NutrientTargetCustomizationScreen-B0G_HFAR.css","assets/GiftScreen-CMQDxlAT.js","assets/firebaseClient-DOE3UPcM.js","assets/GiftScreen-DEXgcCac.css","assets/ShopScreen-TdwG3xHk.js","assets/ShopScreen-DTL5l_B-.css","assets/RecipeScreen-DwStfOdi.js","assets/RecipeScreen-SaGk_dHY.css","assets/HealthDeviceScreen-CspJRacG.js","assets/HealthDeviceScreen-4ZZ1NvHe.css","assets/InputScreen-BVVzuP1d.js","assets/InputScreen-DVV4ZGUA.css","assets/PaywallScreen-Bt-c4-Ul.js","assets/PaywallScreen-BCOMjATT.css","assets/IfThenRulesScreen-Cfm5ZKBW.js"])))=>i.map(i=>d[i]);
import{r as f}from"./chart-vendor-BKK2UjWf.js";import{r as Wh,a as Jh}from"./react-vendor-OvXVS5lI.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))c(v);new MutationObserver(v=>{for(const p of v)if(p.type==="childList")for(const m of p.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function u(v){const p={};return v.integrity&&(p.integrity=v.integrity),v.referrerPolicy&&(p.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?p.credentials="include":v.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function c(v){if(v.ep)return;v.ep=!0;const p=u(v);fetch(v.href,p)}})();var Vc={exports:{}},Po={};var Jf;function $h(){if(Jf)return Po;Jf=1;var l=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function u(c,v,p){var m=null;if(p!==void 0&&(m=""+p),v.key!==void 0&&(m=""+v.key),"key"in v){p={};for(var y in v)y!=="key"&&(p[y]=v[y])}else p=v;return v=p.ref,{$$typeof:l,type:c,key:m,ref:v!==void 0?v:null,props:p}}return Po.Fragment=o,Po.jsx=u,Po.jsxs=u,Po}var $f;function e0(){return $f||($f=1,Vc.exports=$h()),Vc.exports}var i=e0(),Gc={exports:{}},Yo={},qc={exports:{}},Kc={};var eg;function t0(){return eg||(eg=1,(function(l){function o(D,te){var X=D.length;D.push(te);e:for(;0<X;){var ae=X-1>>>1,se=D[ae];if(0<v(se,te))D[ae]=te,D[X]=se,X=ae;else break e}}function u(D){return D.length===0?null:D[0]}function c(D){if(D.length===0)return null;var te=D[0],X=D.pop();if(X!==te){D[0]=X;e:for(var ae=0,se=D.length,fe=se>>>1;ae<fe;){var L=2*(ae+1)-1,Z=D[L],K=L+1,Ke=D[K];if(0>v(Z,X))K<se&&0>v(Ke,Z)?(D[ae]=Ke,D[K]=X,ae=K):(D[ae]=Z,D[L]=X,ae=L);else if(K<se&&0>v(Ke,X))D[ae]=Ke,D[K]=X,ae=K;else break e}}return te}function v(D,te){var X=D.sortIndex-te.sortIndex;return X!==0?X:D.id-te.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;l.unstable_now=function(){return p.now()}}else{var m=Date,y=m.now();l.unstable_now=function(){return m.now()-y}}var S=[],x=[],b=1,g=null,k=3,T=!1,O=!1,I=!1,ie=!1,q=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function re(D){for(var te=u(x);te!==null;){if(te.callback===null)c(x);else if(te.startTime<=D)c(x),te.sortIndex=te.expirationTime,o(S,te);else break;te=u(x)}}function pe(D){if(I=!1,re(D),!O)if(u(S)!==null)O=!0,ce||(ce=!0,be());else{var te=u(x);te!==null&&me(pe,te.startTime-D)}}var ce=!1,Ne=-1,V=5,ve=-1;function he(){return ie?!0:!(l.unstable_now()-ve<V)}function M(){if(ie=!1,ce){var D=l.unstable_now();ve=D;var te=!0;try{e:{O=!1,I&&(I=!1,B(Ne),Ne=-1),T=!0;var X=k;try{t:{for(re(D),g=u(S);g!==null&&!(g.expirationTime>D&&he());){var ae=g.callback;if(typeof ae=="function"){g.callback=null,k=g.priorityLevel;var se=ae(g.expirationTime<=D);if(D=l.unstable_now(),typeof se=="function"){g.callback=se,re(D),te=!0;break t}g===u(S)&&c(S),re(D)}else c(S);g=u(S)}if(g!==null)te=!0;else{var fe=u(x);fe!==null&&me(pe,fe.startTime-D),te=!1}}break e}finally{g=null,k=X,T=!1}te=void 0}}finally{te?be():ce=!1}}}var be;if(typeof $=="function")be=function(){$(M)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,W=z.port2;z.port1.onmessage=M,be=function(){W.postMessage(null)}}else be=function(){q(M,0)};function me(D,te){Ne=q(function(){D(l.unstable_now())},te)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(D){D.callback=null},l.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<D?Math.floor(1e3/D):5},l.unstable_getCurrentPriorityLevel=function(){return k},l.unstable_next=function(D){switch(k){case 1:case 2:case 3:var te=3;break;default:te=k}var X=k;k=te;try{return D()}finally{k=X}},l.unstable_requestPaint=function(){ie=!0},l.unstable_runWithPriority=function(D,te){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var X=k;k=D;try{return te()}finally{k=X}},l.unstable_scheduleCallback=function(D,te,X){var ae=l.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ae+X:ae):X=ae,D){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=X+se,D={id:b++,callback:te,priorityLevel:D,startTime:X,expirationTime:se,sortIndex:-1},X>ae?(D.sortIndex=X,o(x,D),u(S)===null&&D===u(x)&&(I?(B(Ne),Ne=-1):I=!0,me(pe,X-ae))):(D.sortIndex=se,o(S,D),O||T||(O=!0,ce||(ce=!0,be()))),D},l.unstable_shouldYield=he,l.unstable_wrapCallback=function(D){var te=k;return function(){var X=k;k=te;try{return D.apply(this,arguments)}finally{k=X}}}})(Kc)),Kc}var tg;function n0(){return tg||(tg=1,qc.exports=t0()),qc.exports}var ng;function i0(){if(ng)return Yo;ng=1;var l=n0(),o=Wh(),u=Jh();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function v(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function p(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S(e){if(p(e)!==e)throw Error(c(188))}function x(e){var t=e.alternate;if(!t){if(t=p(e),t===null)throw Error(c(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return S(s),e;if(r===a)return S(s),t;r=r.sibling}throw Error(c(188))}if(n.return!==a.return)n=s,a=r;else{for(var d=!1,h=s.child;h;){if(h===n){d=!0,n=s,a=r;break}if(h===a){d=!0,a=s,n=r;break}h=h.sibling}if(!d){for(h=r.child;h;){if(h===n){d=!0,n=r,a=s;break}if(h===a){d=!0,a=r,n=s;break}h=h.sibling}if(!d)throw Error(c(189))}}if(n.alternate!==a)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var g=Object.assign,k=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),$=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),ve=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function be(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var z=Symbol.for("react.client.reference");function W(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===z?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case I:return"Fragment";case q:return"Profiler";case ie:return"StrictMode";case pe:return"Suspense";case ce:return"SuspenseList";case ve:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case $:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case re:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ne:return t=e.displayName||null,t!==null?t:W(e.type)||"Memo";case V:t=e._payload,e=e._init;try{return W(e(t))}catch{}}return null}var me=Array.isArray,D=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ae=[],se=-1;function fe(e){return{current:e}}function L(e){0>se||(e.current=ae[se],ae[se]=null,se--)}function Z(e,t){se++,ae[se]=e.current,e.current=t}var K=fe(null),Ke=fe(null),bt=fe(null),Te=fe(null);function j(e,t){switch(Z(bt,t),Z(Ke,e),Z(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Sf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Sf(t),e=wf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(K),Z(K,e)}function H(){L(K),L(Ke),L(bt)}function Tt(e){e.memoizedState!==null&&Z(Te,e);var t=K.current,n=wf(t,e.type);t!==n&&(Z(Ke,e),Z(K,n))}function Mt(e){Ke.current===e&&(L(K),L(Ke)),Te.current===e&&(L(Te),Vo._currentValue=X)}var Ct,On;function ee(e){if(Ct===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ct=t&&t[1]||"",On=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ct+e+On}var ue=!1;function Ce(e,t){if(!e||ue)return"";ue=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(U){var F=U}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(U){F=U}e.call(Q.prototype)}}else{try{throw Error()}catch(U){F=U}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(U){if(U&&F&&typeof U.stack=="string")return[U.stack,F.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),d=r[0],h=r[1];if(d&&h){var C=d.split(`
`),R=h.split(`
`);for(s=a=0;a<C.length&&!C[a].includes("DetermineComponentFrameRoot");)a++;for(;s<R.length&&!R[s].includes("DetermineComponentFrameRoot");)s++;if(a===C.length||s===R.length)for(a=C.length-1,s=R.length-1;1<=a&&0<=s&&C[a]!==R[s];)s--;for(;1<=a&&0<=s;a--,s--)if(C[a]!==R[s]){if(a!==1||s!==1)do if(a--,s--,0>s||C[a]!==R[s]){var G=`
`+C[a].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=a&&0<=s);break}}}finally{ue=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ee(n):""}function de(e,t){switch(e.tag){case 26:case 27:case 5:return ee(e.type);case 16:return ee("Lazy");case 13:return e.child!==t&&t!==null?ee("Suspense Fallback"):ee("Suspense");case 19:return ee("SuspenseList");case 0:case 15:return Ce(e.type,!1);case 11:return Ce(e.type.render,!1);case 1:return Ce(e.type,!0);case 31:return ee("Activity");default:return""}}function ht(e){try{var t="",n=null;do t+=de(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var ut=Object.prototype.hasOwnProperty,ot=l.unstable_scheduleCallback,Et=l.unstable_cancelCallback,rt=l.unstable_shouldYield,We=l.unstable_requestPaint,_t=l.unstable_now,Qi=l.unstable_getCurrentPriorityLevel,vi=l.unstable_ImmediatePriority,Wn=l.unstable_UserBlockingPriority,Jt=l.unstable_NormalPriority,xn=l.unstable_LowPriority,Zt=l.unstable_IdlePriority,cn=l.log,Jn=l.unstable_setDisableYieldValue,Qt=null,dt=null;function Ot(e){if(typeof cn=="function"&&Jn(e),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(Qt,e)}catch{}}var ct=Math.clz32?Math.clz32:wn,Sn=Math.log,It=Math.LN2;function wn(e){return e>>>=0,e===0?32:31-(Sn(e)/It|0)|0}var Kn=256,Y=262144,ne=4194304;function un(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function jn(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var s=0,r=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var h=a&134217727;return h!==0?(a=h&~r,a!==0?s=un(a):(d&=h,d!==0?s=un(d):n||(n=h&~e,n!==0&&(s=un(n))))):(h=a&~r,h!==0?s=un(h):d!==0?s=un(d):n||(n=a&~e,n!==0&&(s=un(n)))),s===0?0:t!==0&&t!==s&&(t&r)===0&&(r=s&-s,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:s}function gt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function dn(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ht(){var e=ne;return ne<<=1,(ne&62914560)===0&&(ne=4194304),e}function w(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ge(e,t,n,a,s,r){var d=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var h=e.entanglements,C=e.expirationTimes,R=e.hiddenUpdates;for(n=d&~n;0<n;){var G=31-ct(n),Q=1<<G;h[G]=0,C[G]=-1;var F=R[G];if(F!==null)for(R[G]=null,G=0;G<F.length;G++){var U=F[G];U!==null&&(U.lane&=-536870913)}n&=~Q}a!==0&&Pe(e,a,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(d&~t))}function Pe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-ct(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function xe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-ct(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}function Oe(e,t){var n=t&-t;return n=(n&42)!==0?1:Ee(n),(n&(e.suspendedLanes|t))!==0?0:n}function Ee(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function st(){var e=te.p;return e!==0?e:(e=window.event,e===void 0?32:Kf(e.type))}function $t(e,t){var n=te.p;try{return te.p=e,t()}finally{te.p=n}}var Ut=Math.random().toString(36).slice(2),_="__reactFiber$"+Ut,J="__reactProps$"+Ut,oe="__reactContainer$"+Ut,De="__reactEvents$"+Ut,we="__reactListeners$"+Ut,le="__reactHandles$"+Ut,ke="__reactResources$"+Ut,Ze="__reactMarker$"+Ut;function Yt(e){delete e[_],delete e[J],delete e[De],delete e[we],delete e[le]}function Vt(e){var t=e[_];if(t)return t;for(var n=e.parentNode;n;){if(t=n[oe]||n[_]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zf(e);e!==null;){if(n=e[_])return n;e=zf(e)}return t}e=n,n=e.parentNode}return null}function Ie(e){if(e=e[_]||e[oe]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ve(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function kt(e){var t=e[ke];return t||(t=e[ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Je(e){e[Ze]=!0}var Xt=new Set,Tn={};function In(e,t){Pn(e,t),Pn(e+"Capture",t)}function Pn(e,t){for(Tn[e]=t,e=0;e<t.length;e++)Xt.add(t[e])}var es=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ts={},du={};function Gg(e){return ut.call(du,e)?!0:ut.call(ts,e)?!1:es.test(e)?du[e]=!0:(ts[e]=!0,!1)}function ns(e,t,n){if(Gg(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function is(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function $n(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qg(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(d){n=""+d,r.call(this,d)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(d){n=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bl(e){if(!e._valueTracker){var t=mu(e)?"checked":"value";e._valueTracker=qg(e,t,""+e[t])}}function fu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=mu(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function as(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Kg=/[\n"\\]/g;function _n(e){return e.replace(Kg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Fl(e,t,n,a,s,r,d,h){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Cn(t)):e.value!==""+Cn(t)&&(e.value=""+Cn(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?Ll(e,d,Cn(t)):n!=null?Ll(e,d,Cn(n)):a!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.name=""+Cn(h):e.removeAttribute("name")}function gu(e,t,n,a,s,r,d,h){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Bl(e);return}n=n!=null?""+Cn(n):"",t=t!=null?""+Cn(t):n,h||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=h?e.checked:!!a,e.defaultChecked=!!a,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),Bl(e)}function Ll(e,t,n){t==="number"&&as(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function va(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Cn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function pu(e,t,n){if(t!=null&&(t=""+Cn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Cn(n):""}function hu(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(c(92));if(me(a)){if(1<a.length)throw Error(c(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Cn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Bl(e)}function ba(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Pg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vu(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Pg.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function bu(e,t,n){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&n[s]!==a&&vu(e,s,a)}else for(var r in t)t.hasOwnProperty(r)&&vu(e,r,t[r])}function Ol(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function os(e){return Zg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ei(){}var Il=null;function Hl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ya=null,xa=null;function yu(e){var t=Ie(e);if(t&&(e=t.stateNode)){var n=e[J]||null;e:switch(e=t.stateNode,t.type){case"input":if(Fl(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+_n(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=a[J]||null;if(!s)throw Error(c(90));Fl(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&fu(a)}break e;case"textarea":pu(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&va(e,!!n.multiple,t,!1)}}}var Ul=!1;function xu(e,t,n){if(Ul)return e(t,n);Ul=!0;try{var a=e(t);return a}finally{if(Ul=!1,(ya!==null||xa!==null)&&(Ps(),ya&&(t=ya,e=xa,xa=ya=null,yu(t),e)))for(t=0;t<e.length;t++)yu(e[t])}}function ao(e,t){var n=e.stateNode;if(n===null)return null;var a=n[J]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(c(231,t,typeof n));return n}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vl=!1;if(ti)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{Vl=!1}var bi=null,Gl=null,ss=null;function Su(){if(ss)return ss;var e,t=Gl,n=t.length,a,s="value"in bi?bi.value:bi.textContent,r=s.length;for(e=0;e<n&&t[e]===s[e];e++);var d=n-e;for(a=1;a<=d&&t[n-a]===s[r-a];a++);return ss=s.slice(e,1<a?1-a:void 0)}function ls(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rs(){return!0}function wu(){return!1}function en(e){function t(n,a,s,r,d){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=r,this.target=d,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(n=e[h],this[h]=n?n(r):r[h]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?rs:wu,this.isPropagationStopped=wu,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),t}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=en(Xi),so=g({},Xi,{view:0,detail:0}),Qg=en(so),ql,Kl,lo,us=g({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lo&&(lo&&e.type==="mousemove"?(ql=e.screenX-lo.screenX,Kl=e.screenY-lo.screenY):Kl=ql=0,lo=e),ql)},movementY:function(e){return"movementY"in e?e.movementY:Kl}}),ju=en(us),Xg=g({},us,{dataTransfer:0}),Wg=en(Xg),Jg=g({},so,{relatedTarget:0}),Pl=en(Jg),$g=g({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),ep=en($g),tp=g({},Xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),np=en(tp),ip=g({},Xi,{data:0}),Tu=en(ip),ap={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},op={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sp[e])?!!t[e]:!1}function Yl(){return lp}var rp=g({},so,{key:function(e){if(e.key){var t=ap[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ls(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?op[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yl,charCode:function(e){return e.type==="keypress"?ls(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ls(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cp=en(rp),up=g({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cu=en(up),dp=g({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yl}),mp=en(dp),fp=g({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),gp=en(fp),pp=g({},us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hp=en(pp),vp=g({},Xi,{newState:0,oldState:0}),bp=en(vp),yp=[9,13,27,32],Zl=ti&&"CompositionEvent"in window,ro=null;ti&&"documentMode"in document&&(ro=document.documentMode);var xp=ti&&"TextEvent"in window&&!ro,_u=ti&&(!Zl||ro&&8<ro&&11>=ro),ku=" ",Nu=!1;function zu(e,t){switch(e){case"keyup":return yp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Du(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sa=!1;function Sp(e,t){switch(e){case"compositionend":return Du(t);case"keypress":return t.which!==32?null:(Nu=!0,ku);case"textInput":return e=t.data,e===ku&&Nu?null:e;default:return null}}function wp(e,t){if(Sa)return e==="compositionend"||!Zl&&zu(e,t)?(e=Su(),ss=Gl=bi=null,Sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _u&&t.locale!=="ko"?null:t.data;default:return null}}var jp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Au(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jp[e.type]:t==="textarea"}function Mu(e,t,n,a){ya?xa?xa.push(a):xa=[a]:ya=a,t=$s(t,"onChange"),0<t.length&&(n=new cs("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var co=null,uo=null;function Tp(e){pf(e,0)}function ds(e){var t=Ve(e);if(fu(t))return e}function Eu(e,t){if(e==="change")return t}var Ru=!1;if(ti){var Ql;if(ti){var Xl="oninput"in document;if(!Xl){var Bu=document.createElement("div");Bu.setAttribute("oninput","return;"),Xl=typeof Bu.oninput=="function"}Ql=Xl}else Ql=!1;Ru=Ql&&(!document.documentMode||9<document.documentMode)}function Fu(){co&&(co.detachEvent("onpropertychange",Lu),uo=co=null)}function Lu(e){if(e.propertyName==="value"&&ds(uo)){var t=[];Mu(t,uo,e,Hl(e)),xu(Tp,t)}}function Cp(e,t,n){e==="focusin"?(Fu(),co=t,uo=n,co.attachEvent("onpropertychange",Lu)):e==="focusout"&&Fu()}function _p(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ds(uo)}function kp(e,t){if(e==="click")return ds(t)}function Np(e,t){if(e==="input"||e==="change")return ds(t)}function zp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mn=typeof Object.is=="function"?Object.is:zp;function mo(e,t){if(mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!ut.call(t,s)||!mn(e[s],t[s]))return!1}return!0}function Ou(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Iu(e,t){var n=Ou(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ou(n)}}function Hu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=as(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=as(e.document)}return t}function Wl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Dp=ti&&"documentMode"in document&&11>=document.documentMode,wa=null,Jl=null,fo=null,$l=!1;function Vu(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$l||wa==null||wa!==as(a)||(a=wa,"selectionStart"in a&&Wl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),fo&&mo(fo,a)||(fo=a,a=$s(Jl,"onSelect"),0<a.length&&(t=new cs("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=wa)))}function Wi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ja={animationend:Wi("Animation","AnimationEnd"),animationiteration:Wi("Animation","AnimationIteration"),animationstart:Wi("Animation","AnimationStart"),transitionrun:Wi("Transition","TransitionRun"),transitionstart:Wi("Transition","TransitionStart"),transitioncancel:Wi("Transition","TransitionCancel"),transitionend:Wi("Transition","TransitionEnd")},er={},Gu={};ti&&(Gu=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Ji(e){if(er[e])return er[e];if(!ja[e])return e;var t=ja[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Gu)return er[e]=t[n];return e}var qu=Ji("animationend"),Ku=Ji("animationiteration"),Pu=Ji("animationstart"),Ap=Ji("transitionrun"),Mp=Ji("transitionstart"),Ep=Ji("transitioncancel"),Yu=Ji("transitionend"),Zu=new Map,tr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tr.push("scrollEnd");function Hn(e,t){Zu.set(e,t),In(t,[e])}var ms=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kn=[],Ta=0,nr=0;function fs(){for(var e=Ta,t=nr=Ta=0;t<e;){var n=kn[t];kn[t++]=null;var a=kn[t];kn[t++]=null;var s=kn[t];kn[t++]=null;var r=kn[t];if(kn[t++]=null,a!==null&&s!==null){var d=a.pending;d===null?s.next=s:(s.next=d.next,d.next=s),a.pending=s}r!==0&&Qu(n,s,r)}}function gs(e,t,n,a){kn[Ta++]=e,kn[Ta++]=t,kn[Ta++]=n,kn[Ta++]=a,nr|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function ir(e,t,n,a){return gs(e,t,n,a),ps(e)}function $i(e,t){return gs(e,null,null,t),ps(e)}function Qu(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var s=!1,r=e.return;r!==null;)r.childLanes|=n,a=r.alternate,a!==null&&(a.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-ct(n),e=r.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=n|536870912),r):null}function ps(e){if(50<Bo)throw Bo=0,mc=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ca={};function Rp(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,n,a){return new Rp(e,t,n,a)}function ar(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ni(e,t){var n=e.alternate;return n===null?(n=fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Xu(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function hs(e,t,n,a,s,r){var d=0;if(a=e,typeof e=="function")ar(e)&&(d=1);else if(typeof e=="string")d=Ih(e,n,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ve:return e=fn(31,n,t,s),e.elementType=ve,e.lanes=r,e;case I:return ea(n.children,s,r,t);case ie:d=8,s|=24;break;case q:return e=fn(12,n,t,s|2),e.elementType=q,e.lanes=r,e;case pe:return e=fn(13,n,t,s),e.elementType=pe,e.lanes=r,e;case ce:return e=fn(19,n,t,s),e.elementType=ce,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:d=10;break e;case B:d=9;break e;case re:d=11;break e;case Ne:d=14;break e;case V:d=16,a=null;break e}d=29,n=Error(c(130,e===null?"null":typeof e,"")),a=null}return t=fn(d,n,t,s),t.elementType=e,t.type=a,t.lanes=r,t}function ea(e,t,n,a){return e=fn(7,e,a,t),e.lanes=n,e}function or(e,t,n){return e=fn(6,e,null,t),e.lanes=n,e}function Wu(e){var t=fn(18,null,null,0);return t.stateNode=e,t}function sr(e,t,n){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ju=new WeakMap;function Nn(e,t){if(typeof e=="object"&&e!==null){var n=Ju.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ht(t)},Ju.set(e,t),t)}return{value:e,source:t,stack:ht(t)}}var _a=[],ka=0,vs=null,go=0,zn=[],Dn=0,yi=null,Yn=1,Zn="";function ii(e,t){_a[ka++]=go,_a[ka++]=vs,vs=e,go=t}function $u(e,t,n){zn[Dn++]=Yn,zn[Dn++]=Zn,zn[Dn++]=yi,yi=e;var a=Yn;e=Zn;var s=32-ct(a)-1;a&=~(1<<s),n+=1;var r=32-ct(t)+s;if(30<r){var d=s-s%5;r=(a&(1<<d)-1).toString(32),a>>=d,s-=d,Yn=1<<32-ct(t)+s|n<<s|a,Zn=r+e}else Yn=1<<r|n<<s|a,Zn=e}function lr(e){e.return!==null&&(ii(e,1),$u(e,1,0))}function rr(e){for(;e===vs;)vs=_a[--ka],_a[ka]=null,go=_a[--ka],_a[ka]=null;for(;e===yi;)yi=zn[--Dn],zn[Dn]=null,Zn=zn[--Dn],zn[Dn]=null,Yn=zn[--Dn],zn[Dn]=null}function ed(e,t){zn[Dn++]=Yn,zn[Dn++]=Zn,zn[Dn++]=yi,Yn=t.id,Zn=t.overflow,yi=e}var Gt=null,mt=null,Ye=!1,xi=null,An=!1,cr=Error(c(519));function Si(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw po(Nn(t,e)),cr}function td(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[_]=e,t[J]=a,n){case"dialog":Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":case"embed":Ue("load",t);break;case"video":case"audio":for(n=0;n<Lo.length;n++)Ue(Lo[n],t);break;case"source":Ue("error",t);break;case"img":case"image":case"link":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"input":Ue("invalid",t),gu(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ue("invalid",t);break;case"textarea":Ue("invalid",t),hu(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||yf(t.textContent,n)?(a.popover!=null&&(Ue("beforetoggle",t),Ue("toggle",t)),a.onScroll!=null&&Ue("scroll",t),a.onScrollEnd!=null&&Ue("scrollend",t),a.onClick!=null&&(t.onclick=ei),t=!0):t=!1,t||Si(e,!0)}function nd(e){for(Gt=e.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:An=!1;return;case 27:case 3:An=!0;return;default:Gt=Gt.return}}function Na(e){if(e!==Gt)return!1;if(!Ye)return nd(e),Ye=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||kc(e.type,e.memoizedProps)),n=!n),n&&mt&&Si(e),nd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));mt=Nf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));mt=Nf(e)}else t===27?(t=mt,Bi(e.type)?(e=Mc,Mc=null,mt=e):mt=t):mt=Gt?En(e.stateNode.nextSibling):null;return!0}function ta(){mt=Gt=null,Ye=!1}function ur(){var e=xi;return e!==null&&(on===null?on=e:on.push.apply(on,e),xi=null),e}function po(e){xi===null?xi=[e]:xi.push(e)}var dr=fe(null),na=null,ai=null;function wi(e,t,n){Z(dr,t._currentValue),t._currentValue=n}function oi(e){e._currentValue=dr.current,L(dr)}function mr(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function fr(e,t,n,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var d=s.child;r=r.firstContext;e:for(;r!==null;){var h=r;r=s;for(var C=0;C<t.length;C++)if(h.context===t[C]){r.lanes|=n,h=r.alternate,h!==null&&(h.lanes|=n),mr(r.return,n,e),a||(d=null);break e}r=h.next}}else if(s.tag===18){if(d=s.return,d===null)throw Error(c(341));d.lanes|=n,r=d.alternate,r!==null&&(r.lanes|=n),mr(d,n,e),d=null}else d=s.child;if(d!==null)d.return=s;else for(d=s;d!==null;){if(d===e){d=null;break}if(s=d.sibling,s!==null){s.return=d.return,d=s;break}d=d.return}s=d}}function za(e,t,n,a){e=null;for(var s=t,r=!1;s!==null;){if(!r){if((s.flags&524288)!==0)r=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var d=s.alternate;if(d===null)throw Error(c(387));if(d=d.memoizedProps,d!==null){var h=s.type;mn(s.pendingProps.value,d.value)||(e!==null?e.push(h):e=[h])}}else if(s===Te.current){if(d=s.alternate,d===null)throw Error(c(387));d.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Vo):e=[Vo])}s=s.return}e!==null&&fr(t,e,n,a),t.flags|=262144}function bs(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ia(e){na=e,ai=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qt(e){return id(na,e)}function ys(e,t){return na===null&&ia(e),id(e,t)}function id(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ai===null){if(e===null)throw Error(c(308));ai=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ai=ai.next=t;return n}var Bp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Fp=l.unstable_scheduleCallback,Lp=l.unstable_NormalPriority,Nt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gr(){return{controller:new Bp,data:new Map,refCount:0}}function ho(e){e.refCount--,e.refCount===0&&Fp(Lp,function(){e.controller.abort()})}var vo=null,pr=0,Da=0,Aa=null;function Op(e,t){if(vo===null){var n=vo=[];pr=0,Da=bc(),Aa={status:"pending",value:void 0,then:function(a){n.push(a)}}}return pr++,t.then(ad,ad),t}function ad(){if(--pr===0&&vo!==null){Aa!==null&&(Aa.status="fulfilled");var e=vo;vo=null,Da=0,Aa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ip(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),a}var od=D.S;D.S=function(e,t){Vm=_t(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Op(e,t),od!==null&&od(e,t)};var aa=fe(null);function hr(){var e=aa.current;return e!==null?e:lt.pooledCache}function xs(e,t){t===null?Z(aa,aa.current):Z(aa,t.pool)}function sd(){var e=hr();return e===null?null:{parent:Nt._currentValue,pool:e}}var Ma=Error(c(460)),vr=Error(c(474)),Ss=Error(c(542)),ws={then:function(){}};function ld(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ei,ei),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ud(e),e;default:if(typeof t.status=="string")t.then(ei,ei);else{if(e=lt,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ud(e),e}throw sa=t,Ma}}function oa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(sa=n,Ma):n}}var sa=null;function cd(){if(sa===null)throw Error(c(459));var e=sa;return sa=null,e}function ud(e){if(e===Ma||e===Ss)throw Error(c(483))}var Ea=null,bo=0;function js(e){var t=bo;return bo+=1,Ea===null&&(Ea=[]),rd(Ea,e,t)}function yo(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ts(e,t){throw t.$$typeof===k?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function dd(e){function t(A,N){if(e){var E=A.deletions;E===null?(A.deletions=[N],A.flags|=16):E.push(N)}}function n(A,N){if(!e)return null;for(;N!==null;)t(A,N),N=N.sibling;return null}function a(A){for(var N=new Map;A!==null;)A.key!==null?N.set(A.key,A):N.set(A.index,A),A=A.sibling;return N}function s(A,N){return A=ni(A,N),A.index=0,A.sibling=null,A}function r(A,N,E){return A.index=E,e?(E=A.alternate,E!==null?(E=E.index,E<N?(A.flags|=67108866,N):E):(A.flags|=67108866,N)):(A.flags|=1048576,N)}function d(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function h(A,N,E,P){return N===null||N.tag!==6?(N=or(E,A.mode,P),N.return=A,N):(N=s(N,E),N.return=A,N)}function C(A,N,E,P){var _e=E.type;return _e===I?G(A,N,E.props.children,P,E.key):N!==null&&(N.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===V&&oa(_e)===N.type)?(N=s(N,E.props),yo(N,E),N.return=A,N):(N=hs(E.type,E.key,E.props,null,A.mode,P),yo(N,E),N.return=A,N)}function R(A,N,E,P){return N===null||N.tag!==4||N.stateNode.containerInfo!==E.containerInfo||N.stateNode.implementation!==E.implementation?(N=sr(E,A.mode,P),N.return=A,N):(N=s(N,E.children||[]),N.return=A,N)}function G(A,N,E,P,_e){return N===null||N.tag!==7?(N=ea(E,A.mode,P,_e),N.return=A,N):(N=s(N,E),N.return=A,N)}function Q(A,N,E){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=or(""+N,A.mode,E),N.return=A,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case T:return E=hs(N.type,N.key,N.props,null,A.mode,E),yo(E,N),E.return=A,E;case O:return N=sr(N,A.mode,E),N.return=A,N;case V:return N=oa(N),Q(A,N,E)}if(me(N)||be(N))return N=ea(N,A.mode,E,null),N.return=A,N;if(typeof N.then=="function")return Q(A,js(N),E);if(N.$$typeof===$)return Q(A,ys(A,N),E);Ts(A,N)}return null}function F(A,N,E,P){var _e=N!==null?N.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return _e!==null?null:h(A,N,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case T:return E.key===_e?C(A,N,E,P):null;case O:return E.key===_e?R(A,N,E,P):null;case V:return E=oa(E),F(A,N,E,P)}if(me(E)||be(E))return _e!==null?null:G(A,N,E,P,null);if(typeof E.then=="function")return F(A,N,js(E),P);if(E.$$typeof===$)return F(A,N,ys(A,E),P);Ts(A,E)}return null}function U(A,N,E,P,_e){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return A=A.get(E)||null,h(N,A,""+P,_e);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case T:return A=A.get(P.key===null?E:P.key)||null,C(N,A,P,_e);case O:return A=A.get(P.key===null?E:P.key)||null,R(N,A,P,_e);case V:return P=oa(P),U(A,N,E,P,_e)}if(me(P)||be(P))return A=A.get(E)||null,G(N,A,P,_e,null);if(typeof P.then=="function")return U(A,N,E,js(P),_e);if(P.$$typeof===$)return U(A,N,E,ys(N,P),_e);Ts(N,P)}return null}function ye(A,N,E,P){for(var _e=null,Qe=null,je=N,Me=N=0,qe=null;je!==null&&Me<E.length;Me++){je.index>Me?(qe=je,je=null):qe=je.sibling;var Xe=F(A,je,E[Me],P);if(Xe===null){je===null&&(je=qe);break}e&&je&&Xe.alternate===null&&t(A,je),N=r(Xe,N,Me),Qe===null?_e=Xe:Qe.sibling=Xe,Qe=Xe,je=qe}if(Me===E.length)return n(A,je),Ye&&ii(A,Me),_e;if(je===null){for(;Me<E.length;Me++)je=Q(A,E[Me],P),je!==null&&(N=r(je,N,Me),Qe===null?_e=je:Qe.sibling=je,Qe=je);return Ye&&ii(A,Me),_e}for(je=a(je);Me<E.length;Me++)qe=U(je,A,Me,E[Me],P),qe!==null&&(e&&qe.alternate!==null&&je.delete(qe.key===null?Me:qe.key),N=r(qe,N,Me),Qe===null?_e=qe:Qe.sibling=qe,Qe=qe);return e&&je.forEach(function(Hi){return t(A,Hi)}),Ye&&ii(A,Me),_e}function ze(A,N,E,P){if(E==null)throw Error(c(151));for(var _e=null,Qe=null,je=N,Me=N=0,qe=null,Xe=E.next();je!==null&&!Xe.done;Me++,Xe=E.next()){je.index>Me?(qe=je,je=null):qe=je.sibling;var Hi=F(A,je,Xe.value,P);if(Hi===null){je===null&&(je=qe);break}e&&je&&Hi.alternate===null&&t(A,je),N=r(Hi,N,Me),Qe===null?_e=Hi:Qe.sibling=Hi,Qe=Hi,je=qe}if(Xe.done)return n(A,je),Ye&&ii(A,Me),_e;if(je===null){for(;!Xe.done;Me++,Xe=E.next())Xe=Q(A,Xe.value,P),Xe!==null&&(N=r(Xe,N,Me),Qe===null?_e=Xe:Qe.sibling=Xe,Qe=Xe);return Ye&&ii(A,Me),_e}for(je=a(je);!Xe.done;Me++,Xe=E.next())Xe=U(je,A,Me,Xe.value,P),Xe!==null&&(e&&Xe.alternate!==null&&je.delete(Xe.key===null?Me:Xe.key),N=r(Xe,N,Me),Qe===null?_e=Xe:Qe.sibling=Xe,Qe=Xe);return e&&je.forEach(function(Xh){return t(A,Xh)}),Ye&&ii(A,Me),_e}function at(A,N,E,P){if(typeof E=="object"&&E!==null&&E.type===I&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case T:e:{for(var _e=E.key;N!==null;){if(N.key===_e){if(_e=E.type,_e===I){if(N.tag===7){n(A,N.sibling),P=s(N,E.props.children),P.return=A,A=P;break e}}else if(N.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===V&&oa(_e)===N.type){n(A,N.sibling),P=s(N,E.props),yo(P,E),P.return=A,A=P;break e}n(A,N);break}else t(A,N);N=N.sibling}E.type===I?(P=ea(E.props.children,A.mode,P,E.key),P.return=A,A=P):(P=hs(E.type,E.key,E.props,null,A.mode,P),yo(P,E),P.return=A,A=P)}return d(A);case O:e:{for(_e=E.key;N!==null;){if(N.key===_e)if(N.tag===4&&N.stateNode.containerInfo===E.containerInfo&&N.stateNode.implementation===E.implementation){n(A,N.sibling),P=s(N,E.children||[]),P.return=A,A=P;break e}else{n(A,N);break}else t(A,N);N=N.sibling}P=sr(E,A.mode,P),P.return=A,A=P}return d(A);case V:return E=oa(E),at(A,N,E,P)}if(me(E))return ye(A,N,E,P);if(be(E)){if(_e=be(E),typeof _e!="function")throw Error(c(150));return E=_e.call(E),ze(A,N,E,P)}if(typeof E.then=="function")return at(A,N,js(E),P);if(E.$$typeof===$)return at(A,N,ys(A,E),P);Ts(A,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,N!==null&&N.tag===6?(n(A,N.sibling),P=s(N,E),P.return=A,A=P):(n(A,N),P=or(E,A.mode,P),P.return=A,A=P),d(A)):n(A,N)}return function(A,N,E,P){try{bo=0;var _e=at(A,N,E,P);return Ea=null,_e}catch(je){if(je===Ma||je===Ss)throw je;var Qe=fn(29,je,null,A.mode);return Qe.lanes=P,Qe.return=A,Qe}}}var la=dd(!0),md=dd(!1),ji=!1;function br(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ti(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ci(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,($e&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=ps(e),Qu(e,null,n),t}return gs(e,a,t,n),ps(e)}function xo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,xe(e,n)}}function xr(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var d={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=d:r=r.next=d,n=n.next}while(n!==null);r===null?s=r=t:r=r.next=t}else s=r=t;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Sr=!1;function So(){if(Sr){var e=Aa;if(e!==null)throw e}}function wo(e,t,n,a){Sr=!1;var s=e.updateQueue;ji=!1;var r=s.firstBaseUpdate,d=s.lastBaseUpdate,h=s.shared.pending;if(h!==null){s.shared.pending=null;var C=h,R=C.next;C.next=null,d===null?r=R:d.next=R,d=C;var G=e.alternate;G!==null&&(G=G.updateQueue,h=G.lastBaseUpdate,h!==d&&(h===null?G.firstBaseUpdate=R:h.next=R,G.lastBaseUpdate=C))}if(r!==null){var Q=s.baseState;d=0,G=R=C=null,h=r;do{var F=h.lane&-536870913,U=F!==h.lane;if(U?(Ge&F)===F:(a&F)===F){F!==0&&F===Da&&(Sr=!0),G!==null&&(G=G.next={lane:0,tag:h.tag,payload:h.payload,callback:null,next:null});e:{var ye=e,ze=h;F=t;var at=n;switch(ze.tag){case 1:if(ye=ze.payload,typeof ye=="function"){Q=ye.call(at,Q,F);break e}Q=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ze.payload,F=typeof ye=="function"?ye.call(at,Q,F):ye,F==null)break e;Q=g({},Q,F);break e;case 2:ji=!0}}F=h.callback,F!==null&&(e.flags|=64,U&&(e.flags|=8192),U=s.callbacks,U===null?s.callbacks=[F]:U.push(F))}else U={lane:F,tag:h.tag,payload:h.payload,callback:h.callback,next:null},G===null?(R=G=U,C=Q):G=G.next=U,d|=F;if(h=h.next,h===null){if(h=s.shared.pending,h===null)break;U=h,h=U.next,U.next=null,s.lastBaseUpdate=U,s.shared.pending=null}}while(!0);G===null&&(C=Q),s.baseState=C,s.firstBaseUpdate=R,s.lastBaseUpdate=G,r===null&&(s.shared.lanes=0),Di|=d,e.lanes=d,e.memoizedState=Q}}function fd(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function gd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)fd(n[e],t)}var Ra=fe(null),Cs=fe(0);function pd(e,t){e=gi,Z(Cs,e),Z(Ra,t),gi=e|t.baseLanes}function wr(){Z(Cs,gi),Z(Ra,Ra.current)}function jr(){gi=Cs.current,L(Ra),L(Cs)}var gn=fe(null),Mn=null;function _i(e){var t=e.alternate;Z(wt,wt.current&1),Z(gn,e),Mn===null&&(t===null||Ra.current!==null||t.memoizedState!==null)&&(Mn=e)}function Tr(e){Z(wt,wt.current),Z(gn,e),Mn===null&&(Mn=e)}function hd(e){e.tag===22?(Z(wt,wt.current),Z(gn,e),Mn===null&&(Mn=e)):ki()}function ki(){Z(wt,wt.current),Z(gn,gn.current)}function pn(e){L(gn),Mn===e&&(Mn=null),L(wt)}var wt=fe(0);function _s(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Dc(n)||Ac(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var si=0,Ae=null,nt=null,zt=null,ks=!1,Ba=!1,ra=!1,Ns=0,jo=0,Fa=null,Hp=0;function xt(){throw Error(c(321))}function Cr(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mn(e[n],t[n]))return!1;return!0}function _r(e,t,n,a,s,r){return si=r,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?$d:Ur,ra=!1,r=n(a,s),ra=!1,Ba&&(r=bd(t,n,a,s)),vd(e),r}function vd(e){D.H=_o;var t=nt!==null&&nt.next!==null;if(si=0,zt=nt=Ae=null,ks=!1,jo=0,Fa=null,t)throw Error(c(300));e===null||Dt||(e=e.dependencies,e!==null&&bs(e)&&(Dt=!0))}function bd(e,t,n,a){Ae=e;var s=0;do{if(Ba&&(Fa=null),jo=0,Ba=!1,25<=s)throw Error(c(301));if(s+=1,zt=nt=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}D.H=em,r=t(n,a)}while(Ba);return r}function Up(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?To(t):t,e=e.useState()[0],(nt!==null?nt.memoizedState:null)!==e&&(Ae.flags|=1024),t}function kr(){var e=Ns!==0;return Ns=0,e}function Nr(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function zr(e){if(ks){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ks=!1}si=0,zt=nt=Ae=null,Ba=!1,jo=Ns=0,Fa=null}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Ae.memoizedState=zt=e:zt=zt.next=e,zt}function jt(){if(nt===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=zt===null?Ae.memoizedState:zt.next;if(t!==null)zt=t,nt=e;else{if(e===null)throw Ae.alternate===null?Error(c(467)):Error(c(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},zt===null?Ae.memoizedState=zt=e:zt=zt.next=e}return zt}function zs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function To(e){var t=jo;return jo+=1,Fa===null&&(Fa=[]),e=rd(Fa,e,t),t=Ae,(zt===null?t.memoizedState:zt.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?$d:Ur),e}function Ds(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return To(e);if(e.$$typeof===$)return qt(e)}throw Error(c(438,String(e)))}function Dr(e){var t=null,n=Ae.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Ae.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=zs(),Ae.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=he;return t.index++,n}function li(e,t){return typeof t=="function"?t(e):t}function As(e){var t=jt();return Ar(t,nt,e)}function Ar(e,t,n){var a=e.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=n;var s=e.baseQueue,r=a.pending;if(r!==null){if(s!==null){var d=s.next;s.next=r.next,r.next=d}t.baseQueue=s=r,a.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var h=d=null,C=null,R=t,G=!1;do{var Q=R.lane&-536870913;if(Q!==R.lane?(Ge&Q)===Q:(si&Q)===Q){var F=R.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),Q===Da&&(G=!0);else if((si&F)===F){R=R.next,F===Da&&(G=!0);continue}else Q={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},C===null?(h=C=Q,d=r):C=C.next=Q,Ae.lanes|=F,Di|=F;Q=R.action,ra&&n(r,Q),r=R.hasEagerState?R.eagerState:n(r,Q)}else F={lane:Q,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},C===null?(h=C=F,d=r):C=C.next=F,Ae.lanes|=Q,Di|=Q;R=R.next}while(R!==null&&R!==t);if(C===null?d=r:C.next=h,!mn(r,e.memoizedState)&&(Dt=!0,G&&(n=Aa,n!==null)))throw n;e.memoizedState=r,e.baseState=d,e.baseQueue=C,a.lastRenderedState=r}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Mr(e){var t=jt(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,r=t.memoizedState;if(s!==null){n.pending=null;var d=s=s.next;do r=e(r,d.action),d=d.next;while(d!==s);mn(r,t.memoizedState)||(Dt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function yd(e,t,n){var a=Ae,s=jt(),r=Ye;if(r){if(n===void 0)throw Error(c(407));n=n()}else n=t();var d=!mn((nt||s).memoizedState,n);if(d&&(s.memoizedState=n,Dt=!0),s=s.queue,Br(wd.bind(null,a,s,e),[e]),s.getSnapshot!==t||d||zt!==null&&zt.memoizedState.tag&1){if(a.flags|=2048,La(9,{destroy:void 0},Sd.bind(null,a,s,n,t),null),lt===null)throw Error(c(349));r||(si&127)!==0||xd(a,t,n)}return n}function xd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t=zs(),Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Sd(e,t,n,a){t.value=n,t.getSnapshot=a,jd(t)&&Td(e)}function wd(e,t,n){return n(function(){jd(t)&&Td(e)})}function jd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mn(e,n)}catch{return!0}}function Td(e){var t=$i(e,2);t!==null&&sn(t,e,2)}function Er(e){var t=Wt();if(typeof e=="function"){var n=e;if(e=n(),ra){Ot(!0);try{n()}finally{Ot(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:e},t}function Cd(e,t,n,a){return e.baseState=n,Ar(e,nt,typeof a=="function"?a:li)}function Vp(e,t,n,a,s){if(Rs(e))throw Error(c(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){r.listeners.push(d)}};D.T!==null?n(!0):r.isTransition=!1,a(r),n=t.pending,n===null?(r.next=t.pending=r,_d(t,r)):(r.next=n.next,t.pending=n.next=r)}}function _d(e,t){var n=t.action,a=t.payload,s=e.state;if(t.isTransition){var r=D.T,d={};D.T=d;try{var h=n(s,a),C=D.S;C!==null&&C(d,h),kd(e,t,h)}catch(R){Rr(e,t,R)}finally{r!==null&&d.types!==null&&(r.types=d.types),D.T=r}}else try{r=n(s,a),kd(e,t,r)}catch(R){Rr(e,t,R)}}function kd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Nd(e,t,a)},function(a){return Rr(e,t,a)}):Nd(e,t,n)}function Nd(e,t,n){t.status="fulfilled",t.value=n,zd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,_d(e,n)))}function Rr(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,zd(t),t=t.next;while(t!==a)}e.action=null}function zd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Dd(e,t){return t}function Ad(e,t){if(Ye){var n=lt.formState;if(n!==null){e:{var a=Ae;if(Ye){if(mt){t:{for(var s=mt,r=An;s.nodeType!==8;){if(!r){s=null;break t}if(s=En(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){mt=En(s.nextSibling),a=s.data==="F!";break e}}Si(a)}a=!1}a&&(t=n[0])}}return n=Wt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dd,lastRenderedState:t},n.queue=a,n=Xd.bind(null,Ae,a),a.dispatch=n,a=Er(!1),r=Hr.bind(null,Ae,!1,a.queue),a=Wt(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,n=Vp.bind(null,Ae,s,r,n),s.dispatch=n,a.memoizedState=e,[t,n,!1]}function Md(e){var t=jt();return Ed(t,nt,e)}function Ed(e,t,n){if(t=Ar(e,t,Dd)[0],e=As(li)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=To(t)}catch(d){throw d===Ma?Ss:d}else a=t;t=jt();var s=t.queue,r=s.dispatch;return n!==t.memoizedState&&(Ae.flags|=2048,La(9,{destroy:void 0},Gp.bind(null,s,n),null)),[a,r,e]}function Gp(e,t){e.action=t}function Rd(e){var t=jt(),n=nt;if(n!==null)return Ed(t,n,e);jt(),t=t.memoizedState,n=jt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function La(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Ae.updateQueue,t===null&&(t=zs(),Ae.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Bd(){return jt().memoizedState}function Ms(e,t,n,a){var s=Wt();Ae.flags|=e,s.memoizedState=La(1|t,{destroy:void 0},n,a===void 0?null:a)}function Es(e,t,n,a){var s=jt();a=a===void 0?null:a;var r=s.memoizedState.inst;nt!==null&&a!==null&&Cr(a,nt.memoizedState.deps)?s.memoizedState=La(t,r,n,a):(Ae.flags|=e,s.memoizedState=La(1|t,r,n,a))}function Fd(e,t){Ms(8390656,8,e,t)}function Br(e,t){Es(2048,8,e,t)}function qp(e){Ae.flags|=4;var t=Ae.updateQueue;if(t===null)t=zs(),Ae.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Ld(e){var t=jt().memoizedState;return qp({ref:t,nextImpl:e}),function(){if(($e&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function Od(e,t){return Es(4,2,e,t)}function Id(e,t){return Es(4,4,e,t)}function Hd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ud(e,t,n){n=n!=null?n.concat([e]):null,Es(4,4,Hd.bind(null,t,e),n)}function Fr(){}function Vd(e,t){var n=jt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Cr(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Gd(e,t){var n=jt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Cr(t,a[1]))return a[0];if(a=e(),ra){Ot(!0);try{e()}finally{Ot(!1)}}return n.memoizedState=[a,t],a}function Lr(e,t,n){return n===void 0||(si&1073741824)!==0&&(Ge&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=qm(),Ae.lanes|=e,Di|=e,n)}function qd(e,t,n,a){return mn(n,t)?n:Ra.current!==null?(e=Lr(e,n,a),mn(e,t)||(Dt=!0),e):(si&42)===0||(si&1073741824)!==0&&(Ge&261930)===0?(Dt=!0,e.memoizedState=n):(e=qm(),Ae.lanes|=e,Di|=e,t)}function Kd(e,t,n,a,s){var r=te.p;te.p=r!==0&&8>r?r:8;var d=D.T,h={};D.T=h,Hr(e,!1,t,n);try{var C=s(),R=D.S;if(R!==null&&R(h,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=Ip(C,a);Co(e,t,G,bn(e))}else Co(e,t,a,bn(e))}catch(Q){Co(e,t,{then:function(){},status:"rejected",reason:Q},bn())}finally{te.p=r,d!==null&&h.types!==null&&(d.types=h.types),D.T=d}}function Kp(){}function Or(e,t,n,a){if(e.tag!==5)throw Error(c(476));var s=Pd(e).queue;Kd(e,s,t,X,n===null?Kp:function(){return Yd(e),n(a)})}function Pd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:X},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Yd(e){var t=Pd(e);t.next===null&&(t=e.alternate.memoizedState),Co(e,t.next.queue,{},bn())}function Ir(){return qt(Vo)}function Zd(){return jt().memoizedState}function Qd(){return jt().memoizedState}function Pp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=bn();e=Ti(n);var a=Ci(t,e,n);a!==null&&(sn(a,t,n),xo(a,t,n)),t={cache:gr()},e.payload=t;return}t=t.return}}function Yp(e,t,n){var a=bn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Rs(e)?Wd(t,n):(n=ir(e,t,n,a),n!==null&&(sn(n,e,a),Jd(n,t,a)))}function Xd(e,t,n){var a=bn();Co(e,t,n,a)}function Co(e,t,n,a){var s={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rs(e))Wd(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var d=t.lastRenderedState,h=r(d,n);if(s.hasEagerState=!0,s.eagerState=h,mn(h,d))return gs(e,t,s,0),lt===null&&fs(),!1}catch{}if(n=ir(e,t,s,a),n!==null)return sn(n,e,a),Jd(n,t,a),!0}return!1}function Hr(e,t,n,a){if(a={lane:2,revertLane:bc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Rs(e)){if(t)throw Error(c(479))}else t=ir(e,n,a,2),t!==null&&sn(t,e,2)}function Rs(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Wd(e,t){Ba=ks=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jd(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,xe(e,n)}}var _o={readContext:qt,use:Ds,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};_o.useEffectEvent=xt;var $d={readContext:qt,use:Ds,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:Fd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ms(4194308,4,Hd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ms(4194308,4,e,t)},useInsertionEffect:function(e,t){Ms(4,2,e,t)},useMemo:function(e,t){var n=Wt();t=t===void 0?null:t;var a=e();if(ra){Ot(!0);try{e()}finally{Ot(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Wt();if(n!==void 0){var s=n(t);if(ra){Ot(!0);try{n(t)}finally{Ot(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=Yp.bind(null,Ae,e),[a.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:function(e){e=Er(e);var t=e.queue,n=Xd.bind(null,Ae,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Fr,useDeferredValue:function(e,t){var n=Wt();return Lr(n,e,t)},useTransition:function(){var e=Er(!1);return e=Kd.bind(null,Ae,e.queue,!0,!1),Wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Ae,s=Wt();if(Ye){if(n===void 0)throw Error(c(407));n=n()}else{if(n=t(),lt===null)throw Error(c(349));(Ge&127)!==0||xd(a,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,Fd(wd.bind(null,a,r,e),[e]),a.flags|=2048,La(9,{destroy:void 0},Sd.bind(null,a,r,n,t),null),n},useId:function(){var e=Wt(),t=lt.identifierPrefix;if(Ye){var n=Zn,a=Yn;n=(a&~(1<<32-ct(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Ns++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Hp++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ir,useFormState:Ad,useActionState:Ad,useOptimistic:function(e){var t=Wt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Hr.bind(null,Ae,!0,n),n.dispatch=t,[e,t]},useMemoCache:Dr,useCacheRefresh:function(){return Wt().memoizedState=Pp.bind(null,Ae)},useEffectEvent:function(e){var t=Wt(),n={impl:e};return t.memoizedState=n,function(){if(($e&2)!==0)throw Error(c(440));return n.impl.apply(void 0,arguments)}}},Ur={readContext:qt,use:Ds,useCallback:Vd,useContext:qt,useEffect:Br,useImperativeHandle:Ud,useInsertionEffect:Od,useLayoutEffect:Id,useMemo:Gd,useReducer:As,useRef:Bd,useState:function(){return As(li)},useDebugValue:Fr,useDeferredValue:function(e,t){var n=jt();return qd(n,nt.memoizedState,e,t)},useTransition:function(){var e=As(li)[0],t=jt().memoizedState;return[typeof e=="boolean"?e:To(e),t]},useSyncExternalStore:yd,useId:Zd,useHostTransitionStatus:Ir,useFormState:Md,useActionState:Md,useOptimistic:function(e,t){var n=jt();return Cd(n,nt,e,t)},useMemoCache:Dr,useCacheRefresh:Qd};Ur.useEffectEvent=Ld;var em={readContext:qt,use:Ds,useCallback:Vd,useContext:qt,useEffect:Br,useImperativeHandle:Ud,useInsertionEffect:Od,useLayoutEffect:Id,useMemo:Gd,useReducer:Mr,useRef:Bd,useState:function(){return Mr(li)},useDebugValue:Fr,useDeferredValue:function(e,t){var n=jt();return nt===null?Lr(n,e,t):qd(n,nt.memoizedState,e,t)},useTransition:function(){var e=Mr(li)[0],t=jt().memoizedState;return[typeof e=="boolean"?e:To(e),t]},useSyncExternalStore:yd,useId:Zd,useHostTransitionStatus:Ir,useFormState:Rd,useActionState:Rd,useOptimistic:function(e,t){var n=jt();return nt!==null?Cd(n,nt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Dr,useCacheRefresh:Qd};em.useEffectEvent=Ld;function Vr(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:g({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gr={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=bn(),s=Ti(a);s.payload=t,n!=null&&(s.callback=n),t=Ci(e,s,a),t!==null&&(sn(t,e,a),xo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=bn(),s=Ti(a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ci(e,s,a),t!==null&&(sn(t,e,a),xo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bn(),a=Ti(n);a.tag=2,t!=null&&(a.callback=t),t=Ci(e,a,n),t!==null&&(sn(t,e,n),xo(t,e,n))}};function tm(e,t,n,a,s,r,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,r,d):t.prototype&&t.prototype.isPureReactComponent?!mo(n,a)||!mo(s,r):!0}function nm(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Gr.enqueueReplaceState(t,t.state,null)}function ca(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=g({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function im(e){ms(e)}function am(e){console.error(e)}function om(e){ms(e)}function Bs(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function sm(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function qr(e,t,n){return n=Ti(n),n.tag=3,n.payload={element:null},n.callback=function(){Bs(e,t)},n}function lm(e){return e=Ti(e),e.tag=3,e}function rm(e,t,n,a){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=a.value;e.payload=function(){return s(r)},e.callback=function(){sm(t,n,a)}}var d=n.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){sm(t,n,a),typeof s!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var h=a.stack;this.componentDidCatch(a.value,{componentStack:h!==null?h:""})})}function Zp(e,t,n,a,s){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&za(t,n,s,!0),n=gn.current,n!==null){switch(n.tag){case 31:case 13:return Mn===null?Ys():n.alternate===null&&St===0&&(St=3),n.flags&=-257,n.flags|=65536,n.lanes=s,a===ws?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),pc(e,a,s)),!1;case 22:return n.flags|=65536,a===ws?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),pc(e,a,s)),!1}throw Error(c(435,n.tag))}return pc(e,a,s),Ys(),!1}if(Ye)return t=gn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==cr&&(e=Error(c(422),{cause:a}),po(Nn(e,n)))):(a!==cr&&(t=Error(c(423),{cause:a}),po(Nn(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=Nn(a,n),s=qr(e.stateNode,a,s),xr(e,s),St!==4&&(St=2)),!1;var r=Error(c(520),{cause:a});if(r=Nn(r,n),Ro===null?Ro=[r]:Ro.push(r),St!==4&&(St=2),t===null)return!0;a=Nn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=qr(n.stateNode,a,e),xr(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Ai===null||!Ai.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=lm(s),rm(s,e,n,a),xr(n,s),!1}n=n.return}while(n!==null);return!1}var Kr=Error(c(461)),Dt=!1;function Kt(e,t,n,a){t.child=e===null?md(t,null,n,a):la(t,e.child,n,a)}function cm(e,t,n,a,s){n=n.render;var r=t.ref;if("ref"in a){var d={};for(var h in a)h!=="ref"&&(d[h]=a[h])}else d=a;return ia(t),a=_r(e,t,n,d,r,s),h=kr(),e!==null&&!Dt?(Nr(e,t,s),ri(e,t,s)):(Ye&&h&&lr(t),t.flags|=1,Kt(e,t,a,s),t.child)}function um(e,t,n,a,s){if(e===null){var r=n.type;return typeof r=="function"&&!ar(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,dm(e,t,r,a,s)):(e=hs(n.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!$r(e,s)){var d=r.memoizedProps;if(n=n.compare,n=n!==null?n:mo,n(d,a)&&e.ref===t.ref)return ri(e,t,s)}return t.flags|=1,e=ni(r,a),e.ref=t.ref,e.return=t,t.child=e}function dm(e,t,n,a,s){if(e!==null){var r=e.memoizedProps;if(mo(r,a)&&e.ref===t.ref)if(Dt=!1,t.pendingProps=a=r,$r(e,s))(e.flags&131072)!==0&&(Dt=!0);else return t.lanes=e.lanes,ri(e,t,s)}return Pr(e,t,n,a,s)}function mm(e,t,n,a){var s=a.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|n:n,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~r}else a=0,t.child=null;return fm(e,t,r,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&xs(t,r!==null?r.cachePool:null),r!==null?pd(t,r):wr(),hd(t);else return a=t.lanes=536870912,fm(e,t,r!==null?r.baseLanes|n:n,n,a)}else r!==null?(xs(t,r.cachePool),pd(t,r),ki(),t.memoizedState=null):(e!==null&&xs(t,null),wr(),ki());return Kt(e,t,s,n),t.child}function ko(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function fm(e,t,n,a,s){var r=hr();return r=r===null?null:{parent:Nt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&xs(t,null),wr(),hd(t),e!==null&&za(e,t,a,!0),t.childLanes=s,null}function Fs(e,t){return t=Os({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function gm(e,t,n){return la(t,e.child,null,n),e=Fs(t,t.pendingProps),e.flags|=2,pn(t),t.memoizedState=null,e}function Qp(e,t,n){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ye){if(a.mode==="hidden")return e=Fs(t,a),t.lanes=536870912,ko(null,e);if(Tr(t),(e=mt)?(e=kf(e,An),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:yi!==null?{id:Yn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},n=Wu(e),n.return=t,t.child=n,Gt=t,mt=null)):e=null,e===null)throw Si(t);return t.lanes=536870912,null}return Fs(t,a)}var r=e.memoizedState;if(r!==null){var d=r.dehydrated;if(Tr(t),s)if(t.flags&256)t.flags&=-257,t=gm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(Dt||za(e,t,n,!1),s=(n&e.childLanes)!==0,Dt||s){if(a=lt,a!==null&&(d=Oe(a,n),d!==0&&d!==r.retryLane))throw r.retryLane=d,$i(e,d),sn(a,e,d),Kr;Ys(),t=gm(e,t,n)}else e=r.treeContext,mt=En(d.nextSibling),Gt=t,Ye=!0,xi=null,An=!1,e!==null&&ed(t,e),t=Fs(t,a),t.flags|=4096;return t}return e=ni(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ls(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(c(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Pr(e,t,n,a,s){return ia(t),n=_r(e,t,n,a,void 0,s),a=kr(),e!==null&&!Dt?(Nr(e,t,s),ri(e,t,s)):(Ye&&a&&lr(t),t.flags|=1,Kt(e,t,n,s),t.child)}function pm(e,t,n,a,s,r){return ia(t),t.updateQueue=null,n=bd(t,a,n,s),vd(e),a=kr(),e!==null&&!Dt?(Nr(e,t,r),ri(e,t,r)):(Ye&&a&&lr(t),t.flags|=1,Kt(e,t,n,r),t.child)}function hm(e,t,n,a,s){if(ia(t),t.stateNode===null){var r=Ca,d=n.contextType;typeof d=="object"&&d!==null&&(r=qt(d)),r=new n(a,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Gr,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=a,r.state=t.memoizedState,r.refs={},br(t),d=n.contextType,r.context=typeof d=="object"&&d!==null?qt(d):Ca,r.state=t.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Vr(t,n,d,a),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(d=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),d!==r.state&&Gr.enqueueReplaceState(r,r.state,null),wo(t,a,r,s),So(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){r=t.stateNode;var h=t.memoizedProps,C=ca(n,h);r.props=C;var R=r.context,G=n.contextType;d=Ca,typeof G=="object"&&G!==null&&(d=qt(G));var Q=n.getDerivedStateFromProps;G=typeof Q=="function"||typeof r.getSnapshotBeforeUpdate=="function",h=t.pendingProps!==h,G||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(h||R!==d)&&nm(t,r,a,d),ji=!1;var F=t.memoizedState;r.state=F,wo(t,a,r,s),So(),R=t.memoizedState,h||F!==R||ji?(typeof Q=="function"&&(Vr(t,n,Q,a),R=t.memoizedState),(C=ji||tm(t,n,C,a,F,R,d))?(G||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=R),r.props=a,r.state=R,r.context=d,a=C):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,yr(e,t),d=t.memoizedProps,G=ca(n,d),r.props=G,Q=t.pendingProps,F=r.context,R=n.contextType,C=Ca,typeof R=="object"&&R!==null&&(C=qt(R)),h=n.getDerivedStateFromProps,(R=typeof h=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(d!==Q||F!==C)&&nm(t,r,a,C),ji=!1,F=t.memoizedState,r.state=F,wo(t,a,r,s),So();var U=t.memoizedState;d!==Q||F!==U||ji||e!==null&&e.dependencies!==null&&bs(e.dependencies)?(typeof h=="function"&&(Vr(t,n,h,a),U=t.memoizedState),(G=ji||tm(t,n,G,a,F,U,C)||e!==null&&e.dependencies!==null&&bs(e.dependencies))?(R||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(a,U,C),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(a,U,C)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||d===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=U),r.props=a,r.state=U,r.context=C,a=G):(typeof r.componentDidUpdate!="function"||d===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,Ls(e,t),a=(t.flags&128)!==0,r||a?(r=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&a?(t.child=la(t,e.child,null,s),t.child=la(t,null,n,s)):Kt(e,t,n,s),t.memoizedState=r.state,e=t.child):e=ri(e,t,s),e}function vm(e,t,n,a){return ta(),t.flags|=256,Kt(e,t,n,a),t.child}var Yr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zr(e){return{baseLanes:e,cachePool:sd()}}function Qr(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=vn),e}function bm(e,t,n){var a=t.pendingProps,s=!1,r=(t.flags&128)!==0,d;if((d=r)||(d=e!==null&&e.memoizedState===null?!1:(wt.current&2)!==0),d&&(s=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ye){if(s?_i(t):ki(),(e=mt)?(e=kf(e,An),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:yi!==null?{id:Yn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},n=Wu(e),n.return=t,t.child=n,Gt=t,mt=null)):e=null,e===null)throw Si(t);return Ac(e)?t.lanes=32:t.lanes=536870912,null}var h=a.children;return a=a.fallback,s?(ki(),s=t.mode,h=Os({mode:"hidden",children:h},s),a=ea(a,s,n,null),h.return=t,a.return=t,h.sibling=a,t.child=h,a=t.child,a.memoizedState=Zr(n),a.childLanes=Qr(e,d,n),t.memoizedState=Yr,ko(null,a)):(_i(t),Xr(t,h))}var C=e.memoizedState;if(C!==null&&(h=C.dehydrated,h!==null)){if(r)t.flags&256?(_i(t),t.flags&=-257,t=Wr(e,t,n)):t.memoizedState!==null?(ki(),t.child=e.child,t.flags|=128,t=null):(ki(),h=a.fallback,s=t.mode,a=Os({mode:"visible",children:a.children},s),h=ea(h,s,n,null),h.flags|=2,a.return=t,h.return=t,a.sibling=h,t.child=a,la(t,e.child,null,n),a=t.child,a.memoizedState=Zr(n),a.childLanes=Qr(e,d,n),t.memoizedState=Yr,t=ko(null,a));else if(_i(t),Ac(h)){if(d=h.nextSibling&&h.nextSibling.dataset,d)var R=d.dgst;d=R,a=Error(c(419)),a.stack="",a.digest=d,po({value:a,source:null,stack:null}),t=Wr(e,t,n)}else if(Dt||za(e,t,n,!1),d=(n&e.childLanes)!==0,Dt||d){if(d=lt,d!==null&&(a=Oe(d,n),a!==0&&a!==C.retryLane))throw C.retryLane=a,$i(e,a),sn(d,e,a),Kr;Dc(h)||Ys(),t=Wr(e,t,n)}else Dc(h)?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,mt=En(h.nextSibling),Gt=t,Ye=!0,xi=null,An=!1,e!==null&&ed(t,e),t=Xr(t,a.children),t.flags|=4096);return t}return s?(ki(),h=a.fallback,s=t.mode,C=e.child,R=C.sibling,a=ni(C,{mode:"hidden",children:a.children}),a.subtreeFlags=C.subtreeFlags&65011712,R!==null?h=ni(R,h):(h=ea(h,s,n,null),h.flags|=2),h.return=t,a.return=t,a.sibling=h,t.child=a,ko(null,a),a=t.child,h=e.child.memoizedState,h===null?h=Zr(n):(s=h.cachePool,s!==null?(C=Nt._currentValue,s=s.parent!==C?{parent:C,pool:C}:s):s=sd(),h={baseLanes:h.baseLanes|n,cachePool:s}),a.memoizedState=h,a.childLanes=Qr(e,d,n),t.memoizedState=Yr,ko(e.child,a)):(_i(t),n=e.child,e=n.sibling,n=ni(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=n,t.memoizedState=null,n)}function Xr(e,t){return t=Os({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Os(e,t){return e=fn(22,e,null,t),e.lanes=0,e}function Wr(e,t,n){return la(t,e.child,null,n),e=Xr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ym(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),mr(e.return,t,n)}function Jr(e,t,n,a,s,r){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s,treeForkCount:r}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=n,d.tailMode=s,d.treeForkCount=r)}function xm(e,t,n){var a=t.pendingProps,s=a.revealOrder,r=a.tail;a=a.children;var d=wt.current,h=(d&2)!==0;if(h?(d=d&1|2,t.flags|=128):d&=1,Z(wt,d),Kt(e,t,a,n),a=Ye?go:0,!h&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ym(e,n,t);else if(e.tag===19)ym(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&_s(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Jr(t,!1,s,n,r,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&_s(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Jr(t,!0,n,null,r,a);break;case"together":Jr(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ri(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Di|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(za(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,n=ni(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ni(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $r(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&bs(e)))}function Xp(e,t,n){switch(t.tag){case 3:j(t,t.stateNode.containerInfo),wi(t,Nt,e.memoizedState.cache),ta();break;case 27:case 5:Tt(t);break;case 4:j(t,t.stateNode.containerInfo);break;case 10:wi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Tr(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(_i(t),t.flags|=128,null):(n&t.child.childLanes)!==0?bm(e,t,n):(_i(t),e=ri(e,t,n),e!==null?e.sibling:null);_i(t);break;case 19:var s=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(za(e,t,n,!1),a=(n&t.childLanes)!==0),s){if(a)return xm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(wt,wt.current),a)break;return null;case 22:return t.lanes=0,mm(e,t,n,t.pendingProps);case 24:wi(t,Nt,e.memoizedState.cache)}return ri(e,t,n)}function Sm(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Dt=!0;else{if(!$r(e,n)&&(t.flags&128)===0)return Dt=!1,Xp(e,t,n);Dt=(e.flags&131072)!==0}else Dt=!1,Ye&&(t.flags&1048576)!==0&&$u(t,go,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=oa(t.elementType),t.type=e,typeof e=="function")ar(e)?(a=ca(e,a),t.tag=1,t=hm(null,t,e,a,n)):(t.tag=0,t=Pr(null,t,e,a,n));else{if(e!=null){var s=e.$$typeof;if(s===re){t.tag=11,t=cm(null,t,e,a,n);break e}else if(s===Ne){t.tag=14,t=um(null,t,e,a,n);break e}}throw t=W(e)||e,Error(c(306,t,""))}}return t;case 0:return Pr(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,s=ca(a,t.pendingProps),hm(e,t,a,s,n);case 3:e:{if(j(t,t.stateNode.containerInfo),e===null)throw Error(c(387));a=t.pendingProps;var r=t.memoizedState;s=r.element,yr(e,t),wo(t,a,null,n);var d=t.memoizedState;if(a=d.cache,wi(t,Nt,a),a!==r.cache&&fr(t,[Nt],n,!0),So(),a=d.element,r.isDehydrated)if(r={element:a,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=vm(e,t,a,n);break e}else if(a!==s){s=Nn(Error(c(424)),t),po(s),t=vm(e,t,a,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,mt=En(e.firstChild),Gt=t,Ye=!0,xi=null,An=!0,n=md(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ta(),a===s){t=ri(e,t,n);break e}Kt(e,t,a,n)}t=t.child}return t;case 26:return Ls(e,t),e===null?(n=Ef(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ye||(n=t.type,e=t.pendingProps,a=el(bt.current).createElement(n),a[_]=t,a[J]=e,Pt(a,n,e),Je(a),t.stateNode=a):t.memoizedState=Ef(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Tt(t),e===null&&Ye&&(a=t.stateNode=Df(t.type,t.pendingProps,bt.current),Gt=t,An=!0,s=mt,Bi(t.type)?(Mc=s,mt=En(a.firstChild)):mt=s),Kt(e,t,t.pendingProps.children,n),Ls(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ye&&((s=a=mt)&&(a=_h(a,t.type,t.pendingProps,An),a!==null?(t.stateNode=a,Gt=t,mt=En(a.firstChild),An=!1,s=!0):s=!1),s||Si(t)),Tt(t),s=t.type,r=t.pendingProps,d=e!==null?e.memoizedProps:null,a=r.children,kc(s,r)?a=null:d!==null&&kc(s,d)&&(t.flags|=32),t.memoizedState!==null&&(s=_r(e,t,Up,null,null,n),Vo._currentValue=s),Ls(e,t),Kt(e,t,a,n),t.child;case 6:return e===null&&Ye&&((e=n=mt)&&(n=kh(n,t.pendingProps,An),n!==null?(t.stateNode=n,Gt=t,mt=null,e=!0):e=!1),e||Si(t)),null;case 13:return bm(e,t,n);case 4:return j(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=la(t,null,a,n):Kt(e,t,a,n),t.child;case 11:return cm(e,t,t.type,t.pendingProps,n);case 7:return Kt(e,t,t.pendingProps,n),t.child;case 8:return Kt(e,t,t.pendingProps.children,n),t.child;case 12:return Kt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,wi(t,t.type,a.value),Kt(e,t,a.children,n),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,ia(t),s=qt(s),a=a(s),t.flags|=1,Kt(e,t,a,n),t.child;case 14:return um(e,t,t.type,t.pendingProps,n);case 15:return dm(e,t,t.type,t.pendingProps,n);case 19:return xm(e,t,n);case 31:return Qp(e,t,n);case 22:return mm(e,t,n,t.pendingProps);case 24:return ia(t),a=qt(Nt),e===null?(s=hr(),s===null&&(s=lt,r=gr(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),t.memoizedState={parent:a,cache:s},br(t),wi(t,Nt,s)):((e.lanes&n)!==0&&(yr(e,t),wo(t,null,null,n),So()),s=e.memoizedState,r=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),wi(t,Nt,a)):(a=r.cache,wi(t,Nt,a),a!==s.cache&&fr(t,[Nt],n,!0))),Kt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function ci(e){e.flags|=4}function ec(e,t,n,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Zm())e.flags|=8192;else throw sa=ws,vr}else e.flags&=-16777217}function wm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Of(t))if(Zm())e.flags|=8192;else throw sa=ws,vr}function Is(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ht():536870912,e.lanes|=t,Ua|=t)}function No(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Wp(e,t,n){var a=t.pendingProps;switch(rr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return ft(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),oi(Nt),H(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Na(t)?ci(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ur())),ft(t),null;case 26:var s=t.type,r=t.memoizedState;return e===null?(ci(t),r!==null?(ft(t),wm(t,r)):(ft(t),ec(t,s,null,a,n))):r?r!==e.memoizedState?(ci(t),ft(t),wm(t,r)):(ft(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ci(t),ft(t),ec(t,s,e,a,n)),null;case 27:if(Mt(t),n=bt.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ci(t);else{if(!a){if(t.stateNode===null)throw Error(c(166));return ft(t),null}e=K.current,Na(t)?td(t):(e=Df(s,a,n),t.stateNode=e,ci(t))}return ft(t),null;case 5:if(Mt(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ci(t);else{if(!a){if(t.stateNode===null)throw Error(c(166));return ft(t),null}if(r=K.current,Na(t))td(t);else{var d=el(bt.current);switch(r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof a.is=="string"?d.createElement("select",{is:a.is}):d.createElement("select"),a.multiple?r.multiple=!0:a.size&&(r.size=a.size);break;default:r=typeof a.is=="string"?d.createElement(s,{is:a.is}):d.createElement(s)}}r[_]=t,r[J]=a;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=r;e:switch(Pt(r,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ci(t)}}return ft(t),ec(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ci(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(c(166));if(e=bt.current,Na(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,s=Gt,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[_]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||yf(e.nodeValue,n)),e||Si(t,!0)}else e=el(e).createTextNode(a),e[_]=t,t.stateNode=e}return ft(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Na(t),n!==null){if(e===null){if(!a)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[_]=t}else ta(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ft(t),e=!1}else n=ur(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(pn(t),t):(pn(t),null);if((t.flags&128)!==0)throw Error(c(558))}return ft(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Na(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(c(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(c(317));s[_]=t}else ta(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ft(t),s=!1}else s=ur(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(pn(t),t):(pn(t),null)}return pn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==s&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Is(t,t.updateQueue),ft(t),null);case 4:return H(),e===null&&wc(t.stateNode.containerInfo),ft(t),null;case 10:return oi(t.type),ft(t),null;case 19:if(L(wt),a=t.memoizedState,a===null)return ft(t),null;if(s=(t.flags&128)!==0,r=a.rendering,r===null)if(s)No(a,!1);else{if(St!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=_s(e),r!==null){for(t.flags|=128,No(a,!1),e=r.updateQueue,t.updateQueue=e,Is(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Xu(n,e),n=n.sibling;return Z(wt,wt.current&1|2),Ye&&ii(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&_t()>qs&&(t.flags|=128,s=!0,No(a,!1),t.lanes=4194304)}else{if(!s)if(e=_s(r),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Is(t,e),No(a,!0),a.tail===null&&a.tailMode==="hidden"&&!r.alternate&&!Ye)return ft(t),null}else 2*_t()-a.renderingStartTime>qs&&n!==536870912&&(t.flags|=128,s=!0,No(a,!1),t.lanes=4194304);a.isBackwards?(r.sibling=t.child,t.child=r):(e=a.last,e!==null?e.sibling=r:t.child=r,a.last=r)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=_t(),e.sibling=null,n=wt.current,Z(wt,s?n&1|2:n&1),Ye&&ii(t,a.treeForkCount),e):(ft(t),null);case 22:case 23:return pn(t),jr(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),n=t.updateQueue,n!==null&&Is(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&L(aa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),oi(Nt),ft(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function Jp(e,t){switch(rr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oi(Nt),H(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Mt(t),null;case 31:if(t.memoizedState!==null){if(pn(t),t.alternate===null)throw Error(c(340));ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(pn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(wt),null;case 4:return H(),null;case 10:return oi(t.type),null;case 22:case 23:return pn(t),jr(),e!==null&&L(aa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return oi(Nt),null;case 25:return null;default:return null}}function jm(e,t){switch(rr(t),t.tag){case 3:oi(Nt),H();break;case 26:case 27:case 5:Mt(t);break;case 4:H();break;case 31:t.memoizedState!==null&&pn(t);break;case 13:pn(t);break;case 19:L(wt);break;case 10:oi(t.type);break;case 22:case 23:pn(t),jr(),e!==null&&L(aa);break;case 24:oi(Nt)}}function zo(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var s=a.next;n=s;do{if((n.tag&e)===e){a=void 0;var r=n.create,d=n.inst;a=r(),d.destroy=a}n=n.next}while(n!==s)}}catch(h){tt(t,t.return,h)}}function Ni(e,t,n){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var r=s.next;a=r;do{if((a.tag&e)===e){var d=a.inst,h=d.destroy;if(h!==void 0){d.destroy=void 0,s=t;var C=n,R=h;try{R()}catch(G){tt(s,C,G)}}}a=a.next}while(a!==r)}}catch(G){tt(t,t.return,G)}}function Tm(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{gd(t,n)}catch(a){tt(e,e.return,a)}}}function Cm(e,t,n){n.props=ca(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){tt(e,t,a)}}function Do(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(s){tt(e,t,s)}}function Qn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(s){tt(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){tt(e,t,s)}else n.current=null}function _m(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(s){tt(e,e.return,s)}}function tc(e,t,n){try{var a=e.stateNode;xh(a,e.type,n,t),a[J]=t}catch(s){tt(e,e.return,s)}}function km(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Bi(e.type)||e.tag===4}function nc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||km(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Bi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ic(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ei));else if(a!==4&&(a===27&&Bi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ic(e,t,n),e=e.sibling;e!==null;)ic(e,t,n),e=e.sibling}function Hs(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Bi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Hs(e,t,n),e=e.sibling;e!==null;)Hs(e,t,n),e=e.sibling}function Nm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Pt(t,a,n),t[_]=e,t[J]=n}catch(r){tt(e,e.return,r)}}var ui=!1,At=!1,ac=!1,zm=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function $p(e,t){if(e=e.containerInfo,Cc=ll,e=Uu(e),Wl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var d=0,h=-1,C=-1,R=0,G=0,Q=e,F=null;t:for(;;){for(var U;Q!==n||s!==0&&Q.nodeType!==3||(h=d+s),Q!==r||a!==0&&Q.nodeType!==3||(C=d+a),Q.nodeType===3&&(d+=Q.nodeValue.length),(U=Q.firstChild)!==null;)F=Q,Q=U;for(;;){if(Q===e)break t;if(F===n&&++R===s&&(h=d),F===r&&++G===a&&(C=d),(U=Q.nextSibling)!==null)break;Q=F,F=Q.parentNode}Q=U}n=h===-1||C===-1?null:{start:h,end:C}}else n=null}n=n||{start:0,end:0}}else n=null;for(_c={focusedElem:e,selectionRange:n},ll=!1,Ft=t;Ft!==null;)if(t=Ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ft=e;else for(;Ft!==null;){switch(t=Ft,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,n=t,s=r.memoizedProps,r=r.memoizedState,a=n.stateNode;try{var ye=ca(n.type,s);e=a.getSnapshotBeforeUpdate(ye,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(ze){tt(n,n.return,ze)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)zc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,Ft=e;break}Ft=t.return}}function Dm(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:mi(e,n),a&4&&zo(5,n);break;case 1:if(mi(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(d){tt(n,n.return,d)}else{var s=ca(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){tt(n,n.return,d)}}a&64&&Tm(n),a&512&&Do(n,n.return);break;case 3:if(mi(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{gd(e,t)}catch(d){tt(n,n.return,d)}}break;case 27:t===null&&a&4&&Nm(n);case 26:case 5:mi(e,n),t===null&&a&4&&_m(n),a&512&&Do(n,n.return);break;case 12:mi(e,n);break;case 31:mi(e,n),a&4&&Em(e,n);break;case 13:mi(e,n),a&4&&Rm(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=rh.bind(null,n),Nh(e,n))));break;case 22:if(a=n.memoizedState!==null||ui,!a){t=t!==null&&t.memoizedState!==null||At,s=ui;var r=At;ui=a,(At=t)&&!r?fi(e,n,(n.subtreeFlags&8772)!==0):mi(e,n),ui=s,At=r}break;case 30:break;default:mi(e,n)}}function Am(e){var t=e.alternate;t!==null&&(e.alternate=null,Am(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Yt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pt=null,tn=!1;function di(e,t,n){for(n=n.child;n!==null;)Mm(e,t,n),n=n.sibling}function Mm(e,t,n){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Qt,n)}catch{}switch(n.tag){case 26:At||Qn(n,t),di(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:At||Qn(n,t);var a=pt,s=tn;Bi(n.type)&&(pt=n.stateNode,tn=!1),di(e,t,n),Io(n.stateNode),pt=a,tn=s;break;case 5:At||Qn(n,t);case 6:if(a=pt,s=tn,pt=null,di(e,t,n),pt=a,tn=s,pt!==null)if(tn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(n.stateNode)}catch(r){tt(n,t,r)}else try{pt.removeChild(n.stateNode)}catch(r){tt(n,t,r)}break;case 18:pt!==null&&(tn?(e=pt,Cf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Qa(e)):Cf(pt,n.stateNode));break;case 4:a=pt,s=tn,pt=n.stateNode.containerInfo,tn=!0,di(e,t,n),pt=a,tn=s;break;case 0:case 11:case 14:case 15:Ni(2,n,t),At||Ni(4,n,t),di(e,t,n);break;case 1:At||(Qn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Cm(n,t,a)),di(e,t,n);break;case 21:di(e,t,n);break;case 22:At=(a=At)||n.memoizedState!==null,di(e,t,n),At=a;break;default:di(e,t,n)}}function Em(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qa(e)}catch(n){tt(t,t.return,n)}}}function Rm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qa(e)}catch(n){tt(t,t.return,n)}}function eh(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new zm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new zm),t;default:throw Error(c(435,e.tag))}}function Us(e,t){var n=eh(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var s=ch.bind(null,e,a);a.then(s,s)}})}function nn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a],r=e,d=t,h=d;e:for(;h!==null;){switch(h.tag){case 27:if(Bi(h.type)){pt=h.stateNode,tn=!1;break e}break;case 5:pt=h.stateNode,tn=!1;break e;case 3:case 4:pt=h.stateNode.containerInfo,tn=!0;break e}h=h.return}if(pt===null)throw Error(c(160));Mm(r,d,s),pt=null,tn=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Bm(t,e),t=t.sibling}var Un=null;function Bm(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:nn(t,e),an(e),a&4&&(Ni(3,e,e.return),zo(3,e),Ni(5,e,e.return));break;case 1:nn(t,e),an(e),a&512&&(At||n===null||Qn(n,n.return)),a&64&&ui&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var s=Un;if(nn(t,e),an(e),a&512&&(At||n===null||Qn(n,n.return)),a&4){var r=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":r=s.getElementsByTagName("title")[0],(!r||r[Ze]||r[_]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(a),s.head.insertBefore(r,s.querySelector("head > title"))),Pt(r,a,n),r[_]=e,Je(r),a=r;break e;case"link":var d=Ff("link","href",s).get(a+(n.href||""));if(d){for(var h=0;h<d.length;h++)if(r=d[h],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){d.splice(h,1);break t}}r=s.createElement(a),Pt(r,a,n),s.head.appendChild(r);break;case"meta":if(d=Ff("meta","content",s).get(a+(n.content||""))){for(h=0;h<d.length;h++)if(r=d[h],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){d.splice(h,1);break t}}r=s.createElement(a),Pt(r,a,n),s.head.appendChild(r);break;default:throw Error(c(468,a))}r[_]=e,Je(r),a=r}e.stateNode=a}else Lf(s,e.type,e.stateNode);else e.stateNode=Bf(s,a,e.memoizedProps);else r!==a?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,a===null?Lf(s,e.type,e.stateNode):Bf(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&tc(e,e.memoizedProps,n.memoizedProps)}break;case 27:nn(t,e),an(e),a&512&&(At||n===null||Qn(n,n.return)),n!==null&&a&4&&tc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(nn(t,e),an(e),a&512&&(At||n===null||Qn(n,n.return)),e.flags&32){s=e.stateNode;try{ba(s,"")}catch(ye){tt(e,e.return,ye)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,tc(e,s,n!==null?n.memoizedProps:s)),a&1024&&(ac=!0);break;case 6:if(nn(t,e),an(e),a&4){if(e.stateNode===null)throw Error(c(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(ye){tt(e,e.return,ye)}}break;case 3:if(il=null,s=Un,Un=tl(t.containerInfo),nn(t,e),Un=s,an(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Qa(t.containerInfo)}catch(ye){tt(e,e.return,ye)}ac&&(ac=!1,Fm(e));break;case 4:a=Un,Un=tl(e.stateNode.containerInfo),nn(t,e),an(e),Un=a;break;case 12:nn(t,e),an(e);break;case 31:nn(t,e),an(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Us(e,a)));break;case 13:nn(t,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Gs=_t()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Us(e,a)));break;case 22:s=e.memoizedState!==null;var C=n!==null&&n.memoizedState!==null,R=ui,G=At;if(ui=R||s,At=G||C,nn(t,e),At=G,ui=R,an(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||C||ui||At||ua(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){C=n=t;try{if(r=C.stateNode,s)d=r.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{h=C.stateNode;var Q=C.memoizedProps.style,F=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;h.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ye){tt(C,C.return,ye)}}}else if(t.tag===6){if(n===null){C=t;try{C.stateNode.nodeValue=s?"":C.memoizedProps}catch(ye){tt(C,C.return,ye)}}}else if(t.tag===18){if(n===null){C=t;try{var U=C.stateNode;s?_f(U,!0):_f(C.stateNode,!1)}catch(ye){tt(C,C.return,ye)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Us(e,n))));break;case 19:nn(t,e),an(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Us(e,a)));break;case 30:break;case 21:break;default:nn(t,e),an(e)}}function an(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(km(a)){n=a;break}a=a.return}if(n==null)throw Error(c(160));switch(n.tag){case 27:var s=n.stateNode,r=nc(e);Hs(e,r,s);break;case 5:var d=n.stateNode;n.flags&32&&(ba(d,""),n.flags&=-33);var h=nc(e);Hs(e,h,d);break;case 3:case 4:var C=n.stateNode.containerInfo,R=nc(e);ic(e,R,C);break;default:throw Error(c(161))}}catch(G){tt(e,e.return,G)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Fm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function mi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Dm(e,t.alternate,t),t=t.sibling}function ua(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ni(4,t,t.return),ua(t);break;case 1:Qn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Cm(t,t.return,n),ua(t);break;case 27:Io(t.stateNode);case 26:case 5:Qn(t,t.return),ua(t);break;case 22:t.memoizedState===null&&ua(t);break;case 30:ua(t);break;default:ua(t)}e=e.sibling}}function fi(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,r=t,d=r.flags;switch(r.tag){case 0:case 11:case 15:fi(s,r,n),zo(4,r);break;case 1:if(fi(s,r,n),a=r,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(R){tt(a,a.return,R)}if(a=r,s=a.updateQueue,s!==null){var h=a.stateNode;try{var C=s.shared.hiddenCallbacks;if(C!==null)for(s.shared.hiddenCallbacks=null,s=0;s<C.length;s++)fd(C[s],h)}catch(R){tt(a,a.return,R)}}n&&d&64&&Tm(r),Do(r,r.return);break;case 27:Nm(r);case 26:case 5:fi(s,r,n),n&&a===null&&d&4&&_m(r),Do(r,r.return);break;case 12:fi(s,r,n);break;case 31:fi(s,r,n),n&&d&4&&Em(s,r);break;case 13:fi(s,r,n),n&&d&4&&Rm(s,r);break;case 22:r.memoizedState===null&&fi(s,r,n),Do(r,r.return);break;case 30:break;default:fi(s,r,n)}t=t.sibling}}function oc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ho(n))}function sc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ho(e))}function Vn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lm(e,t,n,a),t=t.sibling}function Lm(e,t,n,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Vn(e,t,n,a),s&2048&&zo(9,t);break;case 1:Vn(e,t,n,a);break;case 3:Vn(e,t,n,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ho(e)));break;case 12:if(s&2048){Vn(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,d=r.id,h=r.onPostCommit;typeof h=="function"&&h(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){tt(t,t.return,C)}}else Vn(e,t,n,a);break;case 31:Vn(e,t,n,a);break;case 13:Vn(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,d=t.alternate,t.memoizedState!==null?r._visibility&2?Vn(e,t,n,a):Ao(e,t):r._visibility&2?Vn(e,t,n,a):(r._visibility|=2,Oa(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&oc(d,t);break;case 24:Vn(e,t,n,a),s&2048&&sc(t.alternate,t);break;default:Vn(e,t,n,a)}}function Oa(e,t,n,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,d=t,h=n,C=a,R=d.flags;switch(d.tag){case 0:case 11:case 15:Oa(r,d,h,C,s),zo(8,d);break;case 23:break;case 22:var G=d.stateNode;d.memoizedState!==null?G._visibility&2?Oa(r,d,h,C,s):Ao(r,d):(G._visibility|=2,Oa(r,d,h,C,s)),s&&R&2048&&oc(d.alternate,d);break;case 24:Oa(r,d,h,C,s),s&&R&2048&&sc(d.alternate,d);break;default:Oa(r,d,h,C,s)}t=t.sibling}}function Ao(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,s=a.flags;switch(a.tag){case 22:Ao(n,a),s&2048&&oc(a.alternate,a);break;case 24:Ao(n,a),s&2048&&sc(a.alternate,a);break;default:Ao(n,a)}t=t.sibling}}var Mo=8192;function Ia(e,t,n){if(e.subtreeFlags&Mo)for(e=e.child;e!==null;)Om(e,t,n),e=e.sibling}function Om(e,t,n){switch(e.tag){case 26:Ia(e,t,n),e.flags&Mo&&e.memoizedState!==null&&Hh(n,Un,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,t,n);break;case 3:case 4:var a=Un;Un=tl(e.stateNode.containerInfo),Ia(e,t,n),Un=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Mo,Mo=16777216,Ia(e,t,n),Mo=a):Ia(e,t,n));break;default:Ia(e,t,n)}}function Im(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Eo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ft=a,Um(a,e)}Im(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hm(e),e=e.sibling}function Hm(e){switch(e.tag){case 0:case 11:case 15:Eo(e),e.flags&2048&&Ni(9,e,e.return);break;case 3:Eo(e);break;case 12:Eo(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vs(e)):Eo(e);break;default:Eo(e)}}function Vs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ft=a,Um(a,e)}Im(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ni(8,t,t.return),Vs(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Vs(t));break;default:Vs(t)}e=e.sibling}}function Um(e,t){for(;Ft!==null;){var n=Ft;switch(n.tag){case 0:case 11:case 15:Ni(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ho(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Ft=a;else e:for(n=e;Ft!==null;){a=Ft;var s=a.sibling,r=a.return;if(Am(a),a===n){Ft=null;break e}if(s!==null){s.return=r,Ft=s;break e}Ft=r}}}var th={getCacheForType:function(e){var t=qt(Nt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return qt(Nt).controller.signal}},nh=typeof WeakMap=="function"?WeakMap:Map,$e=0,lt=null,He=null,Ge=0,et=0,hn=null,zi=!1,Ha=!1,lc=!1,gi=0,St=0,Di=0,da=0,rc=0,vn=0,Ua=0,Ro=null,on=null,cc=!1,Gs=0,Vm=0,qs=1/0,Ks=null,Ai=null,Rt=0,Mi=null,Va=null,pi=0,uc=0,dc=null,Gm=null,Bo=0,mc=null;function bn(){return($e&2)!==0&&Ge!==0?Ge&-Ge:D.T!==null?bc():st()}function qm(){if(vn===0)if((Ge&536870912)===0||Ye){var e=Y;Y<<=1,(Y&3932160)===0&&(Y=262144),vn=e}else vn=536870912;return e=gn.current,e!==null&&(e.flags|=32),vn}function sn(e,t,n){(e===lt&&(et===2||et===9)||e.cancelPendingCommit!==null)&&(Ga(e,0),Ei(e,Ge,vn,!1)),Se(e,n),(($e&2)===0||e!==lt)&&(e===lt&&(($e&2)===0&&(da|=n),St===4&&Ei(e,Ge,vn,!1)),Xn(e))}function Km(e,t,n){if(($e&6)!==0)throw Error(c(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||gt(e,t),s=a?oh(e,t):gc(e,t,!0),r=a;do{if(s===0){Ha&&!a&&Ei(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!ih(n)){s=gc(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var h=e;s=Ro;var C=h.current.memoizedState.isDehydrated;if(C&&(Ga(h,d).flags|=256),d=gc(h,d,!1),d!==2){if(lc&&!C){h.errorRecoveryDisabledLanes|=r,da|=r,s=4;break e}r=on,on=s,r!==null&&(on===null?on=r:on.push.apply(on,r))}s=d}if(r=!1,s!==2)continue}}if(s===1){Ga(e,0),Ei(e,t,0,!0);break}e:{switch(a=e,r=s,r){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:Ei(a,t,vn,!zi);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(s=Gs+300-_t(),10<s)){if(Ei(a,t,vn,!zi),jn(a,0,!0)!==0)break e;pi=t,a.timeoutHandle=jf(Pm.bind(null,a,n,on,Ks,cc,t,vn,da,Ua,zi,r,"Throttled",-0,0),s);break e}Pm(a,n,on,Ks,cc,t,vn,da,Ua,zi,r,null,-0,0)}}break}while(!0);Xn(e)}function Pm(e,t,n,a,s,r,d,h,C,R,G,Q,F,U){if(e.timeoutHandle=-1,Q=t.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},Om(t,r,Q);var ye=(r&62914560)===r?Gs-_t():(r&4194048)===r?Vm-_t():0;if(ye=Uh(Q,ye),ye!==null){pi=r,e.cancelPendingCommit=ye(ef.bind(null,e,t,r,n,a,s,d,h,C,G,Q,null,F,U)),Ei(e,r,d,!R);return}}ef(e,t,r,n,a,s,d,h,C)}function ih(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var s=n[a],r=s.getSnapshot;s=s.value;try{if(!mn(r(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ei(e,t,n,a){t&=~rc,t&=~da,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var r=31-ct(s),d=1<<r;a[r]=-1,s&=~d}n!==0&&Pe(e,n,t)}function Ps(){return($e&6)===0?(Fo(0),!1):!0}function fc(){if(He!==null){if(et===0)var e=He.return;else e=He,ai=na=null,zr(e),Ea=null,bo=0,e=He;for(;e!==null;)jm(e.alternate,e),e=e.return;He=null}}function Ga(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,jh(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),pi=0,fc(),lt=e,He=n=ni(e.current,null),Ge=t,et=0,hn=null,zi=!1,Ha=gt(e,t),lc=!1,Ua=vn=rc=da=Di=St=0,on=Ro=null,cc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-ct(a),r=1<<s;t|=e[s],a&=~r}return gi=t,fs(),n}function Ym(e,t){Ae=null,D.H=_o,t===Ma||t===Ss?(t=cd(),et=3):t===vr?(t=cd(),et=4):et=t===Kr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,hn=t,He===null&&(St=1,Bs(e,Nn(t,e.current)))}function Zm(){var e=gn.current;return e===null?!0:(Ge&4194048)===Ge?Mn===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?e===Mn:!1}function Qm(){var e=D.H;return D.H=_o,e===null?_o:e}function Xm(){var e=D.A;return D.A=th,e}function Ys(){St=4,zi||(Ge&4194048)!==Ge&&gn.current!==null||(Ha=!0),(Di&134217727)===0&&(da&134217727)===0||lt===null||Ei(lt,Ge,vn,!1)}function gc(e,t,n){var a=$e;$e|=2;var s=Qm(),r=Xm();(lt!==e||Ge!==t)&&(Ks=null,Ga(e,t)),t=!1;var d=St;e:do try{if(et!==0&&He!==null){var h=He,C=hn;switch(et){case 8:fc(),d=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(t=!0);var R=et;if(et=0,hn=null,qa(e,h,C,R),n&&Ha){d=0;break e}break;default:R=et,et=0,hn=null,qa(e,h,C,R)}}ah(),d=St;break}catch(G){Ym(e,G)}while(!0);return t&&e.shellSuspendCounter++,ai=na=null,$e=a,D.H=s,D.A=r,He===null&&(lt=null,Ge=0,fs()),d}function ah(){for(;He!==null;)Wm(He)}function oh(e,t){var n=$e;$e|=2;var a=Qm(),s=Xm();lt!==e||Ge!==t?(Ks=null,qs=_t()+500,Ga(e,t)):Ha=gt(e,t);e:do try{if(et!==0&&He!==null){t=He;var r=hn;t:switch(et){case 1:et=0,hn=null,qa(e,t,r,1);break;case 2:case 9:if(ld(r)){et=0,hn=null,Jm(t);break}t=function(){et!==2&&et!==9||lt!==e||(et=7),Xn(e)},r.then(t,t);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:ld(r)?(et=0,hn=null,Jm(t)):(et=0,hn=null,qa(e,t,r,7));break;case 5:var d=null;switch(He.tag){case 26:d=He.memoizedState;case 5:case 27:var h=He;if(d?Of(d):h.stateNode.complete){et=0,hn=null;var C=h.sibling;if(C!==null)He=C;else{var R=h.return;R!==null?(He=R,Zs(R)):He=null}break t}}et=0,hn=null,qa(e,t,r,5);break;case 6:et=0,hn=null,qa(e,t,r,6);break;case 8:fc(),St=6;break e;default:throw Error(c(462))}}sh();break}catch(G){Ym(e,G)}while(!0);return ai=na=null,D.H=a,D.A=s,$e=n,He!==null?0:(lt=null,Ge=0,fs(),St)}function sh(){for(;He!==null&&!rt();)Wm(He)}function Wm(e){var t=Sm(e.alternate,e,gi);e.memoizedProps=e.pendingProps,t===null?Zs(e):He=t}function Jm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=pm(n,t,t.pendingProps,t.type,void 0,Ge);break;case 11:t=pm(n,t,t.pendingProps,t.type.render,t.ref,Ge);break;case 5:zr(t);default:jm(n,t),t=He=Xu(t,gi),t=Sm(n,t,gi)}e.memoizedProps=e.pendingProps,t===null?Zs(e):He=t}function qa(e,t,n,a){ai=na=null,zr(t),Ea=null,bo=0;var s=t.return;try{if(Zp(e,s,t,n,Ge)){St=1,Bs(e,Nn(n,e.current)),He=null;return}}catch(r){if(s!==null)throw He=s,r;St=1,Bs(e,Nn(n,e.current)),He=null;return}t.flags&32768?(Ye||a===1?e=!0:Ha||(Ge&536870912)!==0?e=!1:(zi=e=!0,(a===2||a===9||a===3||a===6)&&(a=gn.current,a!==null&&a.tag===13&&(a.flags|=16384))),$m(t,e)):Zs(t)}function Zs(e){var t=e;do{if((t.flags&32768)!==0){$m(t,zi);return}e=t.return;var n=Wp(t.alternate,t,gi);if(n!==null){He=n;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);St===0&&(St=5)}function $m(e,t){do{var n=Jp(e.alternate,e);if(n!==null){n.flags&=32767,He=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){He=e;return}He=e=n}while(e!==null);St=6,He=null}function ef(e,t,n,a,s,r,d,h,C){e.cancelPendingCommit=null;do Qs();while(Rt!==0);if(($e&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(r=t.lanes|t.childLanes,r|=nr,ge(e,n,r,d,h,C),e===lt&&(He=lt=null,Ge=0),Va=t,Mi=e,pi=n,uc=r,dc=s,Gm=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,uh(Jt,function(){return sf(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=D.T,D.T=null,s=te.p,te.p=2,d=$e,$e|=4;try{$p(e,t,n)}finally{$e=d,te.p=s,D.T=a}}Rt=1,tf(),nf(),af()}}function tf(){if(Rt===1){Rt=0;var e=Mi,t=Va,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=D.T,D.T=null;var a=te.p;te.p=2;var s=$e;$e|=4;try{Bm(t,e);var r=_c,d=Uu(e.containerInfo),h=r.focusedElem,C=r.selectionRange;if(d!==h&&h&&h.ownerDocument&&Hu(h.ownerDocument.documentElement,h)){if(C!==null&&Wl(h)){var R=C.start,G=C.end;if(G===void 0&&(G=R),"selectionStart"in h)h.selectionStart=R,h.selectionEnd=Math.min(G,h.value.length);else{var Q=h.ownerDocument||document,F=Q&&Q.defaultView||window;if(F.getSelection){var U=F.getSelection(),ye=h.textContent.length,ze=Math.min(C.start,ye),at=C.end===void 0?ze:Math.min(C.end,ye);!U.extend&&ze>at&&(d=at,at=ze,ze=d);var A=Iu(h,ze),N=Iu(h,at);if(A&&N&&(U.rangeCount!==1||U.anchorNode!==A.node||U.anchorOffset!==A.offset||U.focusNode!==N.node||U.focusOffset!==N.offset)){var E=Q.createRange();E.setStart(A.node,A.offset),U.removeAllRanges(),ze>at?(U.addRange(E),U.extend(N.node,N.offset)):(E.setEnd(N.node,N.offset),U.addRange(E))}}}}for(Q=[],U=h;U=U.parentNode;)U.nodeType===1&&Q.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<Q.length;h++){var P=Q[h];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}ll=!!Cc,_c=Cc=null}finally{$e=s,te.p=a,D.T=n}}e.current=t,Rt=2}}function nf(){if(Rt===2){Rt=0;var e=Mi,t=Va,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=D.T,D.T=null;var a=te.p;te.p=2;var s=$e;$e|=4;try{Dm(e,t.alternate,t)}finally{$e=s,te.p=a,D.T=n}}Rt=3}}function af(){if(Rt===4||Rt===3){Rt=0,We();var e=Mi,t=Va,n=pi,a=Gm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Rt=5:(Rt=0,Va=Mi=null,of(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Ai=null),yt(n),t=t.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Qt,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=D.T,s=te.p,te.p=2,D.T=null;try{for(var r=e.onRecoverableError,d=0;d<a.length;d++){var h=a[d];r(h.value,{componentStack:h.stack})}}finally{D.T=t,te.p=s}}(pi&3)!==0&&Qs(),Xn(e),s=e.pendingLanes,(n&261930)!==0&&(s&42)!==0?e===mc?Bo++:(Bo=0,mc=e):Bo=0,Fo(0)}}function of(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ho(t)))}function Qs(){return tf(),nf(),af(),sf()}function sf(){if(Rt!==5)return!1;var e=Mi,t=uc;uc=0;var n=yt(pi),a=D.T,s=te.p;try{te.p=32>n?32:n,D.T=null,n=dc,dc=null;var r=Mi,d=pi;if(Rt=0,Va=Mi=null,pi=0,($e&6)!==0)throw Error(c(331));var h=$e;if($e|=4,Hm(r.current),Lm(r,r.current,d,n),$e=h,Fo(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Qt,r)}catch{}return!0}finally{te.p=s,D.T=a,of(e,t)}}function lf(e,t,n){t=Nn(n,t),t=qr(e.stateNode,t,2),e=Ci(e,t,2),e!==null&&(Se(e,2),Xn(e))}function tt(e,t,n){if(e.tag===3)lf(e,e,n);else for(;t!==null;){if(t.tag===3){lf(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ai===null||!Ai.has(a))){e=Nn(n,e),n=lm(2),a=Ci(t,n,2),a!==null&&(rm(n,a,t,e),Se(a,2),Xn(a));break}}t=t.return}}function pc(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new nh;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(n)||(lc=!0,s.add(n),e=lh.bind(null,e,t,n),t.then(e,e))}function lh(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,lt===e&&(Ge&n)===n&&(St===4||St===3&&(Ge&62914560)===Ge&&300>_t()-Gs?($e&2)===0&&Ga(e,0):rc|=n,Ua===Ge&&(Ua=0)),Xn(e)}function rf(e,t){t===0&&(t=Ht()),e=$i(e,t),e!==null&&(Se(e,t),Xn(e))}function rh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rf(e,n)}function ch(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(c(314))}a!==null&&a.delete(t),rf(e,n)}function uh(e,t){return ot(e,t)}var Xs=null,Ka=null,hc=!1,Ws=!1,vc=!1,Ri=0;function Xn(e){e!==Ka&&e.next===null&&(Ka===null?Xs=Ka=e:Ka=Ka.next=e),Ws=!0,hc||(hc=!0,mh())}function Fo(e,t){if(!vc&&Ws){vc=!0;do for(var n=!1,a=Xs;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var r=0;else{var d=a.suspendedLanes,h=a.pingedLanes;r=(1<<31-ct(42|e)+1)-1,r&=s&~(d&~h),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,mf(a,r))}else r=Ge,r=jn(a,a===lt?r:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(r&3)===0||gt(a,r)||(n=!0,mf(a,r));a=a.next}while(n);vc=!1}}function dh(){cf()}function cf(){Ws=hc=!1;var e=0;Ri!==0&&wh()&&(e=Ri);for(var t=_t(),n=null,a=Xs;a!==null;){var s=a.next,r=uf(a,t);r===0?(a.next=null,n===null?Xs=s:n.next=s,s===null&&(Ka=n)):(n=a,(e!==0||(r&3)!==0)&&(Ws=!0)),a=s}Rt!==0&&Rt!==5||Fo(e),Ri!==0&&(Ri=0)}function uf(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var d=31-ct(r),h=1<<d,C=s[d];C===-1?((h&n)===0||(h&a)!==0)&&(s[d]=dn(h,t)):C<=t&&(e.expiredLanes|=h),r&=~h}if(t=lt,n=Ge,n=jn(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(et===2||et===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Et(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||gt(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Et(a),yt(n)){case 2:case 8:n=Wn;break;case 32:n=Jt;break;case 268435456:n=Zt;break;default:n=Jt}return a=df.bind(null,e),n=ot(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Et(a),e.callbackPriority=2,e.callbackNode=null,2}function df(e,t){if(Rt!==0&&Rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Qs()&&e.callbackNode!==n)return null;var a=Ge;return a=jn(e,e===lt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Km(e,a,t),uf(e,_t()),e.callbackNode!=null&&e.callbackNode===n?df.bind(null,e):null)}function mf(e,t){if(Qs())return null;Km(e,t,!0)}function mh(){Th(function(){($e&6)!==0?ot(vi,dh):cf()})}function bc(){if(Ri===0){var e=Da;e===0&&(e=Kn,Kn<<=1,(Kn&261888)===0&&(Kn=256)),Ri=e}return Ri}function ff(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:os(""+e)}function gf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function fh(e,t,n,a,s){if(t==="submit"&&n&&n.stateNode===s){var r=ff((s[J]||null).action),d=a.submitter;d&&(t=(t=d[J]||null)?ff(t.formAction):d.getAttribute("formAction"),t!==null&&(r=t,d=null));var h=new cs("action","action",null,a,s);e.push({event:h,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ri!==0){var C=d?gf(s,d):new FormData(s);Or(n,{pending:!0,data:C,method:s.method,action:r},null,C)}}else typeof r=="function"&&(h.preventDefault(),C=d?gf(s,d):new FormData(s),Or(n,{pending:!0,data:C,method:s.method,action:r},r,C))},currentTarget:s}]})}}for(var yc=0;yc<tr.length;yc++){var xc=tr[yc],gh=xc.toLowerCase(),ph=xc[0].toUpperCase()+xc.slice(1);Hn(gh,"on"+ph)}Hn(qu,"onAnimationEnd"),Hn(Ku,"onAnimationIteration"),Hn(Pu,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(Ap,"onTransitionRun"),Hn(Mp,"onTransitionStart"),Hn(Ep,"onTransitionCancel"),Hn(Yu,"onTransitionEnd"),Pn("onMouseEnter",["mouseout","mouseover"]),Pn("onMouseLeave",["mouseout","mouseover"]),Pn("onPointerEnter",["pointerout","pointerover"]),Pn("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lo));function pf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var d=a.length-1;0<=d;d--){var h=a[d],C=h.instance,R=h.currentTarget;if(h=h.listener,C!==r&&s.isPropagationStopped())break e;r=h,s.currentTarget=R;try{r(s)}catch(G){ms(G)}s.currentTarget=null,r=C}else for(d=0;d<a.length;d++){if(h=a[d],C=h.instance,R=h.currentTarget,h=h.listener,C!==r&&s.isPropagationStopped())break e;r=h,s.currentTarget=R;try{r(s)}catch(G){ms(G)}s.currentTarget=null,r=C}}}}function Ue(e,t){var n=t[De];n===void 0&&(n=t[De]=new Set);var a=e+"__bubble";n.has(a)||(hf(t,e,2,!1),n.add(a))}function Sc(e,t,n){var a=0;t&&(a|=4),hf(n,e,a,t)}var Js="_reactListening"+Math.random().toString(36).slice(2);function wc(e){if(!e[Js]){e[Js]=!0,Xt.forEach(function(n){n!=="selectionchange"&&(hh.has(n)||Sc(n,!1,e),Sc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Js]||(t[Js]=!0,Sc("selectionchange",!1,t))}}function hf(e,t,n,a){switch(Kf(t)){case 2:var s=qh;break;case 8:s=Kh;break;default:s=Lc}n=s.bind(null,t,n,e),s=void 0,!Vl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function jc(e,t,n,a,s){var r=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var h=a.stateNode.containerInfo;if(h===s)break;if(d===4)for(d=a.return;d!==null;){var C=d.tag;if((C===3||C===4)&&d.stateNode.containerInfo===s)return;d=d.return}for(;h!==null;){if(d=Vt(h),d===null)return;if(C=d.tag,C===5||C===6||C===26||C===27){a=r=d;continue e}h=h.parentNode}}a=a.return}xu(function(){var R=r,G=Hl(n),Q=[];e:{var F=Zu.get(e);if(F!==void 0){var U=cs,ye=e;switch(e){case"keypress":if(ls(n)===0)break e;case"keydown":case"keyup":U=cp;break;case"focusin":ye="focus",U=Pl;break;case"focusout":ye="blur",U=Pl;break;case"beforeblur":case"afterblur":U=Pl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Wg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=mp;break;case qu:case Ku:case Pu:U=ep;break;case Yu:U=gp;break;case"scroll":case"scrollend":U=Qg;break;case"wheel":U=hp;break;case"copy":case"cut":case"paste":U=np;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Cu;break;case"toggle":case"beforetoggle":U=bp}var ze=(t&4)!==0,at=!ze&&(e==="scroll"||e==="scrollend"),A=ze?F!==null?F+"Capture":null:F;ze=[];for(var N=R,E;N!==null;){var P=N;if(E=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||E===null||A===null||(P=ao(N,A),P!=null&&ze.push(Oo(N,P,E))),at)break;N=N.return}0<ze.length&&(F=new U(F,ye,null,n,G),Q.push({event:F,listeners:ze}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",F&&n!==Il&&(ye=n.relatedTarget||n.fromElement)&&(Vt(ye)||ye[oe]))break e;if((U||F)&&(F=G.window===G?G:(F=G.ownerDocument)?F.defaultView||F.parentWindow:window,U?(ye=n.relatedTarget||n.toElement,U=R,ye=ye?Vt(ye):null,ye!==null&&(at=p(ye),ze=ye.tag,ye!==at||ze!==5&&ze!==27&&ze!==6)&&(ye=null)):(U=null,ye=R),U!==ye)){if(ze=ju,P="onMouseLeave",A="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ze=Cu,P="onPointerLeave",A="onPointerEnter",N="pointer"),at=U==null?F:Ve(U),E=ye==null?F:Ve(ye),F=new ze(P,N+"leave",U,n,G),F.target=at,F.relatedTarget=E,P=null,Vt(G)===R&&(ze=new ze(A,N+"enter",ye,n,G),ze.target=E,ze.relatedTarget=at,P=ze),at=P,U&&ye)t:{for(ze=vh,A=U,N=ye,E=0,P=A;P;P=ze(P))E++;P=0;for(var _e=N;_e;_e=ze(_e))P++;for(;0<E-P;)A=ze(A),E--;for(;0<P-E;)N=ze(N),P--;for(;E--;){if(A===N||N!==null&&A===N.alternate){ze=A;break t}A=ze(A),N=ze(N)}ze=null}else ze=null;U!==null&&vf(Q,F,U,ze,!1),ye!==null&&at!==null&&vf(Q,at,ye,ze,!0)}}e:{if(F=R?Ve(R):window,U=F.nodeName&&F.nodeName.toLowerCase(),U==="select"||U==="input"&&F.type==="file")var Qe=Eu;else if(Au(F))if(Ru)Qe=Np;else{Qe=_p;var je=Cp}else U=F.nodeName,!U||U.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?R&&Ol(R.elementType)&&(Qe=Eu):Qe=kp;if(Qe&&(Qe=Qe(e,R))){Mu(Q,Qe,n,G);break e}je&&je(e,F,R),e==="focusout"&&R&&F.type==="number"&&R.memoizedProps.value!=null&&Ll(F,"number",F.value)}switch(je=R?Ve(R):window,e){case"focusin":(Au(je)||je.contentEditable==="true")&&(wa=je,Jl=R,fo=null);break;case"focusout":fo=Jl=wa=null;break;case"mousedown":$l=!0;break;case"contextmenu":case"mouseup":case"dragend":$l=!1,Vu(Q,n,G);break;case"selectionchange":if(Dp)break;case"keydown":case"keyup":Vu(Q,n,G)}var Me;if(Zl)e:{switch(e){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Sa?zu(e,n)&&(qe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(qe="onCompositionStart");qe&&(_u&&n.locale!=="ko"&&(Sa||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Sa&&(Me=Su()):(bi=G,Gl="value"in bi?bi.value:bi.textContent,Sa=!0)),je=$s(R,qe),0<je.length&&(qe=new Tu(qe,e,null,n,G),Q.push({event:qe,listeners:je}),Me?qe.data=Me:(Me=Du(n),Me!==null&&(qe.data=Me)))),(Me=xp?Sp(e,n):wp(e,n))&&(qe=$s(R,"onBeforeInput"),0<qe.length&&(je=new Tu("onBeforeInput","beforeinput",null,n,G),Q.push({event:je,listeners:qe}),je.data=Me)),fh(Q,e,R,n,G)}pf(Q,t)})}function Oo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $s(e,t){for(var n=t+"Capture",a=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=ao(e,n),s!=null&&a.unshift(Oo(e,s,r)),s=ao(e,t),s!=null&&a.push(Oo(e,s,r))),e.tag===3)return a;e=e.return}return[]}function vh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vf(e,t,n,a,s){for(var r=t._reactName,d=[];n!==null&&n!==a;){var h=n,C=h.alternate,R=h.stateNode;if(h=h.tag,C!==null&&C===a)break;h!==5&&h!==26&&h!==27||R===null||(C=R,s?(R=ao(n,r),R!=null&&d.unshift(Oo(n,R,C))):s||(R=ao(n,r),R!=null&&d.push(Oo(n,R,C)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var bh=/\r\n?/g,yh=/\u0000|\uFFFD/g;function bf(e){return(typeof e=="string"?e:""+e).replace(bh,`
`).replace(yh,"")}function yf(e,t){return t=bf(t),bf(e)===t}function it(e,t,n,a,s,r){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ba(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ba(e,""+a);break;case"className":is(e,"class",a);break;case"tabIndex":is(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":is(e,n,a);break;case"style":bu(e,a,r);break;case"data":if(t!=="object"){is(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=os(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&it(e,t,"name",s.name,s,null),it(e,t,"formEncType",s.formEncType,s,null),it(e,t,"formMethod",s.formMethod,s,null),it(e,t,"formTarget",s.formTarget,s,null)):(it(e,t,"encType",s.encType,s,null),it(e,t,"method",s.method,s,null),it(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=os(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=ei);break;case"onScroll":a!=null&&Ue("scroll",e);break;case"onScrollEnd":a!=null&&Ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(c(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=os(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Ue("beforetoggle",e),Ue("toggle",e),ns(e,"popover",a);break;case"xlinkActuate":$n(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":$n(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":$n(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":$n(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":$n(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":$n(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":$n(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":$n(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":$n(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ns(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Yg.get(n)||n,ns(e,n,a))}}function Tc(e,t,n,a,s,r){switch(n){case"style":bu(e,a,r);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(c(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"children":typeof a=="string"?ba(e,a):(typeof a=="number"||typeof a=="bigint")&&ba(e,""+a);break;case"onScroll":a!=null&&Ue("scroll",e);break;case"onScrollEnd":a!=null&&Ue("scrollend",e);break;case"onClick":a!=null&&(e.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tn.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),r=e[J]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof a=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,s);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):ns(e,n,a)}}}function Pt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",e),Ue("load",e);var a=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:it(e,t,r,d,n,null)}}s&&it(e,t,"srcSet",n.srcSet,n,null),a&&it(e,t,"src",n.src,n,null);return;case"input":Ue("invalid",e);var h=r=d=s=null,C=null,R=null;for(a in n)if(n.hasOwnProperty(a)){var G=n[a];if(G!=null)switch(a){case"name":s=G;break;case"type":d=G;break;case"checked":C=G;break;case"defaultChecked":R=G;break;case"value":r=G;break;case"defaultValue":h=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(c(137,t));break;default:it(e,t,a,G,n,null)}}gu(e,r,h,C,R,d,s,!1);return;case"select":Ue("invalid",e),a=d=r=null;for(s in n)if(n.hasOwnProperty(s)&&(h=n[s],h!=null))switch(s){case"value":r=h;break;case"defaultValue":d=h;break;case"multiple":a=h;default:it(e,t,s,h,n,null)}t=r,n=d,e.multiple=!!a,t!=null?va(e,!!a,t,!1):n!=null&&va(e,!!a,n,!0);return;case"textarea":Ue("invalid",e),r=s=a=null;for(d in n)if(n.hasOwnProperty(d)&&(h=n[d],h!=null))switch(d){case"value":a=h;break;case"defaultValue":s=h;break;case"children":r=h;break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(c(91));break;default:it(e,t,d,h,n,null)}hu(e,a,s,r);return;case"option":for(C in n)n.hasOwnProperty(C)&&(a=n[C],a!=null)&&(C==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":it(e,t,C,a,n,null));return;case"dialog":Ue("beforetoggle",e),Ue("toggle",e),Ue("cancel",e),Ue("close",e);break;case"iframe":case"object":Ue("load",e);break;case"video":case"audio":for(a=0;a<Lo.length;a++)Ue(Lo[a],e);break;case"image":Ue("error",e),Ue("load",e);break;case"details":Ue("toggle",e);break;case"embed":case"source":case"link":Ue("error",e),Ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in n)if(n.hasOwnProperty(R)&&(a=n[R],a!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:it(e,t,R,a,n,null)}return;default:if(Ol(t)){for(G in n)n.hasOwnProperty(G)&&(a=n[G],a!==void 0&&Tc(e,t,G,a,n,void 0));return}}for(h in n)n.hasOwnProperty(h)&&(a=n[h],a!=null&&it(e,t,h,a,n,null))}function xh(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,d=null,h=null,C=null,R=null,G=null;for(U in n){var Q=n[U];if(n.hasOwnProperty(U)&&Q!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":C=Q;default:a.hasOwnProperty(U)||it(e,t,U,null,a,Q)}}for(var F in a){var U=a[F];if(Q=n[F],a.hasOwnProperty(F)&&(U!=null||Q!=null))switch(F){case"type":r=U;break;case"name":s=U;break;case"checked":R=U;break;case"defaultChecked":G=U;break;case"value":d=U;break;case"defaultValue":h=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(c(137,t));break;default:U!==Q&&it(e,t,F,U,a,Q)}}Fl(e,d,h,C,R,G,r,s);return;case"select":U=d=h=F=null;for(r in n)if(C=n[r],n.hasOwnProperty(r)&&C!=null)switch(r){case"value":break;case"multiple":U=C;default:a.hasOwnProperty(r)||it(e,t,r,null,a,C)}for(s in a)if(r=a[s],C=n[s],a.hasOwnProperty(s)&&(r!=null||C!=null))switch(s){case"value":F=r;break;case"defaultValue":h=r;break;case"multiple":d=r;default:r!==C&&it(e,t,s,r,a,C)}t=h,n=d,a=U,F!=null?va(e,!!n,F,!1):!!a!=!!n&&(t!=null?va(e,!!n,t,!0):va(e,!!n,n?[]:"",!1));return;case"textarea":U=F=null;for(h in n)if(s=n[h],n.hasOwnProperty(h)&&s!=null&&!a.hasOwnProperty(h))switch(h){case"value":break;case"children":break;default:it(e,t,h,null,a,s)}for(d in a)if(s=a[d],r=n[d],a.hasOwnProperty(d)&&(s!=null||r!=null))switch(d){case"value":F=s;break;case"defaultValue":U=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(c(91));break;default:s!==r&&it(e,t,d,s,a,r)}pu(e,F,U);return;case"option":for(var ye in n)F=n[ye],n.hasOwnProperty(ye)&&F!=null&&!a.hasOwnProperty(ye)&&(ye==="selected"?e.selected=!1:it(e,t,ye,null,a,F));for(C in a)F=a[C],U=n[C],a.hasOwnProperty(C)&&F!==U&&(F!=null||U!=null)&&(C==="selected"?e.selected=F&&typeof F!="function"&&typeof F!="symbol":it(e,t,C,F,a,U));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in n)F=n[ze],n.hasOwnProperty(ze)&&F!=null&&!a.hasOwnProperty(ze)&&it(e,t,ze,null,a,F);for(R in a)if(F=a[R],U=n[R],a.hasOwnProperty(R)&&F!==U&&(F!=null||U!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(c(137,t));break;default:it(e,t,R,F,a,U)}return;default:if(Ol(t)){for(var at in n)F=n[at],n.hasOwnProperty(at)&&F!==void 0&&!a.hasOwnProperty(at)&&Tc(e,t,at,void 0,a,F);for(G in a)F=a[G],U=n[G],!a.hasOwnProperty(G)||F===U||F===void 0&&U===void 0||Tc(e,t,G,F,a,U);return}}for(var A in n)F=n[A],n.hasOwnProperty(A)&&F!=null&&!a.hasOwnProperty(A)&&it(e,t,A,null,a,F);for(Q in a)F=a[Q],U=n[Q],!a.hasOwnProperty(Q)||F===U||F==null&&U==null||it(e,t,Q,F,a,U)}function xf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Sh(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var s=n[a],r=s.transferSize,d=s.initiatorType,h=s.duration;if(r&&h&&xf(d)){for(d=0,h=s.responseEnd,a+=1;a<n.length;a++){var C=n[a],R=C.startTime;if(R>h)break;var G=C.transferSize,Q=C.initiatorType;G&&xf(Q)&&(C=C.responseEnd,d+=G*(C<h?1:(h-R)/(C-R)))}if(--a,t+=8*(r+d)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Cc=null,_c=null;function el(e){return e.nodeType===9?e:e.ownerDocument}function Sf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function kc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nc=null;function wh(){var e=window.event;return e&&e.type==="popstate"?e===Nc?!1:(Nc=e,!0):(Nc=null,!1)}var jf=typeof setTimeout=="function"?setTimeout:void 0,jh=typeof clearTimeout=="function"?clearTimeout:void 0,Tf=typeof Promise=="function"?Promise:void 0,Th=typeof queueMicrotask=="function"?queueMicrotask:typeof Tf<"u"?function(e){return Tf.resolve(null).then(e).catch(Ch)}:jf;function Ch(e){setTimeout(function(){throw e})}function Bi(e){return e==="head"}function Cf(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(s),Qa(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Io(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Io(n);for(var r=n.firstChild;r;){var d=r.nextSibling,h=r.nodeName;r[Ze]||h==="SCRIPT"||h==="STYLE"||h==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=d}}else n==="body"&&Io(e.ownerDocument.body);n=s}while(n);Qa(t)}function _f(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function zc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":zc(n),Yt(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function _h(e,t,n,a){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=En(e.nextSibling),e===null)break}return null}function kh(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=En(e.nextSibling),e===null))return null;return e}function kf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=En(e.nextSibling),e===null))return null;return e}function Dc(e){return e.data==="$?"||e.data==="$~"}function Ac(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Nh(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function En(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Mc=null;function Nf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return En(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function zf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Df(e,t,n){switch(t=el(n),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function Io(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Yt(e)}var Rn=new Map,Af=new Set;function tl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var hi=te.d;te.d={f:zh,r:Dh,D:Ah,C:Mh,L:Eh,m:Rh,X:Fh,S:Bh,M:Lh};function zh(){var e=hi.f(),t=Ps();return e||t}function Dh(e){var t=Ie(e);t!==null&&t.tag===5&&t.type==="form"?Yd(t):hi.r(e)}var Pa=typeof document>"u"?null:document;function Mf(e,t,n){var a=Pa;if(a&&typeof t=="string"&&t){var s=_n(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Af.has(s)||(Af.add(s),e={rel:e,crossOrigin:n,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),Pt(t,"link",e),Je(t),a.head.appendChild(t)))}}function Ah(e){hi.D(e),Mf("dns-prefetch",e,null)}function Mh(e,t){hi.C(e,t),Mf("preconnect",e,t)}function Eh(e,t,n){hi.L(e,t,n);var a=Pa;if(a&&e&&t){var s='link[rel="preload"][as="'+_n(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+_n(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+_n(n.imageSizes)+'"]')):s+='[href="'+_n(e)+'"]';var r=s;switch(t){case"style":r=Ya(e);break;case"script":r=Za(e)}Rn.has(r)||(e=g({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Rn.set(r,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(Ho(r))||t==="script"&&a.querySelector(Uo(r))||(t=a.createElement("link"),Pt(t,"link",e),Je(t),a.head.appendChild(t)))}}function Rh(e,t){hi.m(e,t);var n=Pa;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+_n(a)+'"][href="'+_n(e)+'"]',r=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Za(e)}if(!Rn.has(r)&&(e=g({rel:"modulepreload",href:e},t),Rn.set(r,e),n.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Uo(r)))return}a=n.createElement("link"),Pt(a,"link",e),Je(a),n.head.appendChild(a)}}}function Bh(e,t,n){hi.S(e,t,n);var a=Pa;if(a&&e){var s=kt(a).hoistableStyles,r=Ya(e);t=t||"default";var d=s.get(r);if(!d){var h={loading:0,preload:null};if(d=a.querySelector(Ho(r)))h.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Rn.get(r))&&Ec(e,n);var C=d=a.createElement("link");Je(C),Pt(C,"link",e),C._p=new Promise(function(R,G){C.onload=R,C.onerror=G}),C.addEventListener("load",function(){h.loading|=1}),C.addEventListener("error",function(){h.loading|=2}),h.loading|=4,nl(d,t,a)}d={type:"stylesheet",instance:d,count:1,state:h},s.set(r,d)}}}function Fh(e,t){hi.X(e,t);var n=Pa;if(n&&e){var a=kt(n).hoistableScripts,s=Za(e),r=a.get(s);r||(r=n.querySelector(Uo(s)),r||(e=g({src:e,async:!0},t),(t=Rn.get(s))&&Rc(e,t),r=n.createElement("script"),Je(r),Pt(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(s,r))}}function Lh(e,t){hi.M(e,t);var n=Pa;if(n&&e){var a=kt(n).hoistableScripts,s=Za(e),r=a.get(s);r||(r=n.querySelector(Uo(s)),r||(e=g({src:e,async:!0,type:"module"},t),(t=Rn.get(s))&&Rc(e,t),r=n.createElement("script"),Je(r),Pt(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(s,r))}}function Ef(e,t,n,a){var s=(s=bt.current)?tl(s):null;if(!s)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ya(n.href),n=kt(s).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ya(n.href);var r=kt(s).hoistableStyles,d=r.get(e);if(d||(s=s.ownerDocument||s,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,d),(r=s.querySelector(Ho(e)))&&!r._p&&(d.instance=r,d.state.loading=5),Rn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Rn.set(e,n),r||Oh(s,e,n,d.state))),t&&a===null)throw Error(c(528,""));return d}if(t&&a!==null)throw Error(c(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Za(n),n=kt(s).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Ya(e){return'href="'+_n(e)+'"'}function Ho(e){return'link[rel="stylesheet"]['+e+"]"}function Rf(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function Oh(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Pt(t,"link",n),Je(t),e.head.appendChild(t))}function Za(e){return'[src="'+_n(e)+'"]'}function Uo(e){return"script[async]"+e}function Bf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+_n(n.href)+'"]');if(a)return t.instance=a,Je(a),a;var s=g({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Je(a),Pt(a,"style",s),nl(a,n.precedence,e),t.instance=a;case"stylesheet":s=Ya(n.href);var r=e.querySelector(Ho(s));if(r)return t.state.loading|=4,t.instance=r,Je(r),r;a=Rf(n),(s=Rn.get(s))&&Ec(a,s),r=(e.ownerDocument||e).createElement("link"),Je(r);var d=r;return d._p=new Promise(function(h,C){d.onload=h,d.onerror=C}),Pt(r,"link",a),t.state.loading|=4,nl(r,n.precedence,e),t.instance=r;case"script":return r=Za(n.src),(s=e.querySelector(Uo(r)))?(t.instance=s,Je(s),s):(a=n,(s=Rn.get(r))&&(a=g({},n),Rc(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),Je(s),Pt(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,nl(a,n.precedence,e));return t.instance}function nl(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,r=s,d=0;d<a.length;d++){var h=a[d];if(h.dataset.precedence===t)r=h;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ec(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Rc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var il=null;function Ff(e,t,n){if(il===null){var a=new Map,s=il=new Map;s.set(n,a)}else s=il,a=s.get(n),a||(a=new Map,s.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var r=n[s];if(!(r[Ze]||r[_]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var d=r.getAttribute(t)||"";d=e+d;var h=a.get(d);h?h.push(r):a.set(d,[r])}}return a}function Lf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Ih(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Of(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Hh(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var s=Ya(a.href),r=t.querySelector(Ho(s));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=al.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,Je(r);return}r=t.ownerDocument||t,a=Rf(a),(s=Rn.get(s))&&Ec(a,s),r=r.createElement("link"),Je(r);var d=r;d._p=new Promise(function(h,C){d.onload=h,d.onerror=C}),Pt(r,"link",a),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=al.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Bc=0;function Uh(e,t){return e.stylesheets&&e.count===0&&sl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&sl(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&Bc===0&&(Bc=62500*Sh());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&sl(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>Bc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function al(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ol=null;function sl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ol=new Map,t.forEach(Vh,e),ol=null,al.call(e))}function Vh(e,t){if(!(t.state.loading&4)){var n=ol.get(e);if(n)var a=n.get(null);else{n=new Map,ol.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var d=s[r];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(n.set(d.dataset.precedence,d),a=d)}a&&n.set(null,a)}s=t.instance,d=s.getAttribute("data-precedence"),r=n.get(d)||a,r===a&&n.set(null,s),n.set(d,s),this.count++,a=al.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Vo={$$typeof:$,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function Gh(e,t,n,a,s,r,d,h,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=w(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w(0),this.hiddenUpdates=w(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function If(e,t,n,a,s,r,d,h,C,R,G,Q){return e=new Gh(e,t,n,d,C,R,G,Q,h),t=1,r===!0&&(t|=24),r=fn(3,null,null,t),e.current=r,r.stateNode=e,t=gr(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},br(r),e}function Hf(e){return e?(e=Ca,e):Ca}function Uf(e,t,n,a,s,r){s=Hf(s),a.context===null?a.context=s:a.pendingContext=s,a=Ti(t),a.payload={element:n},r=r===void 0?null:r,r!==null&&(a.callback=r),n=Ci(e,a,t),n!==null&&(sn(n,e,t),xo(n,e,t))}function Vf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fc(e,t){Vf(e,t),(e=e.alternate)&&Vf(e,t)}function Gf(e){if(e.tag===13||e.tag===31){var t=$i(e,67108864);t!==null&&sn(t,e,67108864),Fc(e,67108864)}}function qf(e){if(e.tag===13||e.tag===31){var t=bn();t=Ee(t);var n=$i(e,t);n!==null&&sn(n,e,t),Fc(e,t)}}var ll=!0;function qh(e,t,n,a){var s=D.T;D.T=null;var r=te.p;try{te.p=2,Lc(e,t,n,a)}finally{te.p=r,D.T=s}}function Kh(e,t,n,a){var s=D.T;D.T=null;var r=te.p;try{te.p=8,Lc(e,t,n,a)}finally{te.p=r,D.T=s}}function Lc(e,t,n,a){if(ll){var s=Oc(a);if(s===null)jc(e,t,a,rl,n),Pf(e,a);else if(Yh(s,e,t,n,a))a.stopPropagation();else if(Pf(e,a),t&4&&-1<Ph.indexOf(e)){for(;s!==null;){var r=Ie(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var d=un(r.pendingLanes);if(d!==0){var h=r;for(h.pendingLanes|=2,h.entangledLanes|=2;d;){var C=1<<31-ct(d);h.entanglements[1]|=C,d&=~C}Xn(r),($e&6)===0&&(qs=_t()+500,Fo(0))}}break;case 31:case 13:h=$i(r,2),h!==null&&sn(h,r,2),Ps(),Fc(r,2)}if(r=Oc(a),r===null&&jc(e,t,a,rl,n),r===s)break;s=r}s!==null&&a.stopPropagation()}else jc(e,t,a,null,n)}}function Oc(e){return e=Hl(e),Ic(e)}var rl=null;function Ic(e){if(rl=null,e=Vt(e),e!==null){var t=p(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===31){if(e=y(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return rl=e,null}function Kf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qi()){case vi:return 2;case Wn:return 8;case Jt:case xn:return 32;case Zt:return 268435456;default:return 32}default:return 32}}var Hc=!1,Fi=null,Li=null,Oi=null,Go=new Map,qo=new Map,Ii=[],Ph="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pf(e,t){switch(e){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":Go.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qo.delete(t.pointerId)}}function Ko(e,t,n,a,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[s]},t!==null&&(t=Ie(t),t!==null&&Gf(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Yh(e,t,n,a,s){switch(t){case"focusin":return Fi=Ko(Fi,e,t,n,a,s),!0;case"dragenter":return Li=Ko(Li,e,t,n,a,s),!0;case"mouseover":return Oi=Ko(Oi,e,t,n,a,s),!0;case"pointerover":var r=s.pointerId;return Go.set(r,Ko(Go.get(r)||null,e,t,n,a,s)),!0;case"gotpointercapture":return r=s.pointerId,qo.set(r,Ko(qo.get(r)||null,e,t,n,a,s)),!0}return!1}function Yf(e){var t=Vt(e.target);if(t!==null){var n=p(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,$t(e.priority,function(){qf(n)});return}}else if(t===31){if(t=y(n),t!==null){e.blockedOn=t,$t(e.priority,function(){qf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Oc(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Il=a,n.target.dispatchEvent(a),Il=null}else return t=Ie(n),t!==null&&Gf(t),e.blockedOn=n,!1;t.shift()}return!0}function Zf(e,t,n){cl(e)&&n.delete(t)}function Zh(){Hc=!1,Fi!==null&&cl(Fi)&&(Fi=null),Li!==null&&cl(Li)&&(Li=null),Oi!==null&&cl(Oi)&&(Oi=null),Go.forEach(Zf),qo.forEach(Zf)}function ul(e,t){e.blockedOn===t&&(e.blockedOn=null,Hc||(Hc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Zh)))}var dl=null;function Qf(e){dl!==e&&(dl=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){dl===e&&(dl=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(Ic(a||n)===null)continue;break}var r=Ie(n);r!==null&&(e.splice(t,3),t-=3,Or(r,{pending:!0,data:s,method:n.method,action:a},a,s))}}))}function Qa(e){function t(C){return ul(C,e)}Fi!==null&&ul(Fi,e),Li!==null&&ul(Li,e),Oi!==null&&ul(Oi,e),Go.forEach(t),qo.forEach(t);for(var n=0;n<Ii.length;n++){var a=Ii[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ii.length&&(n=Ii[0],n.blockedOn===null);)Yf(n),n.blockedOn===null&&Ii.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var s=n[a],r=n[a+1],d=s[J]||null;if(typeof r=="function")d||Qf(n);else if(d){var h=null;if(r&&r.hasAttribute("formAction")){if(s=r,d=r[J]||null)h=d.formAction;else if(Ic(s)!==null)continue}else h=d.action;typeof h=="function"?n[a+1]=h:(n.splice(a,3),a-=3),Qf(n)}}}function Xf(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(d){return s=d})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Uc(e){this._internalRoot=e}ml.prototype.render=Uc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var n=t.current,a=bn();Uf(n,a,e,t,null,null)},ml.prototype.unmount=Uc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Uf(e.current,2,null,e,null,null),Ps(),t[oe]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=st();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ii.length&&t!==0&&t<Ii[n].priority;n++);Ii.splice(n,0,e),n===0&&Yf(e)}};var Wf=o.version;if(Wf!=="19.2.0")throw Error(c(527,Wf,"19.2.0"));te.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=x(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Qh={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{Qt=fl.inject(Qh),dt=fl}catch{}}return Yo.createRoot=function(e,t){if(!v(e))throw Error(c(299));var n=!1,a="",s=im,r=am,d=om;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=If(e,1,!1,null,null,n,a,null,s,r,d,Xf),e[oe]=t.current,wc(e),new Uc(t)},Yo.hydrateRoot=function(e,t,n){if(!v(e))throw Error(c(299));var a=!1,s="",r=im,d=am,h=om,C=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(h=n.onRecoverableError),n.formState!==void 0&&(C=n.formState)),t=If(e,1,!0,t,n??null,a,s,C,r,d,h,Xf),t.context=Hf(null),n=t.current,a=bn(),a=Ee(a),s=Ti(a),s.callback=null,Ci(n,s,a),n=a,t.current.lanes=n,Se(t,n),Xn(t),e[oe]=t.current,wc(e),new ml(t)},Yo.version="19.2.0",Yo}var ig;function a0(){if(ig)return Gc.exports;ig=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(o){console.error(o)}}return l(),Gc.exports=i0(),Gc.exports}var o0=a0();const s0="modulepreload",l0=function(l){return"/"+l},ag={},Fe=function(o,u,c){let v=Promise.resolve();if(u&&u.length>0){let S=function(x){return Promise.all(x.map(b=>Promise.resolve(b).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),y=m?.nonce||m?.getAttribute("nonce");v=S(u.map(x=>{if(x=l0(x),x in ag)return;ag[x]=!0;const b=x.endsWith(".css"),g=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${g}`))return;const k=document.createElement("link");if(k.rel=b?"stylesheet":s0,b||(k.as="script"),k.crossOrigin="",k.href=x,y&&k.setAttribute("nonce",y),document.head.appendChild(k),b)return new Promise((T,O)=>{k.addEventListener("load",T),k.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${x}`)))})}))}function p(m){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=m,window.dispatchEvent(y),!y.defaultPrevented)throw m}return v.then(m=>{for(const y of m||[])y.status==="rejected"&&p(y.reason);return o().catch(p)})},Fn={protein:{animal:1,plant:.6},iron:{heme:1,nonHeme:.1},vitaminA:{retinol:1,carotenoids:.05},vitaminK:{mk4:1,k1:.1},zinc:{animal:1,plant:.3}},yl={vitaminC:{base:10,carbPenalty:1.5,highCarbRequirement:100},iron:{male:{base:8},female:{base:18}}},qi={SUGAR_CARBS:"sugar_carbs",SEED_OILS:"seed_oils",ALCOHOL:"alcohol",OXALATES:"oxalates"},r0={ADAPTED:"adapted",TRANSITIONING:"transitioning"},c0={HEALING:"healing",PERFORMANCE:"performance",WEIGHT_LOSS:"weight_loss",AUTOIMMUNE_HEALING:"autoimmune_healing"},u0={STRICT_CARNIVORE:"strict_carnivore",KETOVORE:"ketovore",LION_DIET:"lion_diet"};function d0(l){const{base:o,carbPenalty:u,highCarbRequirement:c}=yl.vitaminC,v=o+l*u;return Math.min(v,c)}function m0(l){return l.reduce((o,u)=>o+(u.nutrients?.vitaminC||0),0)*1}function f0(l){return l.reduce((o,u)=>{const c=u.nutrients?.vitaminK||0,v=u.type==="animal"||u.type==="ruminant"||u.type==="dairy"?Fn.vitaminK.mk4:Fn.vitaminK.k1;return o+c*v},0)}function g0(l){return l.reduce((o,u)=>{const c=u.nutrients?.hemeIron||0,v=u.nutrients?.nonHemeIron||0,p=c*Fn.iron.heme,m=v*Fn.iron.nonHeme;return o+p+m},0)}function p0(l){return l.reduce((o,u)=>{const c=u.nutrients?.zinc||0,v=u.type==="animal"||u.type==="ruminant"||u.type==="dairy"?Fn.zinc.animal:Fn.zinc.plant;return o+c*v},0)}function h0(l){return l.reduce((o,u)=>{const c=u.nutrients?.vitaminA||0,v=u.type==="animal"||u.type==="ruminant"||u.type==="dairy"?Fn.vitaminA.retinol:Fn.vitaminA.carotenoids;return o+c*v},0)}function v0(l){return l.reduce((o,u)=>o+(u.nutrients?.netCarbs||u.nutrients?.carbs||0),0)}function b0(l){return l.reduce((o,u)=>o+(u.nutrients?.fiber||0),0)}function y0(l){return l.reduce((o,u)=>o+(u.nutrients?.sodium||0),0)}function x0(l){return l.reduce((o,u)=>o+(u.nutrients?.magnesium||0),0)}function S0(l){return l.reduce((o,u)=>o+(u.nutrients?.fat||0),0)}function w0(l){return!l||l==="male"?yl.iron.male.base:yl.iron.female.base}function j0(l){return l.reduce((o,u)=>{const c=u.nutrients?.protein||0;let v=1;u.type==="dairy"&&u.item.toLowerCase().includes("egg")&&(u.eggCookingMethod==="raw"?v=.513:u.eggCookingMethod==="cooked"&&(v=.909));const p=u.type==="animal"||u.type==="ruminant"||u.type==="dairy"?Fn.protein.animal:Fn.protein.plant;return o+c*p*v},0)}function T0(l){return l.reduce((o,u)=>o+(u.nutrients?.protein||0),0)}function C0(l){return l.filter(o=>o.type==="animal"||o.type==="ruminant"||o.type==="dairy").reduce((o,u)=>{const c=u.nutrients?.protein||0,v=u.type==="animal"||u.type==="ruminant"||u.type==="dairy"?Fn.protein.animal:Fn.protein.plant;let p=1;return u.type==="dairy"&&u.eggCookingMethod==="raw"&&(p=.5),o+c*v*p},0)}function _0(l){return!l||l<=0?100:l*1.5}function Bn(l,o){const u=v0(l),c=m0(l),v=d0(u),p=f0(l),m=g0(l),y=w0(o?.gender),S=p0(l),x=b0(l),b=y0(l),g=x0(l),k=j0(l),T=C0(l),O=T0(l),I=_0(o?.weight),ie=S0(l),q=l.reduce((Y,ne)=>Y+(ne.nutrients?.vitaminB12||0),0),B=l.reduce((Y,ne)=>Y+(ne.nutrients?.vitaminB1||0),0),$=l.reduce((Y,ne)=>Y+(ne.nutrients?.vitaminB2||0),0),re=l.reduce((Y,ne)=>Y+(ne.nutrients?.vitaminB3||0),0),pe=l.reduce((Y,ne)=>Y+(ne.nutrients?.vitaminB6||0),0),ce=l.reduce((Y,ne)=>Y+(ne.nutrients?.vitaminE||0),0),Ne=l.reduce((Y,ne)=>Y+(ne.nutrients?.calcium||0),0),V=l.reduce((Y,ne)=>Y+(ne.nutrients?.phosphorus||0),0),ve=l.reduce((Y,ne)=>Y+(ne.nutrients?.selenium||0),0),he=l.reduce((Y,ne)=>Y+(ne.nutrients?.copper||0),0),M=l.reduce((Y,ne)=>Y+(ne.nutrients?.manganese||0),0),be=h0(l),z=l.reduce((Y,ne)=>Y+(ne.nutrients?.vitaminA||0),0),W=l.reduce((Y,ne)=>Y+(ne.nutrients?.vitaminD||0),0),me=l.reduce((Y,ne)=>Y+(ne.nutrients?.vitaminK2||0),0),D=l.reduce((Y,ne)=>Y+(ne.nutrients?.choline||0),0),te=l.reduce((Y,ne)=>Y+(ne.nutrients?.potassium||0),0),X=l.reduce((Y,ne)=>Y+(ne.nutrients?.omega3||0),0),ae=l.reduce((Y,ne)=>Y+(ne.nutrients?.omega6||0),0),se=k0(ae,X),fe=z0(l),L=N0(u,k),Z=l.reduce((Y,ne)=>Y+(ne.nutrients?.iodine||0),0),K=V>0?Ne/V:0,Ke=A0(Ne,W),bt=l.reduce((Y,ne)=>Y+(ne.nutrients?.glycine||0),0),Te=l.reduce((Y,ne)=>Y+(ne.nutrients?.methionine||0),0),j=Te>0?bt/Te:0,H=D0(b,g),Tt=l.reduce((Y,ne)=>Y+(ne.nutrients?.vitaminB7||0),0),Mt=l.some(Y=>Y.biotinBlocked===!0),Ct=l.reduce((Y,ne)=>Y+(ne.nutrients?.taurine||0),0),On=l.reduce((Y,ne)=>Y+(ne.nutrients?.vitaminB5||0),0),ee=l.reduce((Y,ne)=>Y+(ne.nutrients?.vitaminB9||0),0),ue=l.reduce((Y,ne)=>Y+(ne.nutrients?.chromium||0),0),Ce=l.reduce((Y,ne)=>Y+(ne.nutrients?.molybdenum||0),0),de=l.reduce((Y,ne)=>Y+(ne.nutrients?.fluoride||0),0),ht=l.reduce((Y,ne)=>Y+(ne.nutrients?.chloride||0),0),ut=l.reduce((Y,ne)=>Y+(ne.nutrients?.boron||0),0),ot=l.reduce((Y,ne)=>Y+(ne.nutrients?.nickel||0),0),Et=l.reduce((Y,ne)=>Y+(ne.nutrients?.silicon||0),0),rt=l.reduce((Y,ne)=>Y+(ne.nutrients?.vanadium||0),0),We=l.reduce((Y,ne)=>Y+(ne.nutrients?.phytates||0),0),_t=l.reduce((Y,ne)=>Y+(ne.nutrients?.polyphenols||0),0),Qi=l.reduce((Y,ne)=>Y+(ne.nutrients?.flavonoids||0),0),vi=l.reduce((Y,ne)=>Y+(ne.nutrients?.anthocyanins||0),0),Wn=l.reduce((Y,ne)=>Y+(ne.nutrients?.oxalates||0),0),Jt=l.reduce((Y,ne)=>Y+(ne.nutrients?.lectins||0),0),xn=l.reduce((Y,ne)=>Y+(ne.nutrients?.saponins||0),0),Zt=l.reduce((Y,ne)=>Y+(ne.nutrients?.goitrogens||0),0),cn=l.reduce((Y,ne)=>Y+(ne.nutrients?.tannins||0),0),Jn=l.reduce((Y,ne)=>Y+(ne.nutrients?.trypsinInhibitors||0),0),Qt=l.reduce((Y,ne)=>Y+(ne.nutrients?.proteaseInhibitors||0),0),dt=l.reduce((Y,ne)=>Y+(ne.nutrients?.cyanogenicGlycosides||0),0),Ot=l.reduce((Y,ne)=>Y+(ne.nutrients?.solanine||0),0),ct=l.reduce((Y,ne)=>Y+(ne.nutrients?.chaconine||0),0),Sn=l.filter(Y=>Y.type==="plant").reduce((Y,ne)=>Y+(ne.nutrients?.protein||0),0),It=l.filter(Y=>Y.type==="plant").reduce((Y,ne)=>Y+(ne.nutrients?.fat||0),0),wn=[];(Sn>0||x>0||l.some(Y=>Y.type==="plant"))&&wn.push("plant_food"),u>20&&wn.push("high_carbs");const Kn=wn.length>0;return{netCarbs:u,effectiveVitC:c,vitCRequirement:v,effectiveVitK:p,effectiveIron:m,ironRequirement:y,effectiveZinc:S,fiberTotal:x,sodiumTotal:b,magnesiumTotal:g,effectiveProtein:k,animalEffectiveProtein:T,proteinTotal:O,proteinRequirement:I,fatTotal:ie,effectiveFat:fe,effectiveVitaminA:be,effectiveCalcium:Ke,omegaRatio:se.ratio,omegaRatioStatus:se.status,inflammationScore:se.inflammationScore,electrolyteBalance:H,insulinGlucagonRatio:L.ratio,insulinGlucagonRatioStatus:L.status,insulinStimulus:L.insulinStimulus,glucagonStimulus:L.glucagonStimulus,vitaminB12Total:q,vitaminB1Total:B,vitaminB2Total:$,vitaminB3Total:re,vitaminB6Total:pe,vitaminETotal:ce,calciumTotal:Ne,phosphorusTotal:V,seleniumTotal:ve,copperTotal:he,manganeseTotal:M,vitaminATotal:z,vitaminDTotal:W,vitaminK2Total:me,cholineTotal:D,potassiumTotal:te,omega3Total:X,omega6Total:ae,iodineTotal:Z,calciumPhosphorusRatio:K,glycineTotal:bt,methionineTotal:Te,glycineMethionineRatio:j,vitaminB7Total:Tt,biotinBlocked:Mt,taurineTotal:Ct,vitaminB5Total:On,vitaminB9Total:ee,chromiumTotal:ue,molybdenumTotal:Ce,fluorideTotal:de,chlorideTotal:ht,boronTotal:ut,nickelTotal:ot,siliconTotal:Et,vanadiumTotal:rt,phytatesTotal:We,polyphenolsTotal:_t,flavonoidsTotal:Qi,anthocyaninsTotal:vi,oxalatesTotal:Wn,lectinsTotal:Jt,saponinsTotal:xn,goitrogensTotal:Zt,tanninsTotal:cn,trypsinInhibitorsTotal:Jn,proteaseInhibitorsTotal:Qt,cyanogenicGlycosidesTotal:dt,solanineTotal:Ot,chaconineTotal:ct,plantProteinTotal:Sn,vegetableOilTotal:It,hasViolation:Kn,violationTypes:wn}}function k0(l,o){if(o===0)return{ratio:0,status:"danger",inflammationScore:100};const u=l/o;let c;return u<2?c="excellent":u<4?c="good":u<10?c="warning":c="danger",{ratio:u,status:c,inflammationScore:u}}function N0(l,o){const u=l*1,c=o*1;let v;c===0?v=u>0?1/0:0:v=u/c;let p;return v===0||v<.1?p="optimal":v<.3?p="good":v<.5?p="warning":p="danger",{ratio:v,status:p,insulinStimulus:u,glucagonStimulus:c}}function z0(l){return l.reduce((o,u)=>{const c=u.nutrients?.fat||0,v=u.nutrients?.omega6||0,p=u.nutrients?.omega3||0;let m=c;return(p>0&&v/p>10||p===0&&v>0)&&(m=c*.8),o+m},0)}function D0(l,o){return l>5e3&&o<300?{isBalanced:!1,warning:"Magnesium is insufficient relative to salt. Risk of swelling and headaches."}:{isBalanced:!0}}function A0(l,o){return o<1e3?l*.5:l}function Xa(l){const o={isActive:!0,fastingTargetHours:16,activities:[],dietRecommendations:[],supplements:[],warnings:[]};switch(l){case qi.SUGAR_CARBS:return{...o,violationType:l,fastingTargetHours:18,activities:["Sprint/HIIT (Force glycogen burn)"],dietRecommendations:["Zero Carb / High Fat next day","Focus on ruminant meat"],protocolId:"sugar_carbs_detox_18h"};case qi.SEED_OILS:return{...o,violationType:l,fastingTargetHours:20,activities:[],dietRecommendations:["Ruminant Fat only (No chicken/pork for 2 days)","Focus on beef tallow, lamb fat"],supplements:["Vitamin E (optional) - to protect cell membranes"],protocolId:"oil_detox_18h"};case qi.ALCOHOL:return{...o,violationType:l,fastingTargetHours:12,activities:[],dietRecommendations:["Bone Broth (Glycine) for liver support","Eggs (Choline) for liver support"],supplements:[],warnings:["Keep fasting short (12-14h) to prioritize nutrient repair"],protocolId:"alcohol_recovery_12h"};case qi.OXALATES:return{...o,violationType:l,fastingTargetHours:14,activities:[],dietRecommendations:["Add Calcium (Cheese/Bone powder) to bind oxalate in gut","Citric acid (Lemon water) - helps prevent stones"],supplements:[],warnings:["Do NOT fast too long (promotes oxalate dumping)"],protocolId:"oxalate_mitigation_14h"};default:return{...o,violationType:l,protocolId:"generic_recovery"}}}function og(l){const o=l.toLowerCase();return o.includes("tempura")||o.includes("fried")||o.includes("dressing")||o.includes("mayonnaise")||o.includes("vegetable oil")||o.includes("canola")||o.includes("soybean oil")?qi.SEED_OILS:o.includes("bread")||o.includes("rice")||o.includes("pasta")||o.includes("sugar")||o.includes("cake")||o.includes("cookie")||o.includes("fruit")||o.includes("candy")?qi.SUGAR_CARBS:o.includes("spinach")||o.includes("almond")||o.includes("cashew")||o.includes("rhubarb")||o.includes("beet")?qi.OXALATES:o.includes("alcohol")||o.includes("beer")||o.includes("wine")||o.includes("sake")||o.includes("whiskey")?qi.ALCOHOL:null}function sg(l,o){const u=new Date;return new Date(u.getTime()+l*60*60*1e3).toISOString()}class xg extends Error{constructor(o,u,c){super(o),this.code=u,this.context=c,this.name="AppError"}}function Ki(l,o){return l instanceof xg?l.message:l instanceof Error?l.message.includes("fetch")||l.message.includes("network")||l.message.includes("Network")?"A network error occurred. Please check your internet connection.":l.message.includes("auth")||l.message.includes("unauthorized")||l.message.includes("")?"":l.message.includes("validation")||l.message.includes("invalid")||l.message.includes("")?"":l.message.includes("API")||l.message.includes("500")||l.message.includes("503")?"":l.message.includes("storage")||l.message.includes("localStorage")||l.message.includes("")?"":l.message||"":typeof l=="string"?l:""}function M0(l,o){}const E0=Object.freeze(Object.defineProperty({__proto__:null,AppError:xg,getUserFriendlyErrorMessage:Ki,logError:M0},Symbol.toStringTag,{value:"Module"}));async function lg(l){return console.warn("OpenAI API key not found. Using static algorithm."),null}const Nl=null,zl=()=>Nl!==null;function io(){let l=localStorage.getItem("primal_logic_user_id");return l||(l=`anon_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("primal_logic_user_id",l)),l}const no={DAILY_LOGS:"@primal_logic:daily_logs",USER_PROFILE:"@primal_logic:user_profile",CURRENT_DATE:"@primal_logic:current_date"};async function Dl(l){io(),await R0(l),wg()}async function R0(l){try{const o=localStorage.getItem(no.DAILY_LOGS);let u=[];if(o)try{u=JSON.parse(o)}catch{u=[]}const c=u.findIndex(v=>v.date===l.date);c>=0?u[c]=l:u.push(l),localStorage.setItem(no.DAILY_LOGS,JSON.stringify(u)),Gn=null}catch(o){throw o}}async function eu(l){return io(),B0(l)}async function B0(l){try{return(await Yi()).find(u=>u.date===l)||null}catch{return null}}let Gn=null;function Sg(){Gn=null}let Vi=null,Wc=0;const F0=2e3;function wg(){Vi=null,Wc=0}let Ui=!1,rg=0;const L0=1e3;async function Yi(){const l=Date.now();if(Ui||l-rg<L0){if(Gn)return Gn;if(Vi)return Vi;if(Ui){if(await new Promise(o=>setTimeout(o,500)),Gn)return Gn;if(Vi)return Vi}return[]}Ui=!0,rg=l;try{const o=localStorage.getItem("settings_debug_mode");if(o==="true"||o!==null&&JSON.parse(o)===!0){if(Gn)return Ui=!1,Gn;const{generateDebugData:m}=await Fe(async()=>{const{generateDebugData:y}=await import("./debugData-DsCn4NmK.js");return{generateDebugData:y}},__vite__mapDeps([0,1,2]));return Gn=m(),Ui=!1,Gn}const c=Date.now();if(Vi&&c-Wc<F0)return Ui=!1,Vi;Gn=null;const v=io();let p;return zl()&&Nl||(p=O0()),Vi=p,Wc=Date.now(),Ui=!1,p}finally{Ui=!1}}function O0(){try{const l=localStorage.getItem(no.DAILY_LOGS);return l?JSON.parse(l):[]}catch{return[]}}async function Tl(){const l=new Date().toISOString().split("T")[0],o=await eu(l),u=localStorage.getItem("settings_debug_mode");if((u==="true"||u!==null&&JSON.parse(u)===!0)&&!o){const{generateDebugData:v}=await Fe(async()=>{const{generateDebugData:m}=await import("./debugData-DsCn4NmK.js");return{generateDebugData:m}},__vite__mapDeps([0,1,2]));return v().find(m=>m.date===l)||null}return o}async function I0(l){try{const o=localStorage.getItem("settings_debug_mode");(o==="true"||o!==null&&JSON.parse(o)===!0)&&Sg();const v=(await Yi()).filter(m=>m.date!==l),p=io();zl(),localStorage.setItem(no.DAILY_LOGS,JSON.stringify(v))}catch(o){throw o}}async function jg(l){io();try{localStorage.setItem(no.USER_PROFILE,JSON.stringify(l))}catch(o){throw o}}async function tu(){const l=localStorage.getItem("settings_debug_mode");if(l==="true"||l!==null&&JSON.parse(l)===!0){const{generateDebugProfile:u}=await Fe(async()=>{const{generateDebugProfile:c}=await import("./debugData-DsCn4NmK.js");return{generateDebugProfile:c}},__vite__mapDeps([0,1,2]));return u()}return io(),H0()}function H0(){try{const l=localStorage.getItem(no.USER_PROFILE);return l?JSON.parse(l):null}catch{return null}}async function Tg(){}async function nu(){try{const l=await Yi(),o=await tu(),u={version:"1.0",exportDate:new Date().toISOString(),dailyLogs:l,userProfile:o};return JSON.stringify(u,null,2)}catch{throw new Error("")}}async function Cg(l){try{const o=JSON.parse(l);if(!o.version||!o.dailyLogs||!Array.isArray(o.dailyLogs))throw new Error("");const u=await nu();if(localStorage.setItem("primal_logic_backup_"+Date.now(),u),o.dailyLogs&&o.dailyLogs.length>0)for(const c of o.dailyLogs)await Dl(c);o.userProfile&&await jg(o.userProfile)}catch(o){throw new Error(""+(o instanceof Error?o.message:""))}}const Jc=Object.freeze(Object.defineProperty({__proto__:null,clearDailyLogsCache:wg,clearDebugDataCache:Sg,deleteDailyLog:I0,exportAllData:nu,getDailyLogByDate:eu,getDailyLogs:Yi,getTodayLog:Tl,getUserProfile:tu,importAllData:Cg,saveDailyLog:Dl,saveUserProfile:jg,syncLocalStorageToSupabase:Tg},Symbol.toStringTag,{value:"Module"})),U0={gender:"male",height:170,weight:70,age:30,activityLevel:"moderate",goal:c0.HEALING,metabolicStatus:r0.TRANSITIONING,mode:u0.LION_DIET},_g=f.createContext(void 0);function V0({children:l}){const[o,u]=f.useState(null),[c,v]=f.useState({name:"Susam",gender:"male",age:30,height:170,weight:70,activityLevel:"moderate",dietType:"lion",...U0}),[p,m]=f.useState(!1),[y,S]=f.useState(null),x=f.useRef(null);f.useEffect(()=>{if(!c||!o||!o.fuel||o.fuel.length===0){x.current=c;return}if(c!==x.current){const z=Bn(o.fuel,c),W=JSON.stringify(z),me=JSON.stringify(o.calculatedMetrics||{});W!==me&&u(D=>!D||D.date!==o.date?D:{...D,calculatedMetrics:z}),x.current=c}},[c,o?.date]);const b=f.useCallback(async()=>{try{m(!0),S(null);const z=await tu();z&&v(z)}catch(z){const W=z instanceof Error?z.message:"";S(W)}finally{m(!1)}},[]),g=f.useCallback(()=>{S(null)},[]),k=f.useCallback(async()=>{try{m(!0),S(null);const z=await Tl();z?(!z.calculatedMetrics&&z.fuel&&z.fuel.length>0&&c&&(z.calculatedMetrics=Bn(z.fuel,c)),u(z)):u(null)}catch(z){const W=z instanceof Error?z.message:"";S(W)}finally{m(!1)}},[c]),T=f.useCallback(async()=>{try{m(!0),S(null),await Tg()}catch(z){const W=z instanceof Error?z.message:"";S(W)}finally{m(!1)}},[]),O=f.useRef(!1);f.useEffect(()=>{O.current||(O.current=!0,b())},[]);const I=f.useRef(!1);f.useEffect(()=>{if(c&&c!==x.current){const z=!I.current;x.current=c,z&&(I.current=!0,k().catch(W=>{}))}},[c]);const ie=f.useRef(!1),q=f.useRef(null),B=f.useRef(0),$=f.useRef(null),re=f.useRef(!1);f.useEffect(()=>{if(!re.current){re.current=!0,o&&(q.current=o.date);return}if(o&&!ie.current){const z=o.date!==q.current,me=Date.now()-B.current;z&&me>500&&($.current&&clearTimeout($.current),ie.current=!0,q.current=o.date,$.current=setTimeout(()=>{Dl(o).then(()=>{B.current=Date.now(),ie.current=!1}).catch(D=>{ie.current=!1})},500))}else o||(q.current=null,ie.current=!1,$.current&&(clearTimeout($.current),$.current=null));return()=>{$.current&&clearTimeout($.current)}},[o?.date]),f.useEffect(()=>{const z=()=>{setTimeout(async()=>{try{m(!0);const W=await Tl();u(W||null)}catch{}finally{m(!1)}},100)};return window.addEventListener("foodAdded",z),()=>{window.removeEventListener("foodAdded",z)}},[c]);const pe=f.useCallback(z=>{u(W=>{const me=new Date().toISOString().split("T")[0];if(!W||W.date!==me){const se={date:me,status:{sleepScore:80,sunMinutes:30,activityLevel:"moderate"},fuel:[z],calculatedMetrics:Bn([z],c)},fe=og(z.item);return fe&&(lg({userProfile:c?{gender:c.gender,goal:c.goal,metabolicStatus:c.metabolicStatus}:void 0,foodItem:z.item}).then(L=>{u(L?Z=>!Z||Z.date!==se.date?Z:{...Z,recoveryProtocol:{violationType:fe,isActive:!0,fastingTargetHours:L.protocol.fastingTargetHours,activities:L.protocol.activities,dietRecommendations:L.protocol.dietRecommendations,supplements:L.protocol.supplements,warnings:L.protocol.warnings,protocolId:`ai_${fe}_${Date.now()}`}}:Z=>!Z||Z.date!==se.date?Z:{...Z,recoveryProtocol:Xa(fe)})}).catch(()=>{u(L=>!L||L.date!==se.date?L:{...L,recoveryProtocol:Xa(fe)})}),se.recoveryProtocol=Xa(fe)),setTimeout(()=>{window.dispatchEvent(new CustomEvent("foodAdded"))},0),se}const D=[...W.fuel,z],te=Bn(D,c);setTimeout(()=>{window.dispatchEvent(new CustomEvent("foodAdded"))},0);const X=og(z.item);let ae=W.recoveryProtocol;return X&&(lg({userProfile:c?{gender:c.gender,goal:c.goal,metabolicStatus:c.metabolicStatus}:void 0,foodItem:z.item}).then(se=>{u(se?fe=>!fe||fe.date!==W.date?fe:{...fe,recoveryProtocol:{violationType:X,isActive:!0,fastingTargetHours:se.protocol.fastingTargetHours,activities:se.protocol.activities,dietRecommendations:se.protocol.dietRecommendations,supplements:se.protocol.supplements,warnings:se.protocol.warnings,protocolId:`ai_${X}_${Date.now()}`}}:fe=>!fe||fe.date!==W.date?fe:{...fe,recoveryProtocol:Xa(X)})}).catch(()=>{u(se=>!se||se.date!==W.date?se:{...se,recoveryProtocol:Xa(X)})}),ae=Xa(X)),{...W,fuel:D,calculatedMetrics:te,recoveryProtocol:ae}})},[c]),ce=f.useCallback(z=>{u(W=>W?{...W,status:z}:{date:new Date().toISOString().split("T")[0],status:z,fuel:[],calculatedMetrics:Bn([],c)})},[c]),Ne=f.useCallback(z=>{u(W=>W?{...W,diary:z}:{date:new Date().toISOString().split("T")[0],status:{sleepScore:80,sunMinutes:30,activityLevel:"moderate"},fuel:[],calculatedMetrics:Bn([],c),diary:z})},[c]),V=f.useCallback((z,W)=>{u(me=>me?{...me,weight:z,bodyFatPercentage:W}:{date:new Date().toISOString().split("T")[0],status:{sleepScore:80,sunMinutes:30,activityLevel:"moderate"},fuel:[],calculatedMetrics:Bn([],c),weight:z,bodyFatPercentage:W}),window.dispatchEvent(new CustomEvent("dailyLogUpdated"))},[c]),ve=f.useCallback(z=>{u(W=>W?{...W,recoveryProtocol:z}:{date:new Date().toISOString().split("T")[0],status:{sleepScore:80,sunMinutes:30,activityLevel:"moderate"},fuel:[],calculatedMetrics:Bn([],c),recoveryProtocol:z})},[c]),he=f.useCallback(()=>{u(null)},[]),M=f.useCallback(z=>{u(W=>{if(!W)return null;const me=W.fuel.filter((te,X)=>X!==z),D=Bn(me,c);return{...W,fuel:me,calculatedMetrics:D}}),window.dispatchEvent(new CustomEvent("dailyLogUpdated"))},[c]),be=f.useCallback((z,W)=>{u(me=>{if(!me)return null;const D=me.fuel.map((X,ae)=>ae===z?W:X),te=Bn(D,c);return{...me,fuel:D,calculatedMetrics:te}}),window.dispatchEvent(new CustomEvent("dailyLogUpdated"))},[c]);return i.jsx(_g.Provider,{value:{dailyLog:o,userProfile:c,isLoading:p,error:y,addFood:pe,removeFood:M,updateFood:be,updateStatus:ce,updateDiary:Ne,updateWeight:V,setRecoveryProtocol:ve,clearDailyLog:he,loadTodayLog:k,loadUserProfile:b,setError:S,clearError:g,syncLocalStorageToSupabase:T},children:l})}function Zi(){const l=f.useContext(_g);if(l===void 0)throw new Error("useApp must be used within an AppProvider");return l}const G0=f.createContext(void 0);function q0({children:l}){const[o,u]=f.useState([]),[c,v]=f.useState(null),p=f.useCallback(x=>{u(b=>[...b,x])},[]),m=f.useCallback(x=>{u(b=>b.filter((g,k)=>k!==x))},[]),y=f.useCallback(x=>{v(x)},[]),S=f.useCallback(()=>{v(null)},[]);return i.jsx(G0.Provider,{value:{selectedFoods:o,currentNutrients:c,addFood:p,removeFood:m,updatePreview:y,clearPreview:S},children:l})}const Pc={ja:{"common.back":"","common.save":"","common.cancel":"","common.delete":"","common.edit":"","common.close":"","common.confirm":"","common.loading":"...","common.error":"","common.backAriaLabel":"","common.languageChangeFailed":"","common.days":"","common.consecutive":"","common.items":"","common.send":"","common.current":"","common.locale":"ja-JP","common.share":"","common.copied":"","common.copyLink":"","common.copyFailed":"","language.title":"","language.description":"","language.japanese":"","language.english":"English","language.french":"Franais","language.german":"Deutsch","language.chinese":"","gift.title":"Gift","gift.subtitle":"","gift.description":"Gift","gift.currentStatus":"","gift.totalAmount":"Gift","gift.newUsers":"","gift.discountPerUser":"","gift.messageLabel":"","gift.messagePlaceholder":"...","gift.messagePrivacy":"/","gift.messagePublic":"","gift.messagePrivate":"","gift.purchaseButton":"3,980 1","gift.purchaseNote":" 100%","gift.purchaseSuccess":"Gift","gift.myMessages":"","gift.myMessagesDescription":"Gift","gift.communityMessages":"","gift.communityMessagesDescription":"Gift","gift.publicMessages":"","gift.noMessages":"","gift.viewPastMessages":"","gift.modeAmount":"","gift.modePeople":"","gift.amountLabel":"Gift","gift.amountHint":" 1","gift.amountPeopleEquivalent":"","gift.peopleLabel":"","gift.peopleHint":"","gift.total":"","gift.people":"","gift.perPerson":"/","gift.sendGift":"Gift","gift.currency":"","gift.reply":"","gift.replyPlaceholder":"...","labs.description":"","labs.diary":"","labs.diaryDescription":"","labs.stats":"","labs.statsDescription":"","labs.community":"","labs.communityDescription":"","labs.shop":"","labs.shopDescription":"UI","labs.gift":"Gift","labs.giftDescription":"100%","labs.streakTracker":"","labs.streakTrackerDescription":"","labs.tips":"Tips","labs.viewTipsList":"Tips","labs.tipsHistory":"Tips","labs.noTipsHistory":"Tips","labs.tipsList":"Tips","labs.tipsListAll":"","labs.tipsListSaved":"","labs.noSavedTips":"Tips","labs.tipBack":" ","labs.tipNext":" ","labs.tipShare":" Share","labs.tipSaved":"","labs.tipSave":"","labs.appIconGenerator":"","home.addFood":"","home.myFoods":"","home.myFoodsTitle":"","home.addToMyFoods":"","home.history":"","home.today":"","home.yesterday":"","home.noFoods":"","home.noHistory":"","home.selectAmount":"","home.amount":"","home.unit":"","home.add":"","home.cancel":"","home.gram":"g","home.piece":"","home.addFromPhoto":"","home.barcodeScan":"","home.recipe":"","home.noMyFoodsRegistered":"","home.beef":"","home.pork":"","home.chicken":"","home.food":"","home.select":"","home.confirmAdd":"","home.originalAmount":"","home.changeAmount":"","home.electrolyteBalance":"","home.essentialNutrients":"","home.otherNutrients":"","home.items":"","home.showAllNutrients":"","home.favorites":"","home.viewAll":"","home.enable":"","home.createNew":"","home.notification":"","home.notificationEnabled":"","home.notificationDenied":"","home.notificationSettings":"","home.unreadTapToView":"","home.notificationDesc":"","home.notificationDeniedDesc":"","home.notificationDeniedAlert":`

`,"home.notificationHistory":"","home.markAllRead":"","home.noNotifications":"","home.openSettings":"","home.analyzing":"...","home.analysisFailed":"","home.selectAddMethod":"","home.selectAddMethodDesc":"","home.manualAdd":"","home.fullNutrientReport":"","home.macros":"","home.carnivoreImportant":"","home.vitaminBGroup":"B","home.vitamins":"","home.minerals":"","home.caution":"","home.unnecessary":"","home.idealZero":"0","home.exists":"","home.read":"","home.delete":"","home.close":"","home.unread":"","nutrient.protein":"","nutrient.fat":"","nutrient.zinc":"","nutrient.iron":"","nutrient.magnesium":"","nutrient.sodium":"","nutrient.potassium":"","nutrient.vitaminD":"D","nutrient.vitaminA":"A","nutrient.vitaminK2":"K2","nutrient.vitaminB12":"B12","nutrient.choline":"","nutrient.omegaRatio":"3/6","nutrient.insulinGlucagonRatio":"/","nutrient.insulinGlucagonRatio.optimal":" ","nutrient.insulinGlucagonRatio.good":" ","nutrient.insulinGlucagonRatio.warning":" ","nutrient.insulinGlucagonRatio.danger":" ","nutrient.insulinGlucagonRatio.description":"","nutrient.netCarbs":"","nutrient.fiber":"","nutrient.calcium":"","nutrient.phosphorus":"","nutrient.selenium":"","nutrient.copper":"","nutrient.manganese":"","nutrient.vitaminC":"C","nutrient.vitaminK":"K","nutrient.vitaminE":"E","nutrient.vitaminB1":"B1","nutrient.vitaminB2":"B2","nutrient.vitaminB3":"B3","nutrient.vitaminB6":"B6","gauge.tab.whyThisValue":"","gauge.tab.formula":"","gauge.defaultTarget":" ({target}{unit}) ","gauge.baseValue":": {value}{unit}","gauge.dynamicAdjustment":"","gauge.currentTarget":": {value}{unit}","gauge.formulaNotAvailable":"","profile.title":"","profile.userSettings":"","profile.userSettingsDescription":"","profile.debugMode":"","profile.debugModeDescription":"30","profile.debugModeOn":" ON: ","profile.debugModeOff":"OFF: ","profile.customFood":"","profile.customFoodDescription":"AI","profile.uiSettings":"UI","profile.uiSettingsDescription":"","profile.languageSettings":"","profile.nutrientTargets":"","profile.saltSettings":"","profile.saltType":"","profile.tableSalt":"","profile.seaSalt":"","profile.himalayanSalt":"","profile.celticSalt":"","profile.perShave":"","profile.carbTargetSettings":"","profile.dataManagement":"","profile.account":"","profile.accountDescription":"","profile.exportData":"","profile.exportDescription":"JSON","profile.importData":"","profile.importDescription":"JSON","profile.deleteData":"","profile.deleteDescription":"","profile.exportSuccess":"","profile.exportFailed":"","profile.importSuccess":"","profile.importFailed":"","profile.importConfirm":"","profile.navigateToUserSettings":"","profile.navigateToLanguage":"","profile.openCustomFood":"","profile.navigateToUISettings":"UI","profile.navigateToSaltSettings":"","profile.navigateToCarbTargetSettings":"","profile.navigateToAccount":"","profile.navigateToDataExport":"","profile.navigateToDataDelete":"","profile.navigateToFeedback":"","profile.navigateToPrivacyPolicy":"","profile.navigateToTermsOfService":"","settings.title":"","settings.general":"","settings.display":"","settings.notifications":"","settings.data":"","settings.about":"","settings.hideSection":"","settings.fontSize":"","settings.fontSizeSmall":"","settings.fontSizeMedium":"","settings.fontSizeLarge":"","settings.fontSizeExtraLarge":"","settings.nutrientDisplay":"","settings.displayMode":"","settings.displayModeHelp":"","settings.simpleMode":"","settings.standardMode":"","settings.detailedMode":"","settings.otherDisplay":"","settings.showKnowledge":"","settings.showKnowledgeHelp":"","settings.showKnowledgeDesc":"","settings.showNutrientPreview":"","settings.showNutrientPreviewHelp":"","settings.showNutrientPreviewDesc":"","settings.darkMode":"","settings.darkModeHelp":"","settings.darkModeDesc":"","settings.showTips":"Tips","settings.showTipsHelp":"AITips","settings.showTipsDesc":"AITips","settings.debugMode":"","settings.debugModeHelp":"30","settings.debugModeDesc":"30","settings.notificationSettings":"","settings.enableNotifications":"","settings.enableNotificationsHelp":"","settings.notificationGranted":"","settings.notificationDenied":"","settings.notificationRequest":"","settings.notificationDeniedWarning":" ","settings.dataManagement":"","settings.dataExport":"","settings.dataImport":"","settings.appInfo":"","settings.showOnboarding":"","settings.termsOfService":"","settings.privacyPolicy":"","history.title":"","history.noData":"","history.noDataDescription":"","history.date":"","history.food":"","history.amount":"","history.foodsEaten":"","history.reAdd":"","history.deleteConfirm":"","history.deleteFailed":"","history.7days":"7","history.30days":"30","history.all":"","history.summary":"","history.viewDetails":"","history.past7days":"7","history.past30days":"30","history.allPeriod":"","history.summaryOf":"","history.averageProtein":"","history.averageFat":"","history.recordedDays":"","history.days":"","history.violationRate":"","history.noLogs":"","history.items":"","history.violation":"","history.recovery":"","stats.title":"","stats.nutrientTrends":"","stats.weightTrends":"","stats.noData":"","diary.title":"","diary.physicalCondition":"","diary.mental":"","diary.physicalAbility":"","diary.save":"","diary.saving":"...","diary.saveFailed":"","diary.placeholder":"","diary.pastDiary":"","diary.noEntries":"","community.title":"","community.comingSoon":"","community.description":"","community.showConcept":"","community.conceptTitle":"","community.concept1":"","community.concept2":"AI","community.concept3":"","community.concept3Desc":"DiscordRedditX","community.concept4":"","community.concept4Desc":"AI","community.concept5":"","community.concept5Desc":"","community.concept6":"","community.concept6Desc":"","community.conversations":"","community.insights":"","community.patterns":"","community.consultation":"","community.conversationsTitle":"","community.comingSoonWarning":"","community.comingSoonDescription":"","community.conversationsDescription":"","community.threadDetail":"","community.insightsTitle":"","community.insightsDescription":"","community.insightsNote":" ","community.patternsTitle":"","community.patternsDescription":"","community.sampleSize":"","community.consultationTitle":"","community.consultationSubtitle":"","community.consultationDesc1":"","community.consultationDesc2":"","community.consultationDesc3":"","community.consultationDesc4":"AI","community.consultationNote":" ","community.exportData":"JSON","community.exportFailed":"","streak.title":"","streak.currentStreak":"","streak.phase":"","streak.days":"","customFood.title":"","customFood.add":"","customFood.edit":"","customFood.foodName":"","customFood.foodNameDescription":"AI","customFood.foodNamePlaceholder":"...","customFood.displayName":"","customFood.displayNameDescription":"","customFood.displayNamePlaceholder":"...","customFood.aiSuggest":"AI","customFood.analyzing":"...","customFood.nutrients":"","customFood.nutrientsPer100g":"100g","customFood.nutrientsDetailed":"","customFood.foodType":"","customFood.foodTypeAnimal":"","customFood.foodTypePlant":"","customFood.foodTypeTrash":"","customFood.nutrientsRequired":"","customFood.protein":"","customFood.fat":"","customFood.carbs":"","customFood.showDetails":"","customFood.hideDetails":"","customFood.additionalInfoNeeded":"","customFood.answerPlaceholder":"...","customFood.reanalyzing":"...","customFood.reanalyzeWithAnswer":"","customFood.nextTip":"Tips ","customFood.enterFoodName":"","customFood.analyzeFailed":"AI","customFood.saveFailed":"","customFood.saving":"...","customFood.save":"","customFood.cancel":"","customFood.antiNutrients":"","customFood.sodium":"","customFood.magnesium":"","customFood.potassium":"","customFood.zinc":"","customFood.iron":"","customFood.vitaminA":"A","customFood.vitaminD":"D","customFood.vitaminK2":"K2","customFood.vitaminB12":"B12","customFood.vitaminB7":"B7","customFood.choline":"","customFood.iodine":"","customFood.omega3":"3","customFood.omega6":"6","customFood.calcium":"","customFood.phosphorus":"","customFood.glycine":"","customFood.methionine":"","customFood.taurine":"","customFood.vitaminB5":"B5","customFood.vitaminB9":"B9","customFood.chromium":"","customFood.molybdenum":"","customFood.fluoride":"","customFood.chloride":"","customFood.boron":"","customFood.nickel":"","customFood.silicon":"","customFood.vanadium":"","customFood.phytates":"","customFood.oxalates":"","customFood.lectins":"","customFood.antiNutrientsDetailed":"","customFood.polyphenols":"","customFood.flavonoids":"","customFood.saponins":"","customFood.goitrogens":"","customFood.tannins":"","customFood.addToTodayLog":"","butcher.saltType":"","butcher.quantity":"","butcher.grind":"","butcher.perGrind":"1 (g)","butcher.resetToDefault":" (0.5g)","butcher.nutrientBreakdown":"","butcher.sortByPriority":"","butcher.sortByDeficiency":"","butcher.omega36Ratio":"3/6","butcher.omega6ExcessWarning":"6","butcher.omega6ExcessRisk":" 6","butcher.optimalRatioRange":" 1:1  1:4","butcher.biotinBlockedHint":"B7","butcher.magnesiumHint":": ","butcher.photoAnalysisFailed":"","butcher.piece":"","butcher.grindUnit":"","butcher.avoidZone":" Avoid Zone","butcher.collapse":" ","butcher.showMore":" ","butcher.add":"","butcher.plantProtein":"","butcher.vegetableOil":"","butcher.fiber":"","butcher.netCarbs":"NetCarbs","butcher.phytates":"","butcher.polyphenols":"","butcher.flavonoids":"","butcher.oxalates":"","butcher.lectins":"","butcher.saponins":"","butcher.goitrogens":"","butcher.tannins":"","shop.title":"","shop.pixelArtUI":"UI","shop.pixelArtUIDescription":"","shop.customization":"","shop.comingSoon":"","shop.debugMode":": ","shop.uiCustomization":"UI","shop.enablePixelArtUI":"UI","shop.disablePixelArtUI":"UI","shop.purchased":"","shop.freeDebugMode":"","shop.purchase":"","shop.purchaseSuccess":"{name}","shop.purchaseSuccessDebug":"{name}","shop.paymentPending":"","shop.enablePixelArtUISuccess":"UI","shop.disablePixelArtUISuccess":"UI","shop.paymentComingSoon":"{name}: {price}","recipe.title":"","recipe.createNew":"+ ","recipe.noRecipes":"","recipe.noRecipesDescription":"","recipe.use":"","recipe.edit":"","recipe.delete":"","recipe.createTitle":"","recipe.editTitle":"","recipe.name":"","recipe.nameRequired":"","recipe.description":"","recipe.descriptionPlaceholder":": ","recipe.foods":":","recipe.addFood":"+ ","recipe.noFoods":"","recipe.containsFoods":":","recipe.foodNamePrompt":":","recipe.amountPrompt":"g:","recipe.invalidAmount":"","recipe.saveFailed":"","recipe.deleteConfirm":"","recipe.deleteFailed":"","recipe.added":"{name}","recipe.namePlaceholder":": ","recipe.back":" ","recipe.cancel":"","recipe.save":"","input.title":"","input.search":"","input.searchPlaceholder":"...","input.noResults":"","auth.title":"","auth.email":"","auth.password":"","auth.login":"","auth.signup":"","auth.logout":"","auth.loggedIn":"","auth.emailLabel":"","auth.passwordLabel":"","auth.confirmPassword":"","auth.confirmPasswordLabel":"","auth.forgotPassword":"","auth.backToLogin":"","auth.guestMode":"","auth.guestModeMessage":"Supabase","auth.continue":"","auth.processing":"...","auth.loginSuccess":"","auth.loginFailed":"","auth.signupSuccess":"","auth.signupFailed":"","auth.passwordResetSent":"","auth.passwordResetFailed":"","auth.passwordMismatch":"","auth.passwordTooShort":"6","auth.authNotAvailable":"Supabase","auth.register":"","auth.send":"","nav.home":"","nav.homeAriaLabel":"","nav.profile":"","nav.profileAriaLabel":"","nav.mainNavigationAriaLabel":"","nav.history":"","nav.labs":"","nav.historyAriaLabel":"","nav.labsAriaLabel":"","common.processing":"...","common.yes":"","common.no":"","common.ok":"OK","onboarding.step1.title":"","onboarding.step1.description":"","onboarding.step2.title":"","onboarding.step2.description":"","onboarding.step3.title":"","onboarding.step3.description":"","onboarding.persona.practitioner":"","onboarding.persona.practitionerDesc":"","onboarding.persona.practitionerMode":"+","onboarding.persona.beginner":"","onboarding.persona.beginnerDesc":"","onboarding.persona.beginnerMode":"10","onboarding.persona.dataFocused":"","onboarding.persona.dataFocusedDesc":"","onboarding.persona.dataFocusedMode":"60","onboarding.notification.enable":"","onboarding.notification.skip":"","onboarding.next":"","onboarding.back":"","onboarding.skip":"","onboarding.start":""},en:{"common.back":"Back","common.save":"Save","common.cancel":"Cancel","common.delete":"Delete","common.edit":"Edit","common.close":"Close","common.confirm":"Confirm","common.loading":"Loading...","common.error":"An error occurred","common.backAriaLabel":"Back","common.languageChangeFailed":"Failed to change language","common.days":"days","common.consecutive":"consecutive","common.items":"items","common.send":"Send","common.current":"Current","common.locale":"en-US","common.share":"Share","common.copied":"Copied","common.copyLink":"Copy Link","common.copyFailed":"Failed to copy to clipboard. Please copy manually.","language.title":"Language Settings","language.description":"Select the display language for the app.","language.japanese":"","language.english":"English","language.french":"Franais","language.german":"Deutsch","language.chinese":"","gift.title":"Gift","gift.subtitle":"Support new members","gift.description":"Your Gift will become a discount for new users.","gift.currentStatus":"Current Status","gift.totalAmount":"Total Gift Amount","gift.newUsers":"New Users","gift.discountPerUser":"Current Discount","gift.messageLabel":"Message (optional)","gift.messagePlaceholder":"Enter a message for new users...","gift.messagePrivacy":"Privacy","gift.messagePublic":"Public","gift.messagePrivate":"Private","gift.purchaseButton":"Give 3,980 for 1 month","gift.purchaseNote":" 100% will be converted to discounts for new users","gift.purchaseSuccess":"Thank you for your contribution!","gift.myMessages":"My Messages","gift.myMessagesDescription":"Messages you wrote when sending Gifts in the past","gift.communityMessages":"Messages from the Community","gift.communityMessagesDescription":"Public messages written by other users when they sent Gifts","gift.publicMessages":"Public Messages","gift.noMessages":"No messages yet","gift.viewMessages":"View Messages","gift.viewPastMessages":"View Past Messages","gift.modeAmount":"Specify Amount","gift.modePeople":"Specify Number of People","gift.amountLabel":"Gift Amount (JPY)","gift.amountHint":" You can specify in 1 yen increments","gift.amountPeopleEquivalent":"people","gift.peopleLabel":"How many people to send to","gift.peopleHint":"Note:","gift.total":"Total","gift.people":"people","gift.perPerson":"/person","gift.sendGift":"Send Gift","gift.currency":"","gift.reply":"Reply","gift.replyPlaceholder":"Enter your reply...","labs.description":"Features implemented while deciding if they are essential","labs.diary":"Diary","labs.diaryDescription":"Record physical condition, mental state, physical abilities, etc.","labs.stats":"Statistics & Charts","labs.statsDescription":"Display nutrient trends and weight trends in charts","labs.community":"Community","labs.communityDescription":"Data-driven community features","labs.shop":"Shop","labs.shopDescription":"Purchase pixel art UI and other customization items.","labs.gift":"Gift","labs.giftDescription":"Support new members. 100% will be converted to discounts for new users.","labs.streakTracker":"Habit Tracker","labs.streakTrackerDescription":"Check streak","labs.tips":"Tips","labs.viewTipsList":"View Tips List","labs.tipsHistory":"Tips History & Favorites","labs.noTipsHistory":"No tips history yet","labs.tipsList":"Tips List","labs.tipsListAll":"All","labs.tipsListSaved":"Saved","labs.noSavedTips":"No saved tips yet","labs.tipBack":" Back","labs.tipNext":"Next ","labs.tipShare":" Share","labs.tipSaved":"Saved","labs.tipSave":"Save","labs.appIconGenerator":"App Icon Generator","home.addFood":"Add Food","home.myFoods":"My Foods","home.myFoodsTitle":"My Foods","home.addToMyFoods":"Add to My Foods","home.history":"History","home.addFromPhoto":"Add from Photo","home.barcodeScan":"Barcode Scan","home.recipe":"Recipe","home.noMyFoodsRegistered":"Not registered yet. You can register from history with the  button or create a new one from the create button.","home.today":"Today","home.yesterday":"Yesterday","home.noFoods":"No foods added yet","home.noHistory":"No history yet","home.selectAmount":"Select Amount","home.amount":"Amount","home.unit":"Unit","home.add":"Add","home.cancel":"Cancel","home.gram":"g","home.piece":"piece","home.beef":"Beef","home.pork":"Pork","home.chicken":"Chicken","home.food":"Food","home.select":"Select","home.confirmAdd":"Confirm Add","home.originalAmount":"Original Amount","home.changeAmount":"Change Amount","home.electrolyteBalance":"Electrolyte Balance","home.essentialNutrients":"Essential Nutrients","home.otherNutrients":"Other Nutrients","home.items":"items","home.showAllNutrients":"Show All Nutrients","home.favorites":"Favorites","home.viewAll":"View All","home.enable":"Enable","home.createNew":"Create New","home.notification":"Notifications","home.notificationEnabled":"Notifications (Enabled)","home.notificationDenied":"Notifications (Denied)","home.notificationSettings":"Notification Settings","home.unreadTapToView":"Tap to view history","home.notificationDesc":"Receive electrolyte alerts, fat deficiency reminders, and more","home.notificationDeniedDesc":"Please enable notifications in browser settings","home.notificationDeniedAlert":`Notifications are denied. Please enable notifications in browser settings.

You can also change notification settings from the Settings screen.`,"home.notificationHistory":"Notification History","home.markAllRead":"Mark All Read","home.noNotifications":"No notification history","home.openSettings":"Open Settings","home.analyzing":"Analyzing photo...","home.analysisFailed":"Photo analysis failed. Please try again.","home.selectAddMethod":"Select Add Method","home.selectAddMethodDesc":"Add from photo or scan barcode?","home.manualAdd":"Manual Entry","home.fullNutrientReport":"Full Nutrient Report","home.macros":"Main Macros","home.carnivoreImportant":"Carnivore Essentials","home.vitaminBGroup":"B Vitamins","home.vitamins":"Vitamins","home.minerals":"Minerals","home.caution":"Watch Items","home.unnecessary":"unnecessary","home.idealZero":"0 is ideal","home.exists":"present","home.read":"Read","home.delete":"Delete","home.close":"Close","home.unread":"Unread","nutrient.protein":"Protein (Effective)","nutrient.fat":"Fat","nutrient.zinc":"Zinc (Effective)","nutrient.iron":"Iron (Effective)","nutrient.magnesium":"Magnesium","nutrient.sodium":"Sodium","nutrient.potassium":"Potassium","nutrient.vitaminD":"Vitamin D","nutrient.vitaminA":"Vitamin A","nutrient.vitaminK2":"Vitamin K2","nutrient.vitaminB12":"Vitamin B12","nutrient.choline":"Choline","nutrient.omegaRatio":"Omega-3/6 Ratio","nutrient.insulinGlucagonRatio":"Insulin/Glucagon Ratio","nutrient.insulinGlucagonRatio.optimal":" Fat Burning Mode","nutrient.insulinGlucagonRatio.good":" Fat Burning Promoted","nutrient.insulinGlucagonRatio.warning":" Caution Required","nutrient.insulinGlucagonRatio.danger":" Fat Storage Mode","nutrient.insulinGlucagonRatio.description":"Most critical indicator for weight loss. Lower ratio (glucagon dominant) promotes fat burning.","nutrient.omegaRatio":"Omega 3/6 Ratio","nutrient.netCarbs":"Net Carbs","nutrient.fiber":"Fiber","nutrient.calcium":"Calcium","nutrient.phosphorus":"Phosphorus","nutrient.selenium":"Selenium","nutrient.copper":"Copper","nutrient.manganese":"Manganese","nutrient.vitaminC":"Vitamin C","nutrient.vitaminK":"Vitamin K (Effective)","nutrient.vitaminE":"Vitamin E","nutrient.vitaminB1":"Vitamin B1","nutrient.vitaminB2":"Vitamin B2","nutrient.vitaminB3":"Vitamin B3","nutrient.vitaminB6":"Vitamin B6","gauge.tab.whyThisValue":"Why this value?","gauge.tab.formula":"Formula","gauge.defaultTarget":"Standard target ({target}{unit}) is applied.","gauge.baseValue":"Base: {value}{unit}","gauge.dynamicAdjustment":"Dynamically adjusted based on profile","gauge.currentTarget":"Current target: {value}{unit}","gauge.formulaNotAvailable":"Could not generate formula.","profile.title":"Profile","profile.userSettings":"User Settings","profile.userSettingsDescription":"Basic information, goals, metabolic status, etc.","profile.debugMode":"Debug Mode","profile.debugModeDescription":"Show dummy data (30 days of sample data)","profile.debugModeOn":" Debug Mode ON: Dummy data is displayed","profile.debugModeOff":"Debug Mode OFF: Actual data is displayed","profile.customFood":"Custom Food Registration","profile.customFoodDescription":"Enter food name, AI suggests, edit and save","profile.uiSettings":"UI Settings","profile.uiSettingsDescription":"Font size, display settings, etc.","profile.languageSettings":"Language Settings","profile.nutrientTargets":"Nutrient Target Customization","profile.saltSettings":"Salt Settings","profile.saltType":"Salt Type","profile.tableSalt":"Table Salt","profile.seaSalt":"Sea Salt","profile.himalayanSalt":"Himalayan Salt","profile.celticSalt":"Celtic Salt","profile.perShave":"per shave","profile.carbTargetSettings":"Carb Target Settings","profile.dataManagement":"Data Management","profile.account":"Account","profile.accountDescription":"Account information and authentication settings","profile.exportData":"Export Data","profile.exportDescription":"Download all data in JSON format","profile.importData":"Import Data","profile.importDescription":"Import data in JSON format","profile.deleteData":"Delete Data","profile.deleteDescription":"Delete all data (cannot be undone)","profile.exportSuccess":"Data export succeeded","profile.exportFailed":"Data export failed","profile.importSuccess":"Data import succeeded","profile.importFailed":"Data import failed","profile.importConfirm":"Existing data will be overwritten. Continue?","profile.navigateToUserSettings":"Navigate to user settings screen","profile.navigateToLanguage":"Navigate to language settings screen","profile.openCustomFood":"Open custom food registration screen","profile.navigateToUISettings":"Navigate to UI settings screen","profile.navigateToSaltSettings":"Navigate to salt settings screen","profile.navigateToCarbTargetSettings":"Navigate to carbohydrate target settings screen","profile.navigateToAccount":"Navigate to account screen","profile.navigateToDataExport":"Navigate to data export screen","profile.navigateToDataDelete":"Navigate to data delete screen","profile.navigateToFeedback":"Navigate to feedback screen","profile.navigateToPrivacyPolicy":"Navigate to privacy policy screen","profile.navigateToTermsOfService":"Navigate to terms of service screen","settings.title":"Settings","settings.general":"General","settings.display":"Display","settings.notifications":"Notifications","settings.data":"Data","settings.about":"About","settings.hideSection":"Hide this section","settings.fontSize":"Font Size","settings.fontSizeSmall":"Small","settings.fontSizeMedium":"Medium","settings.fontSizeLarge":"Large","settings.fontSizeExtraLarge":"Extra Large","settings.nutrientDisplay":"Nutrient Display Settings","settings.displayMode":"Display Mode","settings.displayModeHelp":"Carnivore diet does not require detailed number management. Listen to your body and check detailed data as needed.","settings.simpleMode":"Simple Mode (Recommended)","settings.standardMode":"Standard Mode","settings.detailedMode":"Detailed Mode","settings.otherDisplay":"Other Display Settings","settings.showKnowledge":"Show Knowledge Base","settings.showKnowledgeHelp":"Displays science-based knowledge about carnivore diet. Check detailed explanations for each nutrient and food.","settings.showKnowledgeDesc":"Display carnivore diet knowledge","settings.showNutrientPreview":"Show Nutrient Preview","settings.showNutrientPreviewHelp":"Preview nutrient changes before adding food. Easily compare with target values.","settings.showNutrientPreviewDesc":"Preview nutrient changes when adding food","settings.darkMode":"Dark Mode","settings.darkModeHelp":"Switch to dark theme. Useful in dark environments or for eye comfort.","settings.darkModeDesc":"Switch to dark theme (eye-friendly dark background)","settings.showTips":"Show Tips","settings.showTipsHelp":"Display useful carnivore tips during AI loading or app startup. Helps deepen your knowledge.","settings.showTipsDesc":"Show random carnivore tips during AI loading and app startup","settings.debugMode":"Debug Mode","settings.debugModeHelp":"Development/testing feature. Shows 30 days of sample data. This is mock data for testing, not actual data.","settings.debugModeDesc":"Show mock data (30 days of sample data)","settings.notificationSettings":"Notification Settings","settings.enableNotifications":"Enable Notifications","settings.enableNotificationsHelp":"Enable browser notifications. Receive electrolyte alerts, fat deficiency reminders, streak reminders, etc.","settings.notificationGranted":"Notifications are enabled","settings.notificationDenied":"Notifications are denied. Please enable in browser settings.","settings.notificationRequest":"Request notification permission","settings.notificationDeniedWarning":" Notifications are denied. Please enable notifications in browser settings.","settings.dataManagement":"Data Management","settings.dataExport":"Data Export","settings.dataImport":"Data Import","settings.appInfo":"App Info","settings.showOnboarding":"Show Onboarding Again","settings.termsOfService":"Terms of Service","settings.privacyPolicy":"Privacy Policy","history.title":"History","history.noData":"No data yet","history.noDataDescription":"When you record daily intake, history will be displayed here","history.date":"Date","history.food":"Food","history.amount":"Amount","history.foodsEaten":"Foods Eaten","history.reAdd":"Re-add","history.deleteConfirm":"Delete this log?","history.deleteFailed":"Failed to delete log. Please try again.","history.7days":"7 days","history.30days":"30 days","history.all":"All","history.summary":"Summary","history.viewDetails":"View Details","history.past7days":"Past 7 days","history.past30days":"Past 30 days","history.allPeriod":"All period","history.summaryOf":"Summary of","history.averageProtein":"Average Protein","history.averageFat":"Average Fat","history.recordedDays":"Recorded Days","history.days":"days","history.violationRate":"Violation Rate","history.noLogs":"No logs","history.items":"items","history.violation":"Violation","history.recovery":"Recovery","stats.title":"Statistics & Charts","stats.nutrientTrends":"Nutrient Trends","stats.weightTrends":"Weight Trends","stats.noData":"No data yet","diary.title":"Diary","diary.physicalCondition":"Physical Condition","diary.mental":"Mental","diary.physicalAbility":"Physical Ability","diary.save":"Save","diary.saving":"Saving...","diary.saveFailed":"Failed to save diary","diary.placeholder":"Record physical condition, mental state, physical abilities, etc. freely","diary.pastDiary":"Past Diary","diary.noEntries":"No diary entries yet","community.title":"Community","community.comingSoon":"Coming Soon","community.description":"Data-driven community features","community.showConcept":"Show design concept","community.conceptTitle":"Community Design Concept","community.concept1":"Not just a place to make friends, but a huge laboratory where everyone becomes a subject.","community.concept2":"Your records are anonymized and integrated as collective intelligence. AI and specialists analyze this data to help your survival strategy.","community.concept3":"Superior to existing communities","community.concept3Desc":"Provides features from Discord, Reddit, X, etc.","community.concept4":"Conversation recording and utilization","community.concept4Desc":"All conversations in the community are saved to a database, and AI responds based on past conversations","community.concept5":"Collective intelligence","community.concept5Desc":"Extract practical patterns from anonymized data","community.concept6":"Data-driven","community.concept6Desc":'Consult with specialists using "medical records" instead of "conversations"',"community.conversations":"Conversations","community.insights":"Collective Intelligence","community.patterns":"Practice Patterns","community.consultation":"Specialist Consultation","community.conversationsTitle":"Community Conversations","community.comingSoonWarning":"Coming Soon","community.comingSoonDescription":"Community features will be implemented gradually, prioritizing security and performance. Currently showing mock data.","community.conversationsDescription":"User conversations are analyzed as data and become collective intelligence. You can make friends, or just contribute as data.","community.threadDetail":"Thread detail screen (preparing)","community.insightsTitle":"Community Collective Intelligence","community.insightsDescription":"Insights extracted from anonymized practice data. Your records also automatically contribute to collective intelligence.","community.insightsNote":" Initially, there may not be enough useful information due to limited data. As more users join, more useful collective intelligence will be generated.","community.patternsTitle":"Practice Patterns","community.patternsDescription":"Practical patterns extracted from your logs. In the future, they will be extracted from the entire community data.","community.sampleSize":"Sample size","community.consultationTitle":"Data-Driven Specialist Consultation","community.consultationSubtitle":'Consult using "medical records" instead of "conversations"',"community.consultationDesc1":'In traditional communities, you had to explain to doctors one by one: "What did you eat yesterday?" "What are your symptoms?"',"community.consultationDesc2":"In this app, by simply sharing your in-app stats (diet, excretion, weight trend graphs) with doctors, you can receive immediate surgical-level advice.","community.consultationDesc3":`Doctors don't need to ask "what did you eat" and can make immediate judgments by looking at data, enabling efficient and accurate medical care.`,"community.consultationDesc4":"Also, since AI automatically answers previously asked questions, you don't need to repeat the same questions.","community.consultationNote":" You can make friends, but it's not just that. Your conversations and data are integrated as collective intelligence and help other users' survival strategies.","community.exportData":"Export Data (JSON format)","community.exportFailed":"Failed to export data.","streak.title":"Habit Tracker","streak.currentStreak":"Current Streak","streak.phase":"Phase","streak.days":"days","customFood.title":"Custom Food Registration","customFood.add":"Custom Food Registration","customFood.edit":"Edit Custom Food","customFood.foodName":"Food Name","customFood.foodNameDescription":"Enter food name and press AI Suggest button","customFood.foodNamePlaceholder":"Enter food name...","customFood.displayName":"Display Name","customFood.displayNameDescription":"Name used for search and display (can be same as food name)","customFood.displayNamePlaceholder":"Enter display name...","customFood.aiSuggest":"AI Suggest","customFood.analyzing":"Analyzing...","customFood.nutrients":"Nutrients","customFood.nutrientsPer100g":"Nutrients per 100g","customFood.nutrientsDetailed":"Nutrients (Detailed)","customFood.foodType":"Food Type","customFood.foodTypeAnimal":"Animal","customFood.foodTypePlant":"Plant","customFood.foodTypeTrash":"Avoid","customFood.nutrientsRequired":"Nutrients (Required) - Review & Edit","customFood.protein":"Protein","customFood.fat":"Fat","customFood.carbs":"Carbs","customFood.showDetails":"Show Details","customFood.hideDetails":"Hide Details","customFood.additionalInfoNeeded":"Additional information needed","customFood.answerPlaceholder":"Enter answer...","customFood.reanalyzing":"Re-analyzing...","customFood.reanalyzeWithAnswer":"Re-analyze with Answer","customFood.nextTip":"Next Tip ","customFood.enterFoodName":"Please enter food name","customFood.analyzeFailed":"AI analysis failed","customFood.saveFailed":"Save failed","customFood.saving":"Saving...","customFood.save":"Save","customFood.cancel":"Cancel","customFood.antiNutrients":"Anti-nutrients","customFood.sodium":"Sodium","customFood.magnesium":"Magnesium","customFood.potassium":"Potassium","customFood.zinc":"Zinc","customFood.iron":"Iron","customFood.vitaminA":"Vitamin A","customFood.vitaminD":"Vitamin D","customFood.vitaminK2":"Vitamin K2","customFood.vitaminB12":"Vitamin B12","customFood.vitaminB7":"Vitamin B7 (Biotin)","customFood.choline":"Choline","customFood.iodine":"Iodine","customFood.omega3":"Omega-3","customFood.omega6":"Omega-6","customFood.calcium":"Calcium","customFood.phosphorus":"Phosphorus","customFood.glycine":"Glycine","customFood.methionine":"Methionine","customFood.taurine":"Taurine","customFood.vitaminB5":"Vitamin B5","customFood.vitaminB9":"Vitamin B9","customFood.chromium":"Chromium","customFood.molybdenum":"Molybdenum","customFood.fluoride":"Fluoride","customFood.chloride":"Chloride","customFood.boron":"Boron","customFood.nickel":"Nickel","customFood.silicon":"Silicon","customFood.vanadium":"Vanadium","customFood.phytates":"Phytates","customFood.oxalates":"Oxalates","customFood.lectins":"Lectins","customFood.antiNutrientsDetailed":"Anti-nutrients (Detailed)","customFood.polyphenols":"Polyphenols","customFood.flavonoids":"Flavonoids","customFood.saponins":"Saponins","customFood.goitrogens":"Goitrogens","customFood.tannins":"Tannins","customFood.addToTodayLog":"Add to today's log","butcher.saltType":"Salt Type","butcher.quantity":"Quantity","butcher.grind":"grind","butcher.perGrind":"Amount per grind (g)","butcher.resetToDefault":"Reset to default (0.5g)","butcher.nutrientBreakdown":"Nutrient Breakdown","butcher.sortByPriority":"By Priority","butcher.sortByDeficiency":"By Deficiency","butcher.omega36Ratio":"Omega 3/6 Ratio","butcher.omega6ExcessWarning":"Excess omega-6 causes inflammation. It is recommended to increase grass-fed beef and seafood.","butcher.omega6ExcessRisk":"Excess omega-6 (inflammation risk) Please add fish or fish eggs","butcher.optimalRatioRange":"Within recommended ratio range (1:1 to 1:4)","butcher.biotinBlockedHint":"Since you are consuming raw eggs, vitamin B7 (biotin) absorption may be inhibited. It is recommended to consume cooked eggs.","butcher.magnesiumHint":"Current: Slightly deficient. Can be supplemented with mineral water or salt","butcher.photoAnalysisFailed":"Photo analysis failed. Please try again.","butcher.piece":"piece","butcher.grindUnit":"grind","butcher.avoidZone":" Avoid Zone (Things to Avoid)","butcher.collapse":" Collapse","butcher.showMore":" Show More (Antinutrients)","butcher.add":"Add","butcher.plantProtein":"Plant Protein","butcher.vegetableOil":"Vegetable Oil","butcher.fiber":"Fiber","butcher.netCarbs":"Net Carbs","butcher.phytates":"Phytates","butcher.polyphenols":"Polyphenols","butcher.flavonoids":"Flavonoids","butcher.oxalates":"Oxalates","butcher.lectins":"Lectins","butcher.saponins":"Saponins","butcher.goitrogens":"Goitrogens","butcher.tannins":"Tannins","shop.title":"Shop","shop.pixelArtUI":"Pixel Art UI","shop.pixelArtUIDescription":"You can change the entire app to pixel art style","shop.customization":"Customization Items","shop.comingSoon":"Coming Soon","shop.debugMode":"Debug Mode: Some items are available for free (to be fixed before release)","shop.enablePixelArtUI":"Enable Pixel Art UI","shop.disablePixelArtUI":"Disable Pixel Art UI","shop.purchased":"Purchased","shop.freeDebugMode":"Free (Debug Mode)","shop.purchase":"Purchase","shop.purchaseSuccess":"{name} purchased!","shop.purchaseSuccessDebug":"{name} purchased (Debug Mode)","shop.paymentPending":"Payment feature is currently under development. Please wait.","shop.enablePixelArtUISuccess":"Pixel Art UI enabled. Reloading page...","shop.disablePixelArtUISuccess":"Pixel Art UI disabled. Reloading page...","shop.paymentComingSoon":"Payment processing coming soon ({name}: {price})","recipe.title":"Recipe","recipe.createNew":"+ Create New Recipe","recipe.noRecipes":"No recipes","recipe.noRecipesDescription":"You can save frequently eaten combinations as recipes","recipe.use":"Use","recipe.edit":"Edit","recipe.delete":"Delete","recipe.createTitle":"Create New Recipe","recipe.editTitle":"Edit Recipe","recipe.name":"Recipe Name","recipe.nameRequired":"Please enter recipe name","recipe.description":"Description (Optional)","recipe.descriptionPlaceholder":"Example: Frequently eaten breakfast combination","recipe.foods":"Foods:","recipe.addFood":"+ Add Food","recipe.noFoods":"No foods","recipe.containsFoods":"Contains Foods:","recipe.foodNamePrompt":"Please enter food name:","recipe.amountPrompt":"Please enter amount (g):","recipe.invalidAmount":"Please enter a valid amount","recipe.saveFailed":"Failed to save recipe","recipe.deleteConfirm":"Delete this recipe?","recipe.deleteFailed":"Failed to delete recipe","recipe.added":"Added {name}","recipe.namePlaceholder":"Example: Breakfast Set","recipe.back":" Back","recipe.cancel":"Cancel","recipe.save":"Save","input.title":"Food Input","input.search":"Search","input.searchPlaceholder":"Search by food name...","input.noResults":"No search results","auth.title":"Login","auth.email":"Email","auth.password":"Password","auth.login":"Login","auth.signup":"Sign Up","auth.logout":"Logout","auth.loggedIn":"Logged In","auth.emailLabel":"Email Address","auth.passwordLabel":"Password","auth.confirmPassword":"Confirm Password","auth.confirmPasswordLabel":"Confirm Password","auth.forgotPassword":"Forgot Password?","auth.backToLogin":"Back to Login","auth.guestMode":"Guest Mode","auth.guestModeMessage":"Supabase is not configured. Using guest mode. Data is saved locally.","auth.continue":"Continue","auth.processing":"Processing...","auth.loginSuccess":"Login successful","auth.loginFailed":"Login failed","auth.signupSuccess":"Registration successful. Confirmation email sent.","auth.signupFailed":"Registration failed","auth.passwordResetSent":"Password reset email sent","auth.passwordResetFailed":"Password reset failed","auth.passwordMismatch":"Passwords do not match","auth.passwordTooShort":"Password must be at least 6 characters","auth.authNotAvailable":"Authentication is not available. Please check Supabase configuration.","auth.register":"Register","auth.send":"Send","nav.home":"Home","nav.homeAriaLabel":"Home screen","nav.profile":"Settings","nav.profileAriaLabel":"Settings screen","nav.mainNavigationAriaLabel":"Main navigation","nav.history":"History","nav.labs":"Other","nav.historyAriaLabel":"History screen","nav.labsAriaLabel":"Other screen","common.processing":"Processing...","common.yes":"Yes","common.no":"No","common.ok":"OK","onboarding.step1.title":"Select Language","onboarding.step1.description":"First, select your preferred language. You can change this later.","onboarding.step2.title":"Tell us about your experience","onboarding.step2.description":"Select your carnivore diet experience level. We will automatically configure the optimal display settings.","onboarding.step3.title":"Notification Settings","onboarding.step3.description":"Receive electrolyte alerts, fat deficiency reminders, and more.","onboarding.persona.practitioner":"Carnivore Practitioner","onboarding.persona.practitionerDesc":"Already practicing carnivore diet. No need for detailed number management, prefer to listen to your body.","onboarding.persona.practitionerMode":"Simple Mode (electrolytes + fat only)","onboarding.persona.beginner":"Beginner / Getting Started","onboarding.persona.beginnerDesc":"Just started or about to start carnivore diet. Want to check important nutrients in a balanced way.","onboarding.persona.beginnerMode":"Standard Mode (10 important nutrients)","onboarding.persona.dataFocused":"Data Focused","onboarding.persona.dataFocusedDesc":"Want to check all nutrient data in detail. Love micro-management.","onboarding.persona.dataFocusedMode":"Detailed Mode (60+ nutrients)","onboarding.notification.enable":"Enable Notifications","onboarding.notification.skip":"Skip","onboarding.next":"Next","onboarding.back":"Back","onboarding.skip":"Skip","onboarding.start":"Get Started"},fr:{"common.back":"Retour","common.save":"Enregistrer","common.cancel":"Annuler","common.delete":"Supprimer","common.edit":"Modifier","common.close":"Fermer","common.confirm":"Confirmer","common.loading":"Chargement...","common.error":"Une erreur est survenue","common.backAriaLabel":"Retour","common.languageChangeFailed":"chec du changement de langue","common.days":"jours","common.consecutive":"conscutifs","common.items":"lments","common.send":"Envoyer","common.current":"Actuel","common.locale":"fr-FR","language.title":"Paramtres de langue","language.description":"Slectionnez la langue d'affichage de l'application.","language.japanese":"","language.english":"English","language.french":"Franais","language.german":"Deutsch","language.chinese":"","gift.title":"Cadeau","gift.subtitle":"Soutenez les nouveaux membres","gift.description":"Votre cadeau deviendra une rduction pour les nouveaux utilisateurs.","gift.currentStatus":"Statut actuel","gift.totalAmount":"Montant total des cadeaux","gift.newUsers":"Nouveaux utilisateurs","gift.discountPerUser":"Rduction actuelle","gift.messageLabel":"Message (optionnel)","gift.messagePlaceholder":"Entrez un message pour les nouveaux utilisateurs...","gift.messagePrivacy":"Confidentialit","gift.messagePublic":"Public","gift.messagePrivate":"Priv","gift.purchaseButton":"Offrir 3,980 pour 1 mois","gift.purchaseNote":" 100% sera converti en rductions pour les nouveaux utilisateurs","gift.purchaseSuccess":"Merci pour votre contribution !","gift.myMessages":"Mes messages","gift.myMessagesDescription":"Messages que vous avez crits lors de l'envoi de cadeaux dans le pass","gift.communityMessages":"Messages de la communaut","gift.communityMessagesDescription":"Messages publics crits par d'autres utilisateurs lors de l'envoi de cadeaux","gift.publicMessages":"Messages publics","gift.noMessages":"Aucun message pour le moment","gift.viewMessages":"Voir les messages","gift.viewPastMessages":"Voir les messages passs","gift.modeAmount":"Spcifier le montant","gift.modePeople":"Spcifier le nombre de personnes","gift.amountLabel":"Montant du cadeau (JPY)","gift.amountHint":" Vous pouvez spcifier par incrments de 1 yen","gift.amountPeopleEquivalent":"personnes","gift.peopleLabel":"Combien de personnes envoyer","gift.peopleHint":"Note:","gift.total":"Total","gift.people":"personnes","gift.perPerson":"/personne","gift.sendGift":"Envoyer le cadeau","gift.currency":"","gift.reply":"Rpondre","gift.replyPlaceholder":"Entrez votre rponse...","labs.description":"Fonctionnalits implmentes en dcidant si elles sont essentielles","labs.diary":"Journal","labs.diaryDescription":"Enregistrer l'tat physique, mental, capacits physiques, etc.","labs.stats":"Statistiques et graphiques","labs.statsDescription":"Afficher les tendances nutritionnelles et les tendances de poids dans des graphiques","labs.community":"Communaut","labs.communityDescription":"Fonctionnalits communautaires bases sur les donnes","labs.shop":"Boutique","labs.shopDescription":"Achetez des UI en pixel art et d'autres articles de personnalisation.","labs.gift":"Cadeau","labs.giftDescription":"Soutenez les nouveaux membres. 100% sera converti en rductions pour les nouveaux utilisateurs.","labs.streakTracker":"Suivi des habitudes","labs.streakTrackerDescription":"Vrifier la srie","labs.tips":"Conseils","labs.viewTipsList":"Voir la liste des conseils","labs.tipsHistory":"Historique et favoris des conseils","labs.noTipsHistory":"Aucun historique de conseils pour le moment","labs.tipsList":"Liste des conseils","labs.tipsListAll":"Tous","labs.tipsListSaved":"Enregistrs","labs.noSavedTips":"Aucun conseil enregistr pour le moment","labs.tipBack":" Retour","labs.tipNext":"Suivant ","labs.tipShare":" Partager","labs.tipSaved":"Enregistr","labs.tipSave":"Enregistrer","labs.appIconGenerator":"Gnrateur d'icne d'application","history.title":"Historique","history.noData":"Aucune donne pour le moment","history.date":"Date","history.food":"Aliment","history.amount":"Quantit","history.7days":"7 jours","history.30days":"30 jours","history.all":"Tout","history.summary":"Rsum","history.viewDetails":"Voir les dtails","history.past7days":"7 derniers jours","history.past30days":"30 derniers jours","history.allPeriod":"Toute la priode","history.summaryOf":"Rsum de","history.averageProtein":"Protines moyennes","history.averageFat":"Graisses moyennes","history.recordedDays":"Jours enregistrs","history.days":"jours","history.violationRate":"Taux de violation","history.noLogs":"Aucun journal","history.items":"articles","history.violation":"Violation","history.recovery":"Rcupration","nav.home":"Accueil","nav.homeAriaLabel":"cran d'accueil","nav.profile":"Paramtres","nav.profileAriaLabel":"cran de paramtres","nav.mainNavigationAriaLabel":"Navigation principale","nav.history":"Historique","nav.labs":"Autre","nav.historyAriaLabel":"cran d'historique","nav.labsAriaLabel":"cran autre","home.addFood":"Ajouter un aliment","home.myFoods":"Mes aliments","home.myFoodsTitle":"Mes aliments","home.addToMyFoods":"Ajouter  mes aliments","home.history":"Historique","home.addFromPhoto":"Ajouter depuis une photo","home.barcodeScan":"Scanner le code-barres","home.recipe":"Recette","home.noMyFoodsRegistered":"Pas encore enregistr. Vous pouvez enregistrer depuis l'historique avec le bouton  ou en crer un nouveau depuis le bouton de cration.","home.today":"Aujourd'hui","home.yesterday":"Hier","home.noFoods":"Aucun aliment ajout pour le moment","home.noHistory":"Aucun historique pour le moment","home.selectAmount":"Slectionner la quantit","home.amount":"Quantit","home.unit":"Unit","home.add":"Ajouter","home.gram":"g","home.piece":"pice","profile.title":"Profil","profile.userSettings":"Paramtres utilisateur","profile.userSettingsDescription":"Informations de base, objectifs, tat mtabolique, etc.","profile.debugMode":"Mode dbogage","profile.debugModeDescription":"Afficher des donnes fictives (30 jours de donnes d'chantillon)","profile.debugModeOn":" Mode dbogage ON: Les donnes fictives sont affiches","profile.debugModeOff":"Mode dbogage OFF: Les donnes relles sont affiches","profile.customFood":"Enregistrement d'aliment personnalis","profile.customFoodDescription":"Entrez le nom de l'aliment, l'IA suggre, modifiez et enregistrez","profile.uiSettings":"Paramtres UI","profile.uiSettingsDescription":"Taille de police, paramtres d'affichage, etc.","profile.languageSettings":"Paramtres de langue","profile.nutrientTargets":"Personnalisation des objectifs nutritionnels","profile.saltSettings":"Paramtres de sel","profile.saltType":"Type de sel","profile.tableSalt":"Sel de table","profile.seaSalt":"Sel de mer","profile.himalayanSalt":"Sel de l'Himalaya","profile.celticSalt":"Sel celtique","profile.perShave":"par tour","profile.carbTargetSettings":"Paramtres d'objectif de glucides","profile.dataManagement":"Gestion des donnes","profile.account":"Compte","profile.accountDescription":"Informations de compte et paramtres d'authentification","profile.exportData":"Exporter les donnes","profile.exportDescription":"Tlcharger toutes les donnes au format JSON","profile.importData":"Importer les donnes","profile.importDescription":"Importer des donnes au format JSON","profile.deleteData":"Supprimer les donnes","profile.deleteDescription":"Supprimer toutes les donnes (ne peut pas tre annul)","profile.exportSuccess":"Exportation des donnes russie","profile.exportFailed":"Exportation des donnes choue","profile.importSuccess":"Importation des donnes russie","profile.importFailed":"Importation des donnes choue","profile.importConfirm":"Les donnes existantes seront crases. Continuer?","profile.navigateToUserSettings":"Naviguer vers l'cran des paramtres utilisateur","profile.navigateToLanguage":"Naviguer vers l'cran des paramtres de langue","profile.openCustomFood":"Ouvrir l'cran d'enregistrement d'aliment personnalis","profile.navigateToUISettings":"Naviguer vers l'cran des paramtres UI","profile.navigateToSaltSettings":"Naviguer vers l'cran des paramtres de sel","profile.navigateToCarbTargetSettings":"Naviguer vers l'cran des paramtres d'objectif de glucides","profile.navigateToAccount":"Naviguer vers l'cran du compte","profile.navigateToDataExport":"Naviguer vers l'cran d'exportation des donnes","profile.navigateToDataDelete":"Naviguer vers l'cran de suppression des donnes","profile.navigateToFeedback":"Naviguer vers l'cran de commentaires","profile.navigateToPrivacyPolicy":"Naviguer vers l'cran de la politique de confidentialit","profile.navigateToTermsOfService":"Naviguer vers l'cran des conditions d'utilisation","community.title":"Communaut","community.comingSoon":"Bientt disponible","community.description":"Fonctionnalits communautaires bases sur les donnes","community.showConcept":"Afficher le concept de conception","community.conceptTitle":"Concept de conception de la communaut","community.concept1":"Non seulement un lieu pour se faire des amis, mais un norme laboratoire o tout le monde devient un sujet.","community.concept2":"Vos enregistrements sont anonymiss et intgrs comme intelligence collective. L'IA et les spcialistes analysent ces donnes pour aider votre stratgie de survie.","community.concept3":"Suprieur aux communauts existantes","community.concept3Desc":"Fournit des fonctionnalits de Discord, Reddit, X, etc.","community.concept4":"Enregistrement et utilisation des conversations","community.concept4Desc":"Toutes les conversations dans la communaut sont enregistres dans une base de donnes, et l'IA rpond en fonction des conversations passes","community.concept5":"Intelligence collective","community.concept5Desc":"Extraire des modles pratiques des donnes anonymises","community.concept6":"Ax sur les donnes","community.concept6Desc":'Consulter des spcialistes en utilisant "dossiers mdicaux" au lieu de "conversations"',"community.conversations":"Conversations","community.insights":"Intelligence collective","community.patterns":"Modles de pratique","community.consultation":"Consultation spcialise","community.conversationsTitle":"Conversations communautaires","community.comingSoonWarning":"Bientt disponible","community.comingSoonDescription":"Les fonctionnalits communautaires seront implmentes progressivement, en privilgiant la scurit et les performances. Affichage actuellement des donnes fictives.","community.conversationsDescription":"Les conversations des utilisateurs sont analyses comme donnes et deviennent une intelligence collective. Vous pouvez vous faire des amis, ou simplement contribuer comme donnes.","community.threadDetail":"cran de dtail du fil (en prparation)","community.insightsTitle":"Intelligence collective de la communaut","community.insightsDescription":"Insights extraits des donnes de pratique anonymises. Vos enregistrements contribuent galement automatiquement  l'intelligence collective.","community.insightsNote":" Au dbut, il peut ne pas y avoir suffisamment d'informations utiles en raison de donnes limites.  mesure que plus d'utilisateurs rejoignent, une intelligence collective plus utile sera gnre.","community.patternsTitle":"Modles de pratique","community.patternsDescription":"Modles pratiques extraits de vos journaux.  l'avenir, ils seront extraits des donnes de toute la communaut.","community.sampleSize":"Taille de l'chantillon","community.consultationTitle":"Consultation spcialise axe sur les donnes","community.consultationSubtitle":'Consulter en utilisant "dossiers mdicaux" au lieu de "conversations"',"community.consultationDesc1":`Dans les communauts traditionnelles, vous deviez expliquer aux mdecins un par un: "Qu'avez-vous mang hier?" "Quels sont vos symptmes?"`,"community.consultationDesc2":"Dans cette application, en partageant simplement vos statistiques dans l'application (graphiques de tendances de rgime, d'excrtion, de poids) avec les mdecins, vous pouvez recevoir des conseils immdiats de niveau chirurgical.","community.consultationDesc3":`Les mdecins n'ont pas besoin de demander "qu'avez-vous mang" et peuvent faire des jugements immdiats en regardant les donnes, permettant des soins mdicaux efficaces et prcis.`,"community.consultationDesc4":"De plus, puisque l'IA rpond automatiquement aux questions prcdemment poses, vous n'avez pas besoin de rpter les mmes questions.","community.consultationNote":" Vous pouvez vous faire des amis, mais ce n'est pas seulement a. Vos conversations et donnes sont intgres comme intelligence collective et aident les stratgies de survie d'autres utilisateurs.","community.exportData":"Exporter les donnes (format JSON)","community.exportFailed":"chec de l'exportation des donnes.","butcher.saltType":"Type de sel","butcher.quantity":"Quantit","butcher.grind":"tour","butcher.perGrind":"Quantit par tour (g)","butcher.resetToDefault":"Rinitialiser par dfaut (0.5g)","butcher.nutrientBreakdown":"Rpartition des nutriments","butcher.sortByPriority":"Par priorit","butcher.sortByDeficiency":"Par carence","butcher.omega36Ratio":"Ratio Omga 3/6","butcher.omega6ExcessWarning":"L'excs d'omga-6 cause l'inflammation. Il est recommand d'augmenter le buf nourri  l'herbe et les fruits de mer.","butcher.omega6ExcessRisk":"Excs d'omga-6 (risque d'inflammation) Veuillez ajouter du poisson ou des ufs de poisson","butcher.optimalRatioRange":"Dans la plage de ratio recommande (1:1  1:4)","butcher.biotinBlockedHint":"Comme vous consommez des ufs crus, l'absorption de la vitamine B7 (biotine) peut tre inhibe. Il est recommand de consommer des ufs cuits.","butcher.magnesiumHint":"Actuel: Lgrement dficient. Peut tre complt avec de l'eau minrale ou du sel","butcher.photoAnalysisFailed":"L'analyse de la photo a chou. Veuillez ressayer.","butcher.piece":"pice","butcher.grindUnit":"tour","butcher.avoidZone":" Zone  viter (Choses  viter)","butcher.collapse":" Rduire","butcher.showMore":" Voir plus (Antinutriments)","butcher.add":"Ajouter","butcher.plantProtein":"Protine vgtale","butcher.vegetableOil":"Huile vgtale","butcher.fiber":"Fibre","butcher.netCarbs":"Glucides nets","butcher.phytates":"Phytates","butcher.polyphenols":"Polyphnols","butcher.flavonoids":"Flavonodes","butcher.oxalates":"Oxalates","butcher.lectins":"Lectines","butcher.saponins":"Saponines","butcher.goitrogens":"Goitrognes","butcher.tannins":"Tanins","shop.title":"Boutique","shop.pixelArtUI":"UI Pixel Art","shop.customization":"Articles de personnalisation","shop.comingSoon":"Bientt disponible","shop.purchaseSuccess":"{name} achet !","shop.purchaseSuccessDebug":"{name} achet (Mode Debug)","shop.paymentPending":"La fonctionnalit de paiement est actuellement en cours de dveloppement. Veuillez patienter.","shop.enablePixelArtUISuccess":"UI Pixel Art active. Rechargement de la page...","shop.disablePixelArtUISuccess":"UI Pixel Art dsactive. Rechargement de la page...","shop.paymentComingSoon":"Traitement des paiements  venir ({name}: {price})","settings.title":"Paramtres","settings.general":"Gnral","settings.display":"Affichage","settings.notifications":"Notifications","settings.data":"Donnes","settings.about":" propos","settings.hideSection":"Masquer cette section","settings.fontSize":"Taille de police","settings.fontSizeSmall":"Petit","settings.fontSizeMedium":"Moyen","settings.fontSizeLarge":"Grand","settings.fontSizeExtraLarge":"Trs grand","settings.nutrientDisplay":"Paramtres d'affichage des nutriments","settings.displayMode":"Mode d'affichage","settings.displayModeHelp":"Le rgime carnivore ne ncessite pas de gestion dtaille des chiffres. coutez votre corps et consultez les donnes dtailles si ncessaire.","settings.simpleMode":"Mode simple (Recommand)","settings.standardMode":"Mode standard","settings.detailedMode":"Mode dtaill","settings.otherDisplay":"Autres paramtres d'affichage","settings.showKnowledge":"Afficher la base de connaissances","settings.showKnowledgeHelp":"Affiche des connaissances scientifiques sur le rgime carnivore. Consultez les explications dtailles pour chaque nutriment et aliment.","settings.showKnowledgeDesc":"Afficher les connaissances sur le rgime carnivore","settings.showNutrientPreview":"Afficher l'aperu des nutriments","settings.showNutrientPreviewHelp":"Prvisualisez les changements nutritionnels avant d'ajouter un aliment. Comparez facilement avec les valeurs cibles.","settings.showNutrientPreviewDesc":"Prvisualiser les changements nutritionnels lors de l'ajout d'aliments","settings.darkMode":"Mode sombre","settings.darkModeHelp":"Basculer vers le thme sombre. Utile dans les environnements sombres ou pour le confort des yeux.","settings.darkModeDesc":"Basculer vers le thme sombre (fond sombre agrable pour les yeux)","settings.showTips":"Afficher les conseils","settings.showTipsHelp":"Affiche des conseils carnivore utiles pendant le chargement de l'IA ou au dmarrage de l'application. Aide  approfondir vos connaissances.","settings.showTipsDesc":"Afficher des conseils carnivore alatoires pendant le chargement de l'IA","settings.debugMode":"Mode dbogage","settings.debugModeHelp":"Fonction de dveloppement/test. Affiche 30 jours de donnes d'exemple. Ce sont des donnes fictives pour les tests.","settings.debugModeDesc":"Afficher les donnes fictives (30 jours de donnes d'exemple)","settings.notificationSettings":"Paramtres de notification","settings.enableNotifications":"Activer les notifications","settings.enableNotificationsHelp":"Activer les notifications du navigateur. Recevez des alertes lectrolytes, rappels de carence en graisses, etc.","settings.notificationGranted":"Les notifications sont actives","settings.notificationDenied":"Les notifications sont refuses. Veuillez activer dans les paramtres du navigateur.","settings.notificationRequest":"Demander l'autorisation de notification","settings.notificationDeniedWarning":" Les notifications sont refuses. Veuillez activer les notifications dans les paramtres du navigateur.","settings.dataManagement":"Gestion des donnes","settings.dataExport":"Exporter les donnes","settings.dataImport":"Importer les donnes","settings.appInfo":"Infos sur l'application","settings.showOnboarding":"Revoir l'introduction","settings.termsOfService":"Conditions d'utilisation","settings.privacyPolicy":"Politique de confidentialit","recipe.title":"Recette","recipe.createNew":"+ Crer une nouvelle recette","recipe.noRecipes":"Aucune recette","recipe.noRecipesDescription":"Vous pouvez enregistrer des combinaisons frquemment consommes comme recettes","recipe.use":"Utiliser","recipe.edit":"Modifier","recipe.delete":"Supprimer","recipe.createTitle":"Crer une nouvelle recette","recipe.editTitle":"Modifier la recette","recipe.name":"Nom de la recette","recipe.nameRequired":"Veuillez entrer le nom de la recette","recipe.description":"Description (optionnelle)","recipe.descriptionPlaceholder":"Exemple: Combinaison de petit-djeuner frquemment consomme","recipe.foods":"Aliments:","recipe.addFood":"+ Ajouter un aliment","recipe.noFoods":"Aucun aliment","recipe.containsFoods":"Aliments contenus:","recipe.foodNamePrompt":"Veuillez entrer le nom de l'aliment:","recipe.amountPrompt":"Veuillez entrer la quantit (g):","recipe.invalidAmount":"Veuillez entrer une quantit valide","recipe.saveFailed":"chec de l'enregistrement de la recette","recipe.deleteConfirm":"Supprimer cette recette?","recipe.deleteFailed":"chec de la suppression de la recette","recipe.added":"{name} ajout","recipe.namePlaceholder":"Exemple: Petit-djeuner","recipe.back":" Retour","recipe.cancel":"Annuler","recipe.save":"Enregistrer","onboarding.step1.title":"Choisir la langue","onboarding.step1.description":"D'abord, slectionnez votre langue prfre. Vous pourrez la changer plus tard.","onboarding.step2.title":"Parlez-nous de votre exprience","onboarding.step2.description":"Slectionnez votre niveau d'exprience avec le rgime carnivore. Nous configurerons automatiquement les paramtres d'affichage optimaux.","onboarding.step3.title":"Paramtres de notification","onboarding.step3.description":"Recevez des alertes d'lectrolytes, des rappels de carence en graisses, et plus encore.","onboarding.persona.practitioner":"Pratiquant carnivore","onboarding.persona.practitionerDesc":"Pratique dj le rgime carnivore. Pas besoin de gestion dtaille des chiffres, prfre couter son corps.","onboarding.persona.practitionerMode":"Mode simple (lectrolytes + graisses uniquement)","onboarding.persona.beginner":"Dbutant / Dmarrage","onboarding.persona.beginnerDesc":"Vient de commencer ou sur le point de commencer le rgime carnivore. Souhaite vrifier les nutriments importants de manire quilibre.","onboarding.persona.beginnerMode":"Mode standard (10 nutriments importants)","onboarding.persona.dataFocused":"Ax sur les donnes","onboarding.persona.dataFocusedDesc":"Souhaite vrifier toutes les donnes nutritionnelles en dtail. Aime la micro-gestion.","onboarding.persona.dataFocusedMode":"Mode dtaill (60+ nutriments)","onboarding.notification.enable":"Activer les notifications","onboarding.notification.skip":"Passer","onboarding.next":"Suivant","onboarding.back":"Retour","onboarding.skip":"Passer","onboarding.start":"Commencer"},de:{"common.back":"Zurck","common.save":"Speichern","common.cancel":"Abbrechen","common.delete":"Lschen","common.edit":"Bearbeiten","common.close":"Schlieen","common.confirm":"Besttigen","common.loading":"Ldt...","common.error":"Ein Fehler ist aufgetreten","common.backAriaLabel":"Zurck","common.languageChangeFailed":"Sprachnderung fehlgeschlagen","common.days":"Tage","common.consecutive":"hintereinander","common.items":"Elemente","common.send":"Senden","common.current":"Aktuell","common.locale":"de-DE","language.title":"Spracheinstellungen","language.description":"Whlen Sie die Anzeigesprache fr die App.","language.japanese":"","language.english":"English","language.french":"Franais","language.german":"Deutsch","language.chinese":"","gift.title":"Geschenk","gift.subtitle":"Neue Mitglieder untersttzen","gift.description":"Ihr Geschenk wird zu einem Rabatt fr neue Benutzer.","gift.currentStatus":"Aktueller Status","gift.totalAmount":"Gesamtbetrag der Geschenke","gift.newUsers":"Neue Benutzer","gift.discountPerUser":"Aktueller Rabatt","gift.messageLabel":"Nachricht (optional)","gift.messagePlaceholder":"Geben Sie eine Nachricht fr neue Benutzer ein...","gift.messagePrivacy":"Datenschutz","gift.messagePublic":"ffentlich","gift.messagePrivate":"Privat","gift.purchaseButton":"3,980 fr 1 Monat geben","gift.purchaseNote":" 100% wird in Rabatte fr neue Benutzer umgewandelt","gift.purchaseSuccess":"Vielen Dank fr Ihren Beitrag!","gift.myMessages":"Meine Nachrichten","gift.myMessagesDescription":"Nachrichten, die Sie beim Versenden von Geschenken in der Vergangenheit geschrieben haben","gift.communityMessages":"Nachrichten von der Gemeinschaft","gift.communityMessagesDescription":"ffentliche Nachrichten, die von anderen Benutzern beim Versenden von Geschenken geschrieben wurden","gift.publicMessages":"ffentliche Nachrichten","gift.noMessages":"Noch keine Nachrichten","gift.viewMessages":"Nachrichten anzeigen","gift.viewPastMessages":"Vergangene Nachrichten anzeigen","gift.modeAmount":"Betrag angeben","gift.modePeople":"Anzahl der Personen angeben","gift.amountLabel":"Geschenkbetrag (JPY)","gift.amountHint":" Sie knnen in 1-Yen-Schritten angeben","gift.amountPeopleEquivalent":"Personen","gift.peopleLabel":"An wie viele Personen senden","gift.peopleHint":"Hinweis:","gift.total":"Gesamt","gift.people":"Personen","gift.perPerson":"/Person","gift.sendGift":"Geschenk senden","gift.currency":"","gift.reply":"Antworten","gift.replyPlaceholder":"Geben Sie Ihre Antwort ein...","labs.description":"Funktionen, die implementiert wurden, whrend entschieden wurde, ob sie wesentlich sind","labs.diary":"Tagebuch","labs.diaryDescription":"Krperlichen Zustand, geistigen Zustand, krperliche Fhigkeiten usw. aufzeichnen","labs.stats":"Statistiken & Diagramme","labs.statsDescription":"Nhrstofftrends und Gewichtstrends in Diagrammen anzeigen","labs.community":"Gemeinschaft","labs.communityDescription":"Datengetriebene Community-Funktionen","labs.shop":"Shop","labs.shopDescription":"Pixel-Art-UI und andere Anpassungsartikel kaufen.","labs.gift":"Geschenk","labs.giftDescription":"Neue Mitglieder untersttzen. 100% wird in Rabatte fr neue Benutzer umgewandelt.","labs.streakTracker":"Gewohnheits-Tracker","labs.streakTrackerDescription":"Serie berprfen","labs.tips":"Tipps","labs.viewTipsList":"Tippsliste anzeigen","labs.tipsHistory":"Tipps-Verlauf & Favoriten","labs.noTipsHistory":"Noch kein Tipps-Verlauf","labs.tipsList":"Tippsliste","labs.tipsListAll":"Alle","labs.tipsListSaved":"Gespeichert","labs.noSavedTips":"Noch keine gespeicherten Tipps","labs.tipBack":" Zurck","labs.tipNext":"Weiter ","labs.tipShare":" Teilen","labs.tipSaved":"Gespeichert","labs.tipSave":"Speichern","labs.appIconGenerator":"App-Icon-Generator","history.title":"Verlauf","history.noData":"Noch keine Daten","history.date":"Datum","history.food":"Lebensmittel","history.amount":"Menge","history.7days":"7 Tage","history.30days":"30 Tage","history.all":"Alle","history.summary":"Zusammenfassung","history.viewDetails":"Details anzeigen","history.past7days":"Letzte 7 Tage","history.past30days":"Letzte 30 Tage","history.allPeriod":"Gesamter Zeitraum","history.summaryOf":"Zusammenfassung von","history.averageProtein":"Durchschnittliches Protein","history.averageFat":"Durchschnittliches Fett","history.recordedDays":"Aufgezeichnete Tage","history.days":"Tage","history.violationRate":"Verstorate","history.noLogs":"Keine Protokolle","history.items":"Artikel","history.violation":"Versto","history.recovery":"Wiederherstellung","nav.home":"Startseite","nav.homeAriaLabel":"Startseitenbildschirm","nav.profile":"Einstellungen","nav.profileAriaLabel":"Einstellungsbildschirm","nav.mainNavigationAriaLabel":"Hauptnavigation","nav.history":"Verlauf","nav.labs":"Andere","nav.historyAriaLabel":"Verlaufbildschirm","nav.labsAriaLabel":"Andere Bildschirm","profile.title":"Profil","profile.userSettings":"Benutzereinstellungen","profile.userSettingsDescription":"Grundinformationen, Ziele, Stoffwechselstatus usw.","profile.debugMode":"Debug-Modus","profile.debugModeDescription":"Dummydaten anzeigen (30 Tage Beispieldaten)","profile.debugModeOn":" Debug-Modus EIN: Dummydaten werden angezeigt","profile.debugModeOff":"Debug-Modus AUS: Tatschliche Daten werden angezeigt","profile.customFood":"Benutzerdefinierte Lebensmittelregistrierung","profile.customFoodDescription":"Lebensmittelname eingeben, KI schlgt vor, bearbeiten und speichern","profile.uiSettings":"UI-Einstellungen","profile.uiSettingsDescription":"Schriftgre, Anzeigeeinstellungen usw.","profile.languageSettings":"Spracheinstellungen","profile.nutrientTargets":"Anpassung der Nhrstoffziele","profile.saltSettings":"Salzeinstellungen","profile.saltType":"Salztyp","profile.tableSalt":"Tafelsalz","profile.seaSalt":"Meersalz","profile.himalayanSalt":"Himalaya-Salz","profile.celticSalt":"Keltisches Salz","profile.perShave":"pro Drehung","profile.carbTargetSettings":"Kohlenhydratziel-Einstellungen","profile.dataManagement":"Datenverwaltung","profile.account":"Konto","profile.accountDescription":"Kontoinformationen und Authentifizierungseinstellungen","profile.exportData":"Daten exportieren","profile.exportDescription":"Alle Daten im JSON-Format herunterladen","profile.importData":"Daten importieren","profile.importDescription":"Daten im JSON-Format importieren","profile.deleteData":"Daten lschen","profile.deleteDescription":"Alle Daten lschen (kann nicht rckgngig gemacht werden)","profile.exportSuccess":"Datenexport erfolgreich","profile.exportFailed":"Datenexport fehlgeschlagen","profile.importSuccess":"Datenimport erfolgreich","profile.importFailed":"Datenimport fehlgeschlagen","profile.importConfirm":"Vorhandene Daten werden berschrieben. Fortfahren?","profile.navigateToUserSettings":"Zu den Benutzereinstellungen navigieren","profile.navigateToLanguage":"Zu den Spracheinstellungen navigieren","profile.openCustomFood":"Benutzerdefinierte Lebensmittelregistrierung ffnen","profile.navigateToUISettings":"Zu den UI-Einstellungen navigieren","profile.navigateToSaltSettings":"Zu den Salzeinstellungen navigieren","profile.navigateToCarbTargetSettings":"Zu den Kohlenhydratziel-Einstellungen navigieren","profile.navigateToAccount":"Zum Konto-Bildschirm navigieren","profile.navigateToDataExport":"Zum Datenexport-Bildschirm navigieren","profile.navigateToDataDelete":"Zum Datenlsch-Bildschirm navigieren","profile.navigateToFeedback":"Zum Feedback-Bildschirm navigieren","profile.navigateToPrivacyPolicy":"Zum Datenschutzrichtlinien-Bildschirm navigieren","profile.navigateToTermsOfService":"Zum Nutzungsbedingungen-Bildschirm navigieren","community.title":"Gemeinschaft","community.comingSoon":"Demnchst verfgbar","community.description":"Datengetriebene Community-Funktionen","community.showConcept":"Designkonzept anzeigen","community.conceptTitle":"Community-Designkonzept","community.concept1":"Nicht nur ein Ort, um Freunde zu finden, sondern ein riesiges Labor, in dem jeder zum Subjekt wird.","community.concept2":"Ihre Aufzeichnungen werden anonymisiert und als kollektive Intelligenz integriert. KI und Spezialisten analysieren diese Daten, um Ihre berlebensstrategie zu untersttzen.","community.concept3":"berlegen zu bestehenden Gemeinschaften","community.concept3Desc":"Bietet Funktionen von Discord, Reddit, X usw.","community.concept4":"Gesprchsaufzeichnung und -nutzung","community.concept4Desc":"Alle Gesprche in der Gemeinschaft werden in einer Datenbank gespeichert, und die KI antwortet basierend auf vergangenen Gesprchen","community.concept5":"Kollektive Intelligenz","community.concept5Desc":"Praktische Muster aus anonymisierten Daten extrahieren","community.concept6":"Datengetrieben","community.concept6Desc":'Mit Spezialisten unter Verwendung von "Krankenakten" statt "Gesprchen" konsultieren',"community.conversations":"Gesprche","community.insights":"Kollektive Intelligenz","community.patterns":"Praxis-Muster","community.consultation":"Spezialistenberatung","community.conversationsTitle":"Community-Gesprche","community.comingSoonWarning":"Demnchst verfgbar","community.comingSoonDescription":"Community-Funktionen werden schrittweise implementiert, wobei Sicherheit und Leistung priorisiert werden. Derzeit werden Mock-Daten angezeigt.","community.conversationsDescription":"Benutzergesprche werden als Daten analysiert und werden zu kollektiver Intelligenz. Sie knnen Freunde finden oder einfach als Daten beitragen.","community.threadDetail":"Thread-Detailbildschirm (in Vorbereitung)","community.insightsTitle":"Kollektive Intelligenz der Gemeinschaft","community.insightsDescription":"Erkenntnisse, die aus anonymisierten Praxisdaten extrahiert wurden. Ihre Aufzeichnungen tragen auch automatisch zur kollektiven Intelligenz bei.","community.insightsNote":" Anfangs gibt es mglicherweise nicht gengend ntzliche Informationen aufgrund begrenzter Daten. Je mehr Benutzer beitreten, desto ntzlichere kollektive Intelligenz wird generiert.","community.patternsTitle":"Praxis-Muster","community.patternsDescription":"Praktische Muster, die aus Ihren Protokollen extrahiert wurden. In Zukunft werden sie aus den Daten der gesamten Gemeinschaft extrahiert.","community.sampleSize":"Stichprobengre","community.consultationTitle":"Datengetriebene Spezialistenberatung","community.consultationSubtitle":'Konsultieren Sie mit "Krankenakten" statt "Gesprchen"',"community.consultationDesc1":'In traditionellen Gemeinschaften mussten Sie rzten einzeln erklren: "Was haben Sie gestern gegessen?" "Was sind Ihre Symptome?"',"community.consultationDesc2":"In dieser App knnen Sie durch einfaches Teilen Ihrer In-App-Statistiken (Dit-, Ausscheidungs-, Gewichtstrenddiagramme) mit rzten sofort chirurgische Ratschlge erhalten.","community.consultationDesc3":'rzte mssen nicht fragen "was haben Sie gegessen" und knnen sofortige Urteile fllen, indem sie Daten betrachten, was effiziente und genaue medizinische Versorgung ermglicht.',"community.consultationDesc4":"Auerdem, da die KI automatisch auf zuvor gestellte Fragen antwortet, mssen Sie dieselben Fragen nicht wiederholen.","community.consultationNote":" Sie knnen Freunde finden, aber es ist nicht nur das. Ihre Gesprche und Daten werden als kollektive Intelligenz integriert und helfen den berlebensstrategien anderer Benutzer.","community.exportData":"Daten exportieren (JSON-Format)","community.exportFailed":"Datenexport fehlgeschlagen.","home.addFood":"Lebensmittel hinzufgen","home.myFoods":"Meine Lebensmittel","home.myFoodsTitle":"Meine Lebensmittel","home.addToMyFoods":"Zu meinen Lebensmitteln hinzufgen","home.history":"Verlauf","home.addFromPhoto":"Aus Foto hinzufgen","home.barcodeScan":"Barcode scannen","home.recipe":"Rezept","home.noMyFoodsRegistered":"Noch nicht registriert. Sie knnen aus dem Verlauf mit der -Schaltflche registrieren oder eine neue aus der Erstellungsschaltflche erstellen.","home.today":"Heute","home.yesterday":"Gestern","home.noFoods":"Noch keine Lebensmittel hinzugefgt","home.noHistory":"Noch kein Verlauf","home.selectAmount":"Menge auswhlen","home.amount":"Menge","home.unit":"Einheit","home.add":"Hinzufgen","home.gram":"g","home.piece":"Stck","shop.title":"Geschft","shop.pixelArtUI":"Pixel-Art-UI","shop.customization":"Anpassungsartikel","shop.comingSoon":"Demnchst verfgbar","shop.purchaseSuccess":"{name} gekauft!","shop.purchaseSuccessDebug":"{name} gekauft (Debug-Modus)","shop.paymentPending":"Die Zahlungsfunktion wird derzeit entwickelt. Bitte warten Sie.","shop.enablePixelArtUISuccess":"Pixel-Art-UI aktiviert. Seite wird neu geladen...","shop.disablePixelArtUISuccess":"Pixel-Art-UI deaktiviert. Seite wird neu geladen...","shop.paymentComingSoon":"Zahlungsabwicklung kommt bald ({name}: {price})","settings.title":"Einstellungen","settings.general":"Allgemein","settings.display":"Anzeige","settings.notifications":"Benachrichtigungen","settings.data":"Daten","settings.about":"ber","settings.hideSection":"Diesen Abschnitt ausblenden","settings.fontSize":"Schriftgre","settings.fontSizeSmall":"Klein","settings.fontSizeMedium":"Mittel","settings.fontSizeLarge":"Gro","settings.fontSizeExtraLarge":"Sehr gro","settings.nutrientDisplay":"Nhrstoff-Anzeigeeinstellungen","settings.displayMode":"Anzeigemodus","settings.displayModeHelp":"Die Fleischdit erfordert keine detaillierte Zahlenverwaltung. Hren Sie auf Ihren Krper und prfen Sie bei Bedarf detaillierte Daten.","settings.simpleMode":"Einfacher Modus (Empfohlen)","settings.standardMode":"Standardmodus","settings.detailedMode":"Detaillierter Modus","settings.otherDisplay":"Weitere Anzeigeeinstellungen","settings.showKnowledge":"Wissensdatenbank anzeigen","settings.showKnowledgeHelp":"Zeigt wissenschaftlich fundiertes Wissen ber die Fleischdit. Detaillierte Erklrungen fr jeden Nhrstoff und jedes Lebensmittel.","settings.showKnowledgeDesc":"Wissen ber die Fleischdit anzeigen","settings.showNutrientPreview":"Nhrstoffvorschau anzeigen","settings.showNutrientPreviewHelp":"Vorschau der Nhrstoffnderungen vor dem Hinzufgen von Lebensmitteln. Einfacher Vergleich mit Zielwerten.","settings.showNutrientPreviewDesc":"Nhrstoffnderungen beim Hinzufgen von Lebensmitteln anzeigen","settings.darkMode":"Dunkler Modus","settings.darkModeHelp":"Zum dunklen Thema wechseln. Ntzlich in dunklen Umgebungen oder fr Augenkomfort.","settings.darkModeDesc":"Zum dunklen Thema wechseln (augenfreundlicher dunkler Hintergrund)","settings.showTips":"Tipps anzeigen","settings.showTipsHelp":"Zeigt ntzliche Fleischdit-Tipps whrend des KI-Ladens oder beim App-Start. Hilft, Ihr Wissen zu vertiefen.","settings.showTipsDesc":"Zufllige Fleischdit-Tipps whrend des KI-Ladens anzeigen","settings.debugMode":"Debug-Modus","settings.debugModeHelp":"Entwicklungs-/Testfunktion. Zeigt 30 Tage Beispieldaten. Dies sind Testdaten, keine echten Daten.","settings.debugModeDesc":"Testdaten anzeigen (30 Tage Beispieldaten)","settings.notificationSettings":"Benachrichtigungseinstellungen","settings.enableNotifications":"Benachrichtigungen aktivieren","settings.enableNotificationsHelp":"Browser-Benachrichtigungen aktivieren. Erhalten Sie Elektrolyt-Warnungen, Fettmangel-Erinnerungen usw.","settings.notificationGranted":"Benachrichtigungen sind aktiviert","settings.notificationDenied":"Benachrichtigungen sind abgelehnt. Bitte in den Browsereinstellungen aktivieren.","settings.notificationRequest":"Benachrichtigungsberechtigung anfordern","settings.notificationDeniedWarning":" Benachrichtigungen sind abgelehnt. Bitte aktivieren Sie Benachrichtigungen in den Browsereinstellungen.","settings.dataManagement":"Datenverwaltung","settings.dataExport":"Daten exportieren","settings.dataImport":"Daten importieren","settings.appInfo":"App-Info","settings.showOnboarding":"Einfhrung erneut anzeigen","settings.termsOfService":"Nutzungsbedingungen","settings.privacyPolicy":"Datenschutzrichtlinie","butcher.saltType":"Salztyp","butcher.quantity":"Menge","butcher.grind":"Drehung","butcher.perGrind":"Menge pro Drehung (g)","butcher.resetToDefault":"Auf Standard zurcksetzen (0.5g)","butcher.nutrientBreakdown":"Nhrstoffaufschlsselung","butcher.sortByPriority":"Nach Prioritt","butcher.sortByDeficiency":"Nach Mangel","butcher.omega36Ratio":"Omega-3/6-Verhltnis","butcher.omega6ExcessWarning":"berschssiges Omega-6 verursacht Entzndungen. Es wird empfohlen, grasgefttertes Rindfleisch und Meeresfrchte zu erhhen.","butcher.omega6ExcessRisk":"berschssiges Omega-6 (Entzndungsrisiko) Bitte fgen Sie Fisch oder Fischeier hinzu","butcher.optimalRatioRange":"Innerhalb des empfohlenen Verhltnisbereichs (1:1 bis 1:4)","butcher.biotinBlockedHint":"Da Sie rohe Eier konsumieren, kann die Aufnahme von Vitamin B7 (Biotin) gehemmt werden. Es wird empfohlen, gekochte Eier zu konsumieren.","butcher.magnesiumHint":"Aktuell: Leicht mangelhaft. Kann mit Mineralwasser oder Salz ergnzt werden","butcher.photoAnalysisFailed":"Fotoanalyse fehlgeschlagen. Bitte versuchen Sie es erneut.","butcher.piece":"Stck","butcher.grindUnit":"Drehung","butcher.avoidZone":" Vermeidungszone (Zu vermeidende Dinge)","butcher.collapse":" Einklappen","butcher.showMore":" Mehr anzeigen (Antinhrstoffe)","butcher.add":"Hinzufgen","butcher.plantProtein":"Pflanzenprotein","butcher.vegetableOil":"Pflanzenl","butcher.fiber":"Faser","butcher.netCarbs":"Netto-Kohlenhydrate","butcher.phytates":"Phytate","butcher.polyphenols":"Polyphenole","butcher.flavonoids":"Flavonoide","butcher.oxalates":"Oxalate","butcher.lectins":"Lektine","butcher.saponins":"Saponine","butcher.goitrogens":"Goitrogene","butcher.tannins":"Tannine","recipe.title":"Rezept","recipe.createNew":"+ Neues Rezept erstellen","recipe.noRecipes":"Keine Rezepte","recipe.noRecipesDescription":"Sie knnen hufig gegessene Kombinationen als Rezepte speichern","recipe.use":"Verwenden","recipe.edit":"Bearbeiten","recipe.delete":"Lschen","recipe.createTitle":"Neues Rezept erstellen","recipe.editTitle":"Rezept bearbeiten","recipe.name":"Rezeptname","recipe.nameRequired":"Bitte geben Sie den Rezeptnamen ein","recipe.description":"Beschreibung (optional)","recipe.descriptionPlaceholder":"Beispiel: Hufig gegessene Frhstckskombination","recipe.foods":"Lebensmittel:","recipe.addFood":"+ Lebensmittel hinzufgen","recipe.noFoods":"Keine Lebensmittel","recipe.containsFoods":"Enthaltene Lebensmittel:","recipe.foodNamePrompt":"Bitte geben Sie den Lebensmittelnamen ein:","recipe.amountPrompt":"Bitte geben Sie die Menge (g) ein:","recipe.invalidAmount":"Bitte geben Sie eine gltige Menge ein","recipe.saveFailed":"Rezept konnte nicht gespeichert werden","recipe.deleteConfirm":"Dieses Rezept lschen?","recipe.deleteFailed":"Rezept konnte nicht gelscht werden","recipe.added":"{name} hinzugefgt","recipe.namePlaceholder":"Beispiel: Frhstcksset","recipe.back":" Zurck","recipe.cancel":"Abbrechen","recipe.save":"Speichern","onboarding.step1.title":"Sprache whlen","onboarding.step1.description":"Whlen Sie zunchst Ihre bevorzugte Sprache. Sie knnen dies spter ndern.","onboarding.step2.title":"Erzhlen Sie uns von Ihrer Erfahrung","onboarding.step2.description":"Whlen Sie Ihre Erfahrungsstufe mit der Fleischdit. Wir konfigurieren automatisch die optimalen Anzeigeeinstellungen.","onboarding.step3.title":"Benachrichtigungseinstellungen","onboarding.step3.description":"Erhalten Sie Elektrolytwarnungen, Fettmangelbenachrichtigungen und mehr.","onboarding.persona.practitioner":"Fleischdit-Praktiker","onboarding.persona.practitionerDesc":"Praktiziert bereits die Fleischdit. Keine detaillierte Zahlenverwaltung ntig, hrt lieber auf den Krper.","onboarding.persona.practitionerMode":"Einfacher Modus (nur Elektrolyte + Fett)","onboarding.persona.beginner":"Anfnger / Neustart","onboarding.persona.beginnerDesc":"Gerade angefangen oder kurz davor, die Fleischdit zu beginnen. Mchte wichtige Nhrstoffe ausgewogen berprfen.","onboarding.persona.beginnerMode":"Standardmodus (10 wichtige Nhrstoffe)","onboarding.persona.dataFocused":"Datenorientiert","onboarding.persona.dataFocusedDesc":"Mchte alle Nhrstoffdaten im Detail berprfen. Liebt Mikro-Management.","onboarding.persona.dataFocusedMode":"Detaillierter Modus (60+ Nhrstoffe)","onboarding.notification.enable":"Benachrichtigungen aktivieren","onboarding.notification.skip":"berspringen","onboarding.next":"Weiter","onboarding.back":"Zurck","onboarding.skip":"berspringen","onboarding.start":"Starten"},zh:{"common.back":"","common.save":"","common.cancel":"","common.delete":"","common.edit":"","common.close":"","common.confirm":"","common.loading":"...","common.error":"","common.backAriaLabel":"","common.languageChangeFailed":"","common.days":"","common.consecutive":"","common.items":"","common.send":"","common.current":"","common.locale":"zh-CN","language.title":"","language.description":"","language.japanese":"","language.english":"English","language.french":"Franais","language.german":"Deutsch","language.chinese":"","gift.title":"","gift.subtitle":"","gift.description":"","gift.currentStatus":"","gift.totalAmount":"","gift.newUsers":"","gift.discountPerUser":"","gift.messageLabel":"","gift.messagePlaceholder":"...","gift.messagePrivacy":"","gift.messagePublic":"","gift.messagePrivate":"","gift.purchaseButton":" 3,980 1","gift.purchaseNote":" 100%","gift.purchaseSuccess":"","gift.myMessages":"","gift.myMessagesDescription":"","gift.communityMessages":"","gift.communityMessagesDescription":"","gift.publicMessages":"","gift.noMessages":"","gift.viewMessages":"","gift.viewPastMessages":"","gift.modeAmount":"","gift.modePeople":"","gift.amountLabel":"","gift.amountHint":" 1","gift.amountPeopleEquivalent":"","gift.peopleLabel":"","gift.peopleHint":"","gift.total":"","gift.people":"","gift.perPerson":"/","gift.sendGift":"","gift.currency":"","gift.reply":"","gift.replyPlaceholder":"...","labs.description":"","labs.diary":"","labs.diaryDescription":"","labs.stats":"","labs.statsDescription":"","labs.community":"","labs.communityDescription":"","labs.shop":"","labs.shopDescription":"UI","labs.gift":"","labs.giftDescription":"100%","labs.streakTracker":"","labs.streakTrackerDescription":"","labs.tips":"","labs.viewTipsList":"","labs.tipsHistory":"","labs.noTipsHistory":"","labs.tipsList":"","labs.tipsListAll":"","labs.tipsListSaved":"","labs.noSavedTips":"","labs.tipBack":" ","labs.tipNext":" ","labs.tipShare":" ","labs.tipSaved":"","labs.tipSave":"","labs.appIconGenerator":"","history.title":"","history.noData":"","history.date":"","history.food":"","history.amount":"","history.7days":"7","history.30days":"30","history.all":"","history.summary":"","history.viewDetails":"","history.past7days":"7","history.past30days":"30","history.allPeriod":"","history.summaryOf":"","history.averageProtein":"","history.averageFat":"","history.recordedDays":"","history.days":"","history.violationRate":"","history.noLogs":"","history.items":"","history.violation":"","history.recovery":"","nav.home":"","nav.homeAriaLabel":"","nav.profile":"","nav.profileAriaLabel":"","nav.mainNavigationAriaLabel":"","nav.history":"","nav.labs":"","nav.historyAriaLabel":"","nav.labsAriaLabel":"","profile.title":"","profile.userSettings":"","profile.userSettingsDescription":"","profile.debugMode":"","profile.debugModeDescription":"30","profile.debugModeOn":" ","profile.debugModeOff":"","profile.customFood":"","profile.customFoodDescription":"AI","profile.uiSettings":"UI","profile.uiSettingsDescription":"","profile.languageSettings":"","profile.nutrientTargets":"","profile.saltSettings":"","profile.saltType":"","profile.tableSalt":"","profile.seaSalt":"","profile.himalayanSalt":"","profile.celticSalt":"","profile.perShave":"","profile.carbTargetSettings":"","profile.dataManagement":"","profile.account":"","profile.accountDescription":"","profile.exportData":"","profile.exportDescription":"JSON","profile.importData":"","profile.importDescription":"JSON","profile.deleteData":"","profile.deleteDescription":"","profile.exportSuccess":"","profile.exportFailed":"","profile.importSuccess":"","profile.importFailed":"","profile.importConfirm":"","profile.navigateToUserSettings":"","profile.navigateToLanguage":"","profile.openCustomFood":"","profile.navigateToUISettings":"UI","profile.navigateToSaltSettings":"","profile.navigateToCarbTargetSettings":"","profile.navigateToAccount":"","profile.navigateToDataExport":"","profile.navigateToDataDelete":"","profile.navigateToFeedback":"","profile.navigateToPrivacyPolicy":"","profile.navigateToTermsOfService":"","community.title":"","community.comingSoon":"","community.description":"","community.showConcept":"","community.conceptTitle":"","community.concept1":"","community.concept2":"AI","community.concept3":"","community.concept3Desc":"DiscordRedditX","community.concept4":"","community.concept4Desc":"AI","community.concept5":"","community.concept5Desc":"","community.concept6":"","community.concept6Desc":'""""',"community.conversations":"","community.insights":"","community.patterns":"","community.consultation":"","community.conversationsTitle":"","community.comingSoonWarning":"","community.comingSoonDescription":"","community.conversationsDescription":"","community.threadDetail":"","community.insightsTitle":"","community.insightsDescription":"","community.insightsNote":" ","community.patternsTitle":"","community.patternsDescription":"","community.sampleSize":"","community.consultationTitle":"","community.consultationSubtitle":'""""',"community.consultationDesc1":'"" ""',"community.consultationDesc2":"","community.consultationDesc3":'""',"community.consultationDesc4":"AI","community.consultationNote":" ","community.exportData":"JSON","community.exportFailed":"","home.addFood":"","home.myFoods":"","home.myFoodsTitle":"","home.addToMyFoods":"","home.history":"","home.addFromPhoto":"","home.barcodeScan":"","home.recipe":"","home.noMyFoodsRegistered":"","home.today":"","home.yesterday":"","home.noFoods":"","home.noHistory":"","home.selectAmount":"","home.amount":"","home.unit":"","home.add":"","home.gram":"g","home.piece":"","shop.title":"","shop.pixelArtUI":"UI","shop.customization":"","shop.comingSoon":"","shop.purchaseSuccess":"{name} ","shop.purchaseSuccessDebug":"{name} ","shop.paymentPending":"","shop.enablePixelArtUISuccess":"UI...","shop.disablePixelArtUISuccess":"UI...","shop.paymentComingSoon":" ({name}: {price})","settings.title":"","settings.general":"","settings.display":"","settings.notifications":"","settings.data":"","settings.about":"","settings.hideSection":"","settings.fontSize":"","settings.fontSizeSmall":"","settings.fontSizeMedium":"","settings.fontSizeLarge":"","settings.fontSizeExtraLarge":"","settings.nutrientDisplay":"","settings.displayMode":"","settings.displayModeHelp":"","settings.simpleMode":"","settings.standardMode":"","settings.detailedMode":"","settings.otherDisplay":"","settings.showKnowledge":"","settings.showKnowledgeHelp":"","settings.showKnowledgeDesc":"","settings.showNutrientPreview":"","settings.showNutrientPreviewHelp":"","settings.showNutrientPreviewDesc":"","settings.darkMode":"","settings.darkModeHelp":"","settings.darkModeDesc":"","settings.showTips":"","settings.showTipsHelp":"AI","settings.showTipsDesc":"AI","settings.debugMode":"","settings.debugModeHelp":"/30","settings.debugModeDesc":"30","settings.notificationSettings":"","settings.enableNotifications":"","settings.enableNotificationsHelp":"","settings.notificationGranted":"","settings.notificationDenied":"","settings.notificationRequest":"","settings.notificationDeniedWarning":" ","settings.dataManagement":"","settings.dataExport":"","settings.dataImport":"","settings.appInfo":"","settings.showOnboarding":"","settings.termsOfService":"","settings.privacyPolicy":"","recipe.title":"","recipe.createNew":"+ ","recipe.noRecipes":"","recipe.noRecipesDescription":"","recipe.use":"","recipe.edit":"","recipe.delete":"","recipe.createTitle":"","recipe.editTitle":"","recipe.name":"","recipe.nameRequired":"","recipe.description":"","recipe.descriptionPlaceholder":"","recipe.foods":"","recipe.addFood":"+ ","recipe.noFoods":"","recipe.containsFoods":"","recipe.foodNamePrompt":"","recipe.amountPrompt":"g","recipe.invalidAmount":"","recipe.saveFailed":"","recipe.deleteConfirm":"","recipe.deleteFailed":"","recipe.added":" {name}","recipe.namePlaceholder":"","recipe.back":" ","recipe.cancel":"","recipe.save":"","butcher.saltType":"","butcher.quantity":"","butcher.grind":"","butcher.perGrind":" (g)","butcher.resetToDefault":" (0.5g)","butcher.nutrientBreakdown":"","butcher.sortByPriority":"","butcher.sortByDeficiency":"","butcher.omega36Ratio":"Omega 3/6 ","butcher.omega6ExcessWarning":"omega-6","butcher.omega6ExcessRisk":"omega-6","butcher.optimalRatioRange":"1:1  1:4","butcher.biotinBlockedHint":"B7","butcher.magnesiumHint":"","butcher.photoAnalysisFailed":"","butcher.piece":"","butcher.grindUnit":"","butcher.avoidZone":" ","butcher.collapse":" ","butcher.showMore":" ","butcher.add":"","butcher.plantProtein":"","butcher.vegetableOil":"","butcher.fiber":"","butcher.netCarbs":"","butcher.phytates":"","butcher.polyphenols":"","butcher.flavonoids":"","butcher.oxalates":"","butcher.lectins":"","butcher.saponins":"","butcher.goitrogens":"","butcher.tannins":"","onboarding.step1.title":"","onboarding.step1.description":"","onboarding.step2.title":"","onboarding.step2.description":"","onboarding.step3.title":"","onboarding.step3.description":"","onboarding.persona.practitioner":"","onboarding.persona.practitionerDesc":"","onboarding.persona.practitionerMode":"+","onboarding.persona.beginner":"/","onboarding.persona.beginnerDesc":"","onboarding.persona.beginnerMode":"10","onboarding.persona.dataFocused":"","onboarding.persona.dataFocusedDesc":"","onboarding.persona.dataFocusedMode":"60+","onboarding.notification.enable":"","onboarding.notification.skip":"","onboarding.next":"","onboarding.back":"","onboarding.skip":"","onboarding.start":""}};function K0(){const l=localStorage.getItem("primal_logic_language");if(l&&["fr","de","en","ja","zh"].includes(l))return l;const o=navigator.language.split("-")[0];return["fr","de","en","ja","zh"].includes(o)?o:"en"}function kg(l){localStorage.setItem("primal_logic_language",l),window.dispatchEvent(new CustomEvent("languageChanged",{detail:l}))}function Pi(){return K0()}function P0(l,o){const u=o||Pi();return Pc[u]?.[l]||(u!=="en"?Pc.en?.[l]:void 0)||(u!=="ja"?Pc.ja?.[l]:void 0)||l}function Ln(){const[l,o]=f.useState(Pi());return f.useEffect(()=>{const u=m=>{o(m.detail)},c=m=>{if(m.key==="primal_logic_language"&&m.newValue){const y=m.newValue;["fr","de","en","ja","zh"].includes(y)&&o(y)}},v=()=>{const m=Pi();m!==l&&o(m)};window.addEventListener("languageChanged",u),window.addEventListener("storage",c);const p=setInterval(v,1e3);return()=>{window.removeEventListener("languageChanged",u),window.removeEventListener("storage",c),clearInterval(p)}},[l]),{t:u=>P0(u,l),language:l}}const Gi={vitamin_c:{target:10,unit:"mg",logic:"CDHAA130mg10mg"},protein:{target:110,unit:"g",logic:": 1kg1.5-2.0g"},fat:{target:150,unit:"g",logic:": 1:11:1.5"},zinc:{target:11,unit:"mg",logic:": "},iron:{target:8,unit:"mg",logic:": 18mg"},sodium:{min:5e3,max:8e3,unit:"mg",logic:""},magnesium:{target:600,unit:"mg",logic:""},potassium:{target:4500,unit:"mg",logic:""},vitamin_a:{target:5e3,unit:"IU",logic:": "},vitamin_d:{target:2e3,unit:"IU",logic:": "},vitamin_k2:{target:200,unit:"g",logic:": "},vitamin_b12:{target:2.4,unit:"g",logic:": "},choline:{target:450,unit:"mg",logic:": "}},yn={protein:110,fat:150,zinc:11,magnesium:600,iron:8,potassium:4500,sodium:5e3,vitamin_a:5e3,vitamin_d:2e3,vitamin_k2:200,vitamin_b12:2.4,choline:450};function Re(l,o,u,c,v,p,m,y,S,x,b,g,k,T,O,I,ie,q,B,$,re,pe,ce,Ne,V,ve,he){const M={...yn};if(V&&V>0){const z=V*1.6;M.protein=Math.max(M.protein,z)}let be=!1;if(ce===!0)be=!0;else if(ce===!1)be=!1;else if(re!==void 0)be=re<30;else if(pe){const z=new Date(pe);be=Math.floor((new Date().getTime()-z.getTime())/(1e3*60*60*24))<30}return l==="female"&&(p?M.iron=8:M.iron=18),c&&(M.protein=Math.max(M.protein,120),M.iron=Math.max(M.iron,27),M.magnesium=Math.max(M.magnesium,700)),v&&(M.protein=Math.max(M.protein,130),M.iron=Math.max(M.iron,9),M.magnesium=Math.max(M.magnesium,700)),be&&(M.sodium=Math.max(M.sodium,7e3),M.magnesium=Math.max(M.magnesium,800),M.potassium=Math.max(M.potassium,5e3),M.fat=Math.max(M.fat,M.fat*1.5)),u==="active"?(M.protein=Math.max(M.protein,120),M.fat=Math.max(M.fat,180),M.magnesium=Math.max(M.magnesium,700),be||(M.sodium=Math.max(M.sodium,M.sodium+1e3))):u==="moderate"&&(M.protein=Math.max(M.protein,110),M.fat=Math.max(M.fat,160)),m==="high"&&(M.magnesium=Math.max(M.magnesium,700)),o&&o>50&&(M.vitamin_d=Math.max(M.vitamin_d,3e3),M.protein=Math.max(M.protein,110)),y&&y<7&&(M.magnesium=Math.max(M.magnesium,650)),S==="intense"||x==="5+"?(M.protein=Math.max(M.protein,130),M.fat=Math.max(M.fat,190),M.magnesium=Math.max(M.magnesium,750)):(S==="moderate"||x==="3-4")&&(M.protein=Math.max(M.protein,115),M.fat=Math.max(M.fat,170),M.magnesium=Math.max(M.magnesium,650)),(b==="hypothyroid"||b==="hyperthyroid")&&(q||(M.iodine=Math.max(M.iodine||150,200))),g==="none"||g==="rare"?ie||(M.vitamin_d=Math.max(M.vitamin_d,4e3)):g==="daily"&&(M.vitamin_d=Math.max(M.vitamin_d,1500)),k&&(M.protein=Math.max(M.protein,110)),T==="high"&&(M.magnesium=Math.max(M.magnesium,650)),O==="poor"&&(M.magnesium=Math.max(M.magnesium,700),ie||(M.vitamin_d=Math.max(M.vitamin_d,3e3))),(B==="daily"||B==="weekly")&&(M.magnesium=Math.max(M.magnesium,700),M.vitamin_b12=Math.max(M.vitamin_b12,3)),$==="high"&&(M.magnesium=Math.max(M.magnesium,700),m==="high"&&(M.magnesium=Math.max(M.magnesium,750))),M.protein>0&&(M.fat=Math.max(M.fat,M.protein*1.2)),b==="hypothyroid"&&!q&&(M.iodine=Math.max(M.iodine||150,300)),ve&&ve.length>0&&(ve.includes("morning_fatigue")&&(M.sodium=Math.max(M.sodium,M.sodium+1500)),ve.includes("night_wake")&&(M.magnesium=Math.max(M.magnesium,M.magnesium+200)),ve.includes("coffee_high")&&(M.sodium=Math.max(M.sodium,M.sodium+500))),he&&Object.entries(he).forEach(([z,W])=>{W.mode==="manual"&&W.value!==void 0&&(M[z]=W.value)}),M}function Y0(l,o,u,c,v,p,m,y,S,x,b,g,k,T,O,I,ie,q,B,$,re,pe,ce,Ne,V,ve,he,M){let be=!1;if(Ne===!0)be=!0;else if(Ne===!1)be=!1;else if(pe!==void 0)be=pe<30;else if(ce){const me=new Date(ce);be=Math.floor((new Date().getTime()-me.getTime())/(1e3*60*60*24))<30}if(l==="protein"){const D=Re(o,u,c,v,p,m,y,S,x,b,g,k,T,O,I,ie,q,B,$,re,pe,ce,Ne,V,ve,he,M).protein,te=ve||70,X=te*1.6;let ae=`[Base Value]
Weight (${te}kg)  1.6g/kg = ${X.toFixed(1)}g/day`,se=X;const fe=[];if(v&&fe.push({name:"Pregnant",target:120}),p&&fe.push({name:"Breastfeeding",target:130}),x==="intense"||b==="5+"?fe.push({name:"Intense Exercise",target:130}):(x==="moderate"||b==="3-4")&&fe.push({name:"Moderate Exercise",target:115}),c==="active"?fe.push({name:"Active",target:120}):c==="moderate"&&fe.push({name:"Moderate Activity",target:110}),u&&u>50&&fe.push({name:"Age 50+",target:110}),T&&fe.push({name:"Digestive Issues",target:110}),fe.sort((L,Z)=>Z.target-L.target),fe.length>0){ae+=`

[Adjustments by Profile Settings]`;for(const L of fe){const Z=se,K=Math.max(se,L.target),Ke=K-Z;Ke>0&&(se=K,ae+=`
${L.name}: Minimum ${L.target}g (+${Ke.toFixed(1)}g)  ${se.toFixed(1)}g`)}}else ae+=`

(No additional adjustments by profile settings)`;if(M?.[l]?.mode==="manual"&&M[l].value!==void 0){const L=M[l].value;ae+=`

[Manual Override]`,ae+=`
Custom Target: ${L}g (overrides auto calculation)`,Math.abs(L-D)>.1&&(ae+=`
 Note: Manual target (${L}g) differs from calculated target (${D.toFixed(1)}g)`)}else ae+=`

[Final Target Value]`,ae+=`
${D.toFixed(1)}g/day`,Math.abs(se-D)>.1&&(ae+=`
 Note: Calculated value (${se.toFixed(1)}g) differs from getCarnivoreTargets() result (${D.toFixed(1)}g). Using getCarnivoreTargets() result.`);return ae}else if(l==="fat"){let me=`[Base Value]
150g/day`,D=150;const te=[];if(x==="intense"||b==="5+"?te.push({name:"Intense Exercise",target:190}):(x==="moderate"||b==="3-4")&&te.push({name:"Moderate Exercise",target:170}),c==="active"?te.push({name:"Active",target:180}):c==="moderate"&&te.push({name:"Moderate Activity",target:160}),te.sort((X,ae)=>ae.target-X.target),te.length>0){me+=`

[Adjustments by Profile Settings]`;for(const X of te){const ae=D,se=Math.max(D,X.target),fe=se-ae;fe>0&&(D=se,me+=`
${X.name}: Minimum ${X.target}g (+${fe.toFixed(1)}g)  ${D.toFixed(1)}g`)}}if(be){const X=D;D=Math.max(D,X*1.5);const ae=D-X;ae>0&&(me+=`
Transition Period: ${X.toFixed(1)}g  1.5x (+${ae.toFixed(1)}g)  ${D.toFixed(1)}g`)}try{const ae=Re(o,u,c,v,p,m,y,S,x,b,g,k,T,O,I,ie,q,B,$,re,pe,ce,Ne,V,ve,he,M).protein,se=ae*1.2;if(se>D){const fe=D;D=se;const L=D-fe;me+=`
Protein Ratio: Protein Target (${ae.toFixed(1)}g)  1.2x (+${L.toFixed(1)}g)  ${D.toFixed(1)}g`}}catch(X){console.error("Error calculating protein target for fat formula:",X)}if(te.length===0&&!be&&(me+=`

(No additional adjustments by profile settings)`),M?.[l]?.mode==="manual"&&M[l].value!==void 0){const X=M[l].value;me+=`

[Manual Override]`,me+=`
Custom Target: ${X}g (overrides auto calculation)`,D=X}else{me+=`

[Final Target Value]`;const X=Re(o,u,c,v,p,m,y,S,x,b,g,k,T,O,I,ie,q,B,$,re,pe,ce,Ne,V,ve,he,M);me+=`
${X.fat.toFixed(1)}g/day`}return me}const W=Re(o,u,c,v,p,m,y,S,x,b,g,k,T,O,I,ie,q,B,$,re,pe,ce,Ne,V,ve,he,M)[l];if(W!==void 0){const me=Gi[l]?.unit||"";return`[Target Value]
${W.toFixed(1)}${me}/day`}return`[Target Value]
Not available`}function Z0(l,o){const u=[];let c=1;const v=Re(o.gender,void 0,"moderate",!1,!1,!1,"moderate",void 0,"none","none","normal","occasional",!1,"low","good",!1,!1,!1,"none","none",void 0,void 0,void 0,void 0,void 0,void 0,void 0),p=Re(o.gender,o.age,o.activityLevel,o.isPregnant,o.isBreastfeeding,o.isPostMenopause,o.stressLevel,o.sleepHours,o.exerciseIntensity,o.exerciseFrequency,o.thyroidFunction,o.sunExposureFrequency,o.digestiveIssues,o.inflammationLevel,o.mentalHealthStatus,o.supplementMagnesium,o.supplementVitaminD,o.supplementIodine,o.alcoholFrequency,o.caffeineIntake,o.daysOnCarnivore,o.carnivoreStartDate,o.forceAdaptationMode,o.bodyComposition,o.weight,o.metabolicStressIndicators,o.customNutrientTargets?Object.fromEntries(Object.entries(o.customNutrientTargets).map(([x,b])=>[x,typeof b=="number"?{mode:"manual",value:b}:b])):void 0),m=v[l],y=p[l];if(m===void 0||y===void 0)return u;const S=J0(l);if(o.gender==="female"&&l==="iron"){const x=Re("female",void 0,"moderate",!1,!1,!1,"moderate"),b=Re("male",void 0,"moderate",!1,!1,!1,"moderate"),g=x[l],k=b[l],T=g-k;T!==0&&u.push({id:c++,category:"profile",factor:"",impact:T,impactText:ln(T,S),reason:"",source:"standard",priority:Math.abs(T)})}if(o.age&&o.age>50){const x=Re(o.gender,o.age,"moderate",!1,!1,!1,"moderate"),b=Re(o.gender,void 0,"moderate",!1,!1,!1,"moderate"),g=x[l],k=b[l],T=g-k;T!==0&&u.push({id:c++,category:"profile",factor:`${o.age}`,impact:T,impactText:ln(T,S),reason:l==="protein"?"":l==="vitamin_d"?"D":"",source:"research",priority:Math.abs(T)})}if(o.activityLevel==="active"){const x=Re(o.gender,o.age,"active",o.isPregnant,o.isBreastfeeding,o.isPostMenopause,o.stressLevel),b=Re(o.gender,o.age,"moderate",o.isPregnant,o.isBreastfeeding,o.isPostMenopause,o.stressLevel),g=x[l],k=b[l],T=g-k;T!==0&&u.push({id:c++,category:"activity",factor:"",impact:T,impactText:ln(T,S),reason:"",source:"research",priority:Math.abs(T)})}if(o.isPregnant){const x=Re(o.gender,o.age,o.activityLevel,!0,!1,!1,o.stressLevel),b=Re(o.gender,o.age,o.activityLevel,!1,!1,!1,o.stressLevel),g=x[l],k=b[l],T=g-k;T!==0&&u.push({id:c++,category:"health",factor:"",impact:T,impactText:ln(T,S),reason:"",source:"research",priority:Math.abs(T)})}if(o.isBreastfeeding){const x=Re(o.gender,o.age,o.activityLevel,o.isPregnant,!0,o.isPostMenopause,o.stressLevel),b=Re(o.gender,o.age,o.activityLevel,o.isPregnant,!1,o.isPostMenopause,o.stressLevel),g=x[l],k=b[l],T=g-k;T!==0&&u.push({id:c++,category:"health",factor:"",impact:T,impactText:ln(T,S),reason:"",source:"research",priority:Math.abs(T)})}if(o.isPostMenopause&&l==="iron"){const x=Re(o.gender,o.age,o.activityLevel,o.isPregnant,o.isBreastfeeding,!0,o.stressLevel),b=Re(o.gender,o.age,o.activityLevel,o.isPregnant,o.isBreastfeeding,!1,o.stressLevel),g=x[l],k=b[l],T=g-k;T!==0&&u.push({id:c++,category:"health",factor:"",impact:T,impactText:ln(T,S),reason:"",source:"standard",priority:Math.abs(T)})}if(o.stressLevel==="high"&&l==="magnesium"){const x=Re(o.gender,o.age,o.activityLevel,o.isPregnant,o.isBreastfeeding,o.isPostMenopause,"high"),b=Re(o.gender,o.age,o.activityLevel,o.isPregnant,o.isBreastfeeding,o.isPostMenopause,"moderate"),g=x[l],k=b[l],T=g-k;T!==0&&u.push({id:c++,category:"lifestyle",factor:"",impact:T,impactText:ln(T,S),reason:"",source:"research",priority:Math.abs(T)})}if(o.exerciseIntensity==="intense"||o.exerciseFrequency==="5+"){const x=Re(o.gender,o.age,o.activityLevel,o.isPregnant,o.isBreastfeeding,o.isPostMenopause,o.stressLevel,o.sleepHours,"intense","5+"),b=Re(o.gender,o.age,o.activityLevel,o.isPregnant,o.isBreastfeeding,o.isPostMenopause,o.stressLevel,o.sleepHours,"none","none"),g=x[l],k=b[l],T=g-k;T!==0&&u.push({id:c++,category:"activity",factor:"",impact:T,impactText:ln(T,S),reason:"",source:"research",priority:Math.abs(T)})}if((o.sunExposureFrequency==="none"||o.sunExposureFrequency==="rare")&&l==="vitamin_d"&&!o.supplementVitaminD){const x=Re(o.gender,o.age,o.activityLevel,o.isPregnant,o.isBreastfeeding,o.isPostMenopause,o.stressLevel,o.sleepHours,o.exerciseIntensity,o.exerciseFrequency,o.thyroidFunction,"none"),b=Re(o.gender,o.age,o.activityLevel,o.isPregnant,o.isBreastfeeding,o.isPostMenopause,o.stressLevel,o.sleepHours,o.exerciseIntensity,o.exerciseFrequency,o.thyroidFunction,"daily"),g=x[l],k=b[l],T=g-k;T!==0&&u.push({id:c++,category:"lifestyle",factor:"",impact:T,impactText:ln(T,S),reason:"D",source:"research",priority:Math.abs(T)})}if(o.supplementMagnesium,o.supplementVitaminD,(o.alcoholFrequency==="daily"||o.alcoholFrequency==="weekly")&&(l==="magnesium"||l==="vitamin_b12")){const x=Re(o.gender,o.age,o.activityLevel,o.isPregnant,o.isBreastfeeding,o.isPostMenopause,o.stressLevel,o.sleepHours,o.exerciseIntensity,o.exerciseFrequency,o.thyroidFunction,o.sunExposureFrequency,o.digestiveIssues,o.inflammationLevel,o.mentalHealthStatus,o.supplementMagnesium,o.supplementVitaminD,o.supplementIodine,"daily"),b=Re(o.gender,o.age,o.activityLevel,o.isPregnant,o.isBreastfeeding,o.isPostMenopause,o.stressLevel,o.sleepHours,o.exerciseIntensity,o.exerciseFrequency,o.thyroidFunction,o.sunExposureFrequency,o.digestiveIssues,o.inflammationLevel,o.mentalHealthStatus,o.supplementMagnesium,o.supplementVitaminD,o.supplementIodine,"none"),g=x[l],k=b[l],T=g-k;T!==0&&u.push({id:c++,category:"lifestyle",factor:"",impact:T,impactText:ln(T,S),reason:"",source:"research",priority:Math.abs(T)})}if(o.caffeineIntake==="high"&&l==="magnesium"){const x=Re(o.gender,o.age,o.activityLevel,o.isPregnant,o.isBreastfeeding,o.isPostMenopause,o.stressLevel,o.sleepHours,o.exerciseIntensity,o.exerciseFrequency,o.thyroidFunction,o.sunExposureFrequency,o.digestiveIssues,o.inflammationLevel,o.mentalHealthStatus,o.supplementMagnesium,o.supplementVitaminD,o.supplementIodine,o.alcoholFrequency,"high"),b=Re(o.gender,o.age,o.activityLevel,o.isPregnant,o.isBreastfeeding,o.isPostMenopause,o.stressLevel,o.sleepHours,o.exerciseIntensity,o.exerciseFrequency,o.thyroidFunction,o.sunExposureFrequency,o.digestiveIssues,o.inflammationLevel,o.mentalHealthStatus,o.supplementMagnesium,o.supplementVitaminD,o.supplementIodine,o.alcoholFrequency,"none"),g=x[l],k=b[l],T=g-k;T!==0&&u.push({id:c++,category:"lifestyle",factor:"",impact:T,impactText:ln(T,S),reason:"",source:"research",priority:Math.abs(T)})}if(o.sleepHours&&o.sleepHours<7&&l==="magnesium"){const x=Re(o.gender,o.age,o.activityLevel,o.isPregnant,o.isBreastfeeding,o.isPostMenopause,o.stressLevel,6),b=Re(o.gender,o.age,o.activityLevel,o.isPregnant,o.isBreastfeeding,o.isPostMenopause,o.stressLevel,8),g=x[l],k=b[l],T=g-k;T!==0&&u.push({id:c++,category:"lifestyle",factor:`${o.sleepHours}`,impact:T,impactText:ln(T,S),reason:"",source:"research",priority:Math.abs(T)})}if(o.daysOnCarnivore!==void 0&&o.daysOnCarnivore<30){const x=Re(o.gender,o.age,o.activityLevel,o.isPregnant,o.isBreastfeeding,o.isPostMenopause,o.stressLevel,o.sleepHours,o.exerciseIntensity,o.exerciseFrequency,o.thyroidFunction,o.sunExposureFrequency,o.digestiveIssues,o.inflammationLevel,o.mentalHealthStatus,o.supplementMagnesium,o.supplementVitaminD,o.supplementIodine,o.alcoholFrequency,o.caffeineIntake,o.daysOnCarnivore),b=Re(o.gender,o.age,o.activityLevel,o.isPregnant,o.isBreastfeeding,o.isPostMenopause,o.stressLevel,o.sleepHours,o.exerciseIntensity,o.exerciseFrequency,o.thyroidFunction,o.sunExposureFrequency,o.digestiveIssues,o.inflammationLevel,o.mentalHealthStatus,o.supplementMagnesium,o.supplementVitaminD,o.supplementIodine,o.alcoholFrequency,o.caffeineIntake,30),g=x[l],k=b[l],T=g-k;T!==0&&(l==="sodium"||l==="magnesium"||l==="potassium")&&u.push({id:c++,category:"health",factor:"",impact:T,impactText:ln(T,S),reason:"",source:"research",priority:Math.abs(T)})}if(o.metabolicStressIndicators&&o.metabolicStressIndicators.length>0){const x=Re(o.gender,o.age,o.activityLevel,o.isPregnant,o.isBreastfeeding,o.isPostMenopause,o.stressLevel,o.sleepHours,o.exerciseIntensity,o.exerciseFrequency,o.thyroidFunction,o.sunExposureFrequency,o.digestiveIssues,o.inflammationLevel,o.mentalHealthStatus,o.supplementMagnesium,o.supplementVitaminD,o.supplementIodine,o.alcoholFrequency,o.caffeineIntake,o.daysOnCarnivore,o.carnivoreStartDate,o.forceAdaptationMode,o.bodyComposition,o.weight,o.metabolicStressIndicators),b=Re(o.gender,o.age,o.activityLevel,o.isPregnant,o.isBreastfeeding,o.isPostMenopause,o.stressLevel,o.sleepHours,o.exerciseIntensity,o.exerciseFrequency,o.thyroidFunction,o.sunExposureFrequency,o.digestiveIssues,o.inflammationLevel,o.mentalHealthStatus,o.supplementMagnesium,o.supplementVitaminD,o.supplementIodine,o.alcoholFrequency,o.caffeineIntake,o.daysOnCarnivore,o.carnivoreStartDate,o.forceAdaptationMode,o.bodyComposition,o.weight,[]),g=x[l],k=b[l],T=g-k;if(T!==0){const O=o.metabolicStressIndicators.map(I=>I==="morning_fatigue"?"":I==="night_wake"?"":I==="coffee_high"?"":I).join("");u.push({id:c++,category:"health",factor:`${O}`,impact:T,impactText:ln(T,S),reason:"",source:"research",priority:Math.abs(T)})}}return u}function cg(l){return[...l].sort((o,u)=>u.priority-o.priority)}function Q0(l){return[...l].sort((o,u)=>o.factor.localeCompare(u.factor,"ja"))}function X0(l){const o=["profile","activity","health","lifestyle","supplement","other"];return[...l].sort((u,c)=>{const v=o.indexOf(u.category),p=o.indexOf(c.category);return v!==p?v-p:c.priority-u.priority})}function ug(l,o){switch(o){case"impact":return cg(l);case"alphabetical":return Q0(l);case"category":return X0(l);default:return cg(l)}}function W0(l){return{profile:"",activity:"",health:"",supplement:"",lifestyle:"",other:""}[l]}function J0(l){return{protein:"g",fat:"g",iron:"mg",magnesium:"mg",vitamin_d:"IU",sodium:"mg",potassium:"mg",zinc:"mg",vitamin_c:"mg",vitamin_a:"IU",vitamin_k2:"g",vitamin_b12:"g",choline:"mg"}[l]||""}function ln(l,o){return l>0?`+${l}${o}`:l<0?`${l}${o}`:`0${o}`}function Wa(l,o){const u=Re(o.gender,o.age,o.activityLevel,o.isPregnant,o.isBreastfeeding,o.isPostMenopause,o.stressLevel,o.sleepHours,o.exerciseIntensity,o.exerciseFrequency,o.thyroidFunction,o.sunExposureFrequency,o.digestiveIssues,o.inflammationLevel,o.mentalHealthStatus,o.supplementMagnesium,o.supplementVitaminD,o.supplementIodine,o.alcoholFrequency,o.caffeineIntake),c=Re(o.gender,void 0,"moderate",!1,!1,!1,"moderate"),v=[];let p="";const m={protein:{name:"",unit:"g"},fat:{name:"",unit:"g"},iron:{name:"",unit:"mg"},magnesium:{name:"",unit:"mg"},vitamin_d:{name:"D",unit:"IU"}},{name:y,unit:S}=m[l],x=u[l],b=c[l];o.age&&Number(o.age)>50&&(l==="protein"||l==="vitamin_d")&&v.push({reason:`${o.age}`,impact:l==="protein"?" +10g":"D +400IU",source:"research"}),o.activityLevel==="active"&&(l==="protein"||l==="fat"||l==="magnesium")&&v.push({reason:"",impact:l==="protein"?" +20g":l==="fat"?" +30g":" +100mg",source:"research"}),o.isPregnant&&(l==="protein"||l==="iron"||l==="magnesium")&&v.push({reason:"",impact:l==="protein"?" +25g":l==="iron"?" +9mg":" +50mg",source:"research"}),o.isBreastfeeding&&(l==="protein"||l==="magnesium")&&v.push({reason:"",impact:l==="protein"?" +25g":" +50mg",source:"research"}),o.isPostMenopause&&l==="iron"&&v.push({reason:"",impact:" -10mg",source:"standard"}),o.stressLevel==="high"&&l==="magnesium"&&v.push({reason:"",impact:" +100mg",source:"research"}),o.exerciseIntensity==="intense"&&(l==="protein"||l==="fat"||l==="magnesium")&&v.push({reason:"",impact:l==="protein"?" +20g":l==="fat"?" +30g":" +100mg",source:"research"}),o.sunExposureFrequency==="none"&&l==="vitamin_d"&&v.push({reason:"",impact:"D +1000IU",source:"research"}),o.supplementMagnesium&&l==="magnesium"&&v.push({reason:"",impact:" -200mg",source:"profile"}),o.supplementVitaminD&&l==="vitamin_d"&&v.push({reason:"D",impact:"D -1000IU",source:"profile"});const g={protein:`1kg1.6g${b}${S}`,fat:`1.4${b}${S}`,iron:`${b}${S}`,magnesium:`300${b}${S}`,vitamin_d:`D${b}${S}`};if(v.length===0)p=g[l];else{const k=v.map(I=>I.reason).join(""),T=v.map(I=>I.impact).join("");p=`${g[l].replace(`${b}${S}`,"")}${b}${S}${k}${T}${x}${S}`}return{nutrient:y,value:x,unit:S,baseValue:b,adjustments:v,humanExplanation:p}}function ty(l){return[Wa("protein",l),Wa("fat",l),Wa("iron",l),Wa("magnesium",l),Wa("vitamin_d",l)]}const gl={insufficient:"#ef4444",warning:"#f97316",optimal:"#22c55e",excess:"#a855f7"},$0={vitaminA:"excessSensitive",vitamin_a:"excessSensitive",iron:"excessSensitive",protein:"excessOk",fat:"excessOk",sodium:"electrolyte",potassium:"electrolyte",magnesium:"electrolyte"},ev={excessSensitive:{insufficient:70,warning:100,optimal:100},excessOk:{insufficient:70,warning:100,optimal:200},electrolyte:{insufficient:50,warning:80,optimal:150},standard:{insufficient:70,warning:100,optimal:120}};function tv(l){return l&&$0[l]||"standard"}function dg(l,o=!1,u){if(o)return"#1f2937";const c=tv(u),v=ev[c];return l<v.insufficient?gl.insufficient:l<v.warning?gl.warning:l<v.optimal?gl.optimal:gl.excess}function nv(l){switch(l){case"optimal":return"#16a34a";case"good":return"#22c55e";case"low":return"#dc2626";case"warning":return"#ea580c";case"excess":return"#9333ea";case"danger":return"#dc2626";default:return"#16a34a"}}function Le(l){return{protein:"#3b82f6",fat:"#3b82f6",sodium:"#10b981",potassium:"#06b6d4",magnesium:"#06b6d4",zinc:"#06b6d4",iron:"#06b6d4",calcium:"#06b6d4",phosphorus:"#06b6d4",selenium:"#06b6d4",copper:"#06b6d4",manganese:"#06b6d4",iodine:"#06b6d4",vitaminA:"#06b6d4",vitaminD:"#06b6d4",vitaminK2:"#06b6d4",vitaminE:"#06b6d4",vitaminB12:"#06b6d4",vitaminB1:"#06b6d4",vitaminB2:"#06b6d4",vitaminB3:"#06b6d4",vitaminB5:"#06b6d4",vitaminB6:"#06b6d4",vitaminB7:"#06b6d4",vitaminB9:"#06b6d4",choline:"#06b6d4",taurine:"#06b6d4",omega3:"#06b6d4",omega6:"#06b6d4",phytates:"#ef4444",oxalates:"#ef4444",lectins:"#ef4444",polyphenols:"#ef4444",flavonoids:"#ef4444",saponins:"#ef4444",goitrogens:"#ef4444",tannins:"#ef4444"}[l]||"#06b6d4"}function Be({label:l,currentDailyTotal:o=0,previewAmount:u=0,target:c,color:v,unit:p="",logic:m,hint:y,showLowIsOk:S=!1,nutrientKey:x,hideTarget:b=!1}){const{userProfile:g}=Zi(),{t:k}=Ln(),[T,O]=f.useState(!1),[I,ie]=f.useState({x:0,y:0}),[q,B]=f.useState(!1),$="impact",[re,pe]=f.useState("why"),ce=f.useMemo(()=>{if(x)return x;const L=l.toLowerCase();return L.includes("protein")?"protein":L.includes("fat")?"fat":L.includes("iron")?"iron":L.includes("magnesium")?"magnesium":L.includes("vitamin d")?"vitamin_d":L.includes("sodium")?"sodium":L.includes("potassium")?"potassium":L.includes("zinc")?"zinc":L.includes("vitamin c")?"vitamin_c":L.includes("vitamin a")?"vitamin_a":L.includes("vitamin k")?"vitamin_k2":L.includes("vitamin b12")?"vitamin_b12":L.includes("choline")?"choline":L.includes("phosphorus")?"phosphorus":L.includes("selenium")?"selenium":L.includes("calcium")?"calcium":L.includes("glycine")?"glycine":L.includes("methionine")?"methionine":L.includes("taurine")?"taurine":null},[l,x]),Ne=f.useMemo(()=>{if(!ce||!g)return[];try{const L=Z0(ce,g);return ug(L,$)}catch(L){return console.error("Error calculating impact factors:",L),[]}},[ce,g,$]),V=o+u,ve=c>0?Math.min(o/c*100,100):0,he=c>0?Math.min(u/c*100,100):0,M=c>0?Math.min(V/c*100,200):0,be=V.toFixed(1),z=c.toFixed(1),W=V<c*.5,me=f.useMemo(()=>{if(y)return y;if(Ne.length>0)return null;if(V<c*.8){const L=c-V;return ce==="sodium"?`Current: Slightly deficient (${L.toFixed(0)}${p} short). Can be replenished with mineral water or salt`:ce==="magnesium"?`Current: Slightly deficient (${L.toFixed(0)}${p} short). Can be replenished with mineral water or supplements`:ce==="potassium"?`Current: Slightly deficient (${L.toFixed(0)}${p} short). Can be replenished by increasing meat or fish`:ce==="protein"?`Current: Slightly deficient (${L.toFixed(0)}${p} short). Can be replenished by increasing meat or fish`:ce==="fat"?`Current: Slightly deficient (${L.toFixed(0)}${p} short). Can be replenished by increasing fatty cuts of meat or butter`:ce==="iron"?`Current: Slightly deficient (${L.toFixed(0)}${p} short). Can be replenished by increasing red meat or liver`:ce==="zinc"?`Current: Slightly deficient (${L.toFixed(0)}${p} short). Can be replenished by increasing red meat or organ meats`:ce==="vitamin_b12"?`Current: Slightly deficient (${L.toFixed(0)}${p} short). Can be replenished by increasing meat, fish, or organ meats`:`Current: Slightly deficient (${L.toFixed(0)}${p} short). Please add foods to replenish`}return null},[y,Ne.length,V,c,p,ce]);f.useEffect(()=>{},[l,m]);const D=(L,Z,K)=>L&&{protein:`Protein is essential as a building block for muscles, organs, hormones, and enzymes. In a carnivore diet, approximately 1.6g per kg of body weight is recommended, with a standard target of ${Z}${K}. It can be sufficiently obtained from meat, fish, eggs, and organ meats.`,fat:`Fat is the primary energy source in a carnivore diet. Approximately 1.4 times the protein amount is recommended, with a standard target of ${Z}${K}. Insufficient fat can lead to energy deficiency and reduced hormone production. It is recommended to focus on fatty cuts of meat.`,iron:`Iron is necessary for red blood cell production and oxygen transport. In a carnivore diet, it can be sufficiently obtained from red meat and organ meats (especially liver). The standard target is ${Z}${K}. Women may need more due to menstrual losses.`,magnesium:`Magnesium is involved in over 300 enzyme reactions and is important for muscle contraction, nerve transmission, and energy production. In a carnivore diet, it can be obtained to some extent from meat, but demand increases with stress and exercise. The standard target is ${Z}${K}.`,vitamin_d:`Vitamin D is important for bone health, immune function, and hormone production. It is produced in the body through sun exposure, but supplements can be considered if deficient. The standard target is ${Z}${K}.`,sodium:`Sodium is necessary for maintaining electrolyte balance, fluid retention, and nerve transmission. In a carnivore diet, more sodium is needed due to low insulin state. The standard target is ${Z}${K}. It can be replenished with salt or mineral water.`,potassium:`Potassium, together with sodium, maintains electrolyte balance and is important for muscle contraction and nerve transmission. In a carnivore diet, it can be sufficiently obtained from meat and fish. The standard target is ${Z}${K}.`,zinc:`Zinc is important for immune function, protein synthesis, and wound healing. In a carnivore diet, it can be sufficiently obtained from red meat and organ meats. Absorption is enhanced by heme iron, allowing efficient intake. The standard target is ${Z}${K}.`,vitamin_c:`Vitamin C requirements are significantly reduced in low-carb states (Glucose-Ascorbate Antagonism theory). In a carnivore diet, approximately 30mg can be obtained from meat, which sufficiently meets the minimum requirement of about 10mg. The standard target is ${Z}${K}.`,vitamin_a:`Vitamin A (retinol) is important for vision, immune function, and skin health. In a carnivore diet, it can be sufficiently obtained from liver and organ meats. The standard target is ${Z}${K}. Caution is needed for excessive intake.`,vitamin_k2:`Vitamin K2 (MK-4) is important for bone health and blood clotting. In a carnivore diet, it can be sufficiently obtained from organ meats and fermented foods. The standard target is ${Z}${K}.`,vitamin_b12:`Vitamin B12 is necessary for red blood cell production and nerve function. In a carnivore diet, it can be sufficiently obtained from meat, fish, and organ meats. The standard target is ${Z}${K}.`,choline:`Choline is important for brain health, memory, and learning. In a carnivore diet, it can be sufficiently obtained from liver and eggs. The standard target is ${Z}${K}.`,selenium:`Selenium is important for antioxidant function, thyroid function, and immune function. In a carnivore diet, it can be sufficiently obtained from meat and fish. The standard target is ${Z}${K}.`,calcium:`Calcium is important for bone health, muscle contraction, and nerve transmission. In a carnivore diet, it can be obtained from bone-in meat and bone broth. The standard target is ${Z}${K}.`,phosphorus:`Phosphorus is important for bone health, energy production, and DNA synthesis. In a carnivore diet, it can be sufficiently obtained from meat. The standard target is ${Z}${K}.`,glycine:`Glycine is important as a component of collagen, sleep quality, and inflammation suppression. In a carnivore diet, it can be obtained from bone broth and meat with skin. The standard target is ${Z}${K}.`,methionine:`Methionine is important for protein synthesis and detoxification. In a carnivore diet, it can be sufficiently obtained from meat. The standard target is ${Z}${K}.`,taurine:`Taurine is important for heart health, vision, and antioxidant function. In a carnivore diet, it can be sufficiently obtained from meat and fish. The standard target is ${Z}${K}.`}[L]||null,te=f.useMemo(()=>{if(!ce||!g)return null;if(["protein","fat","iron","magnesium","vitamin_d"].includes(ce))try{return Wa(ce,g)}catch(Z){return console.error("Error getting nutrient explanation:",Z),null}return null},[ce,g]),X=f.useMemo(()=>D(ce,c,p),[ce,c,p]),ae=f.useMemo(()=>ce?Gi[ce==="vitamin_d"?"vitamin_d":ce]?.logic||m||null:m||null,[ce,m]),se=L=>{L.stopPropagation(),B(!0)},fe=L=>{const Z=L.target;Z.closest('span[style*="cursor: pointer"]')||Z.textContent===""||Z.closest("span[data-cursor-element-id]")||Z.closest('[style*="pointerEvents: none"]')||Z.closest('[style*="pointer-events: none"]')||m&&alert(`${l} target value basis:

${m}`)};return i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:0,position:"relative",cursor:m?"pointer":"default",userSelect:"none",marginBottom:0},onClick:fe,children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx("span",{style:{fontSize:"12px",color:"#78716c"},children:l}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[i.jsx("span",{style:{fontSize:"12px",color:v,fontWeight:"500"},children:b?`${be}${p}`:`${be} / ${z} ${p}`}),i.jsxs("span",{style:{fontSize:"12px",cursor:"pointer",position:"relative",zIndex:10},onClick:L=>{L.preventDefault(),L.stopPropagation(),se(L)},onMouseDown:L=>{L.preventDefault(),L.stopPropagation()},onMouseEnter:L=>{if(Ne.length===0&&me){const Z=L.currentTarget.getBoundingClientRect();ie({x:Z.left,y:Z.top}),O(!0)}},onMouseLeave:()=>{Ne.length===0&&O(!1)},children:["",T&&Ne.length===0&&me&&i.jsx("div",{style:{position:"fixed",left:`${I.x}px`,top:`${I.y+20}px`,backgroundColor:"#1f2937",color:"white",padding:"6px 8px",borderRadius:"4px",fontSize:"10px",zIndex:10005,pointerEvents:"none",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",maxWidth:"300px",whiteSpace:"normal"},children:me})]}),S&&W&&i.jsxs("span",{style:{fontSize:"12px",cursor:"pointer",position:"relative"},onClick:se,onMouseEnter:L=>{const Z=L.currentTarget.getBoundingClientRect();ie({x:Z.left,y:Z.top}),O(!0)},onMouseLeave:()=>O(!1),children:["",T&&i.jsx("div",{style:{position:"fixed",left:`${I.x}px`,top:`${I.y+20}px`,backgroundColor:"#1f2937",color:"white",padding:"6px 8px",borderRadius:"4px",fontSize:"10px",whiteSpace:"nowrap",zIndex:10005,pointerEvents:"none",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"},children:"Low is OK (Carnivore logic)"})]}),x==="vitaminD"&&i.jsxs("span",{style:{fontSize:"16px",cursor:"pointer",position:"relative",zIndex:10},onClick:L=>{L.preventDefault(),L.stopPropagation();const Z=new CustomEvent("navigateToScreen",{detail:"input"});window.dispatchEvent(Z)},onMouseDown:L=>{L.preventDefault(),L.stopPropagation()},onMouseEnter:L=>{const Z=L.currentTarget.getBoundingClientRect();ie({x:Z.left,y:Z.top}),O(!0)},onMouseLeave:()=>{O(!1)},title:"Record sun exposure",children:["",T&&i.jsxs("div",{style:{position:"fixed",left:`${I.x}px`,top:`${I.y+20}px`,backgroundColor:"#1f2937",color:"white",padding:"6px 8px",borderRadius:"4px",fontSize:"10px",zIndex:10005,pointerEvents:"none",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",maxWidth:"300px",whiteSpace:"normal"},children:["Record sun exposure to calculate vitamin D synthesis",i.jsx("br",{}),"Click to go to daily input screen"]})]})]})]}),i.jsxs("div",{style:{height:"10px",borderRadius:"9999px",overflow:"hidden",position:"relative",width:"100%",backgroundColor:"#e5e7eb"},children:[ve>0&&i.jsx("div",{style:{position:"absolute",left:0,width:`${Math.min(ve,200)}%`,background:dg(ve,!1,ce||void 0),height:"100%",borderRadius:"9999px",transition:"width 0.3s ease",zIndex:2}}),he>0&&i.jsx("div",{style:{position:"absolute",left:`${Math.min(ve,200)}%`,width:`${Math.min(he,Math.max(0,200-Math.min(ve,200)))}%`,background:dg(M,!1,ce||void 0),height:"100%",borderRadius:"9999px",transition:"width 0.3s ease",zIndex:2,borderLeft:ve>0?"1px solid rgba(255,255,255,0.3)":"none",opacity:.8}})]}),q&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10010,padding:"16px"},onClick:()=>B(!1),children:i.jsxs("div",{style:{backgroundColor:"var(--color-bg-primary)",borderRadius:"12px",padding:"16px",maxWidth:"600px",width:"90%",maxHeight:"80vh",overflow:"auto",boxShadow:"0 4px 24px rgba(0,0,0,0.2)",position:"relative"},onClick:L=>L.stopPropagation(),children:[i.jsx("button",{onClick:()=>B(!1),style:{position:"absolute",top:"12px",right:"12px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#78716c",padding:"4px 8px"},children:""}),i.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#1f2937"},children:Ne.length>0?`Factors affecting ${l} target value`:`[${l}: ${z}${p}] Why this number`}),i.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"16px",borderBottom:"1px solid #e5e7eb"},children:[i.jsx("button",{onClick:()=>pe("why"),style:{padding:"8px 16px",border:"none",background:re==="why"?"#1f2937":"transparent",color:re==="why"?"white":"#78716c",cursor:"pointer",borderRadius:"8px 8px 0 0",fontSize:"14px",fontWeight:re==="why"?"600":"400"},children:k("gauge.tab.whyThisValue")}),i.jsx("button",{onClick:()=>pe("formula"),style:{padding:"8px 16px",border:"none",background:re==="formula"?"#1f2937":"transparent",color:re==="formula"?"white":"#78716c",cursor:"pointer",borderRadius:"8px 8px 0 0",fontSize:"14px",fontWeight:re==="formula"?"600":"400"},children:k("gauge.tab.formula")})]}),re==="why"?i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:Ne.length>0?ug(Ne,"impact").map((L,Z)=>i.jsx("div",{style:{padding:"12px",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:i.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[i.jsx("div",{style:{minWidth:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#1f2937",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"600",flexShrink:0},children:Z+1}),i.jsxs("div",{style:{flex:1},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[i.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:L.factor}),i.jsx("span",{style:{fontSize:"12px",padding:"2px 8px",borderRadius:"4px",backgroundColor:"#e5e7eb",color:"#78716c"},children:W0(L.category)})]}),i.jsx("div",{style:{fontSize:"13px",color:"#78716c",marginBottom:"4px"},children:L.reason}),i.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:L.impact>0?"#22c55e":L.impact<0?"#ef4444":"#78716c"},children:L.impactText})]})]})},L.id)):i.jsx("div",{style:{padding:"12px",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:i.jsx("p",{style:{fontSize:"14px",color:"#1f2937",lineHeight:"1.6"},children:te?.humanExplanation||ae||X||k("gauge.defaultTarget").replace("{target}",z).replace("{unit}",p)})})}):i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:ce&&g&&(()=>{let L=c;try{const Te=Re(g?.gender,g?.age,g?.activityLevel,g?.isPregnant,g?.isBreastfeeding,g?.isPostMenopause,g?.stressLevel,g?.sleepHours,g?.exerciseIntensity,g?.exerciseFrequency,g?.thyroidFunction,g?.sunExposureFrequency,g?.digestiveIssues,g?.inflammationLevel,g?.mentalHealthStatus,g?.supplementMagnesium,g?.supplementVitaminD,g?.supplementIodine,g?.alcoholFrequency,g?.caffeineIntake,g?.daysOnCarnivore,g?.carnivoreStartDate,g?.forceAdaptationMode,g?.bodyComposition,g?.weight,g?.metabolicStressIndicators,g?.customNutrientTargets),j={protein:"protein",fat:"fat",iron:"iron",magnesium:"magnesium",vitamin_d:"vitamin_d",sodium:"sodium",potassium:"potassium",zinc:"zinc",vitamin_c:"vitamin_c",vitamin_a:"vitamin_a",vitamin_k2:"vitamin_k2",vitamin_b12:"vitamin_b12",choline:"choline",phosphorus:"phosphorus"};ce&&j[ce]&&(L=Te[j[ce]])}catch(Te){console.error("Error calculating actual target:",Te)}const Z=Y0(ce||"",g?.gender,g?.age,g?.activityLevel,g?.isPregnant,g?.isBreastfeeding,g?.isPostMenopause,g?.stressLevel,g?.sleepHours,g?.exerciseIntensity,g?.exerciseFrequency,g?.thyroidFunction,g?.sunExposureFrequency,g?.digestiveIssues,g?.inflammationLevel,g?.mentalHealthStatus,g?.supplementMagnesium,g?.supplementVitaminD,g?.supplementIodine,g?.alcoholFrequency,g?.caffeineIntake,g?.daysOnCarnivore,g?.carnivoreStartDate,g?.forceAdaptationMode,g?.bodyComposition,g?.weight,g?.metabolicStressIndicators,g?.customNutrientTargets);if(Z)return i.jsx("div",{style:{padding:"16px",backgroundColor:"#f0f9ff",borderRadius:"8px",border:"1px solid #3b82f6"},children:i.jsx("p",{style:{fontSize:"14px",color:"#0c4a6e",fontFamily:"monospace",whiteSpace:"pre-wrap",lineHeight:"1.8",backgroundColor:"#e0f2fe",padding:"16px",borderRadius:"6px"},children:Z})});const K=Re(),bt={protein:"protein",fat:"fat",iron:"iron",magnesium:"magnesium",vitamin_d:"vitamin_d",sodium:"sodium",potassium:"potassium",zinc:"zinc",vitamin_c:"vitamin_c",vitamin_a:"vitamin_a",vitamin_k2:"vitamin_k2",vitamin_b12:"vitamin_b12",choline:"choline"}[ce];if(bt){const Te=K[bt];return i.jsx("div",{style:{padding:"16px",backgroundColor:"#f0f9ff",borderRadius:"8px",border:"1px solid #3b82f6"},children:i.jsx("p",{style:{fontSize:"14px",color:"#0c4a6e",fontFamily:"monospace",whiteSpace:"pre-wrap",lineHeight:"1.8",backgroundColor:"#e0f2fe",padding:"16px",borderRadius:"6px"},children:`${k("gauge.baseValue").replace("{value}",String(Te)).replace("{unit}",p)}
${k("gauge.dynamicAdjustment")}

${k("gauge.currentTarget").replace("{value}",L.toFixed(1)).replace("{unit}",p)}`})})}return i.jsx("div",{style:{padding:"16px",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:i.jsx("p",{style:{fontSize:"14px",color:"#78716c"},children:k("gauge.formulaNotAvailable")})})})()})]})})]})}function $c(l,o){if(l?.dietRecommendations){const u=["meat","ribeye","beef","lamb","steak","ruminant"];if(l.dietRecommendations.some(v=>u.some(p=>v.toLowerCase().includes(p))))return!0}return!1}async function iu(){return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission!=="denied"?await Notification.requestPermission()==="granted":!1:!1}async function Ng(l){try{if(!await iu())return console.warn("Notification permission not granted"),null;const u=new Date,c=new Date(u);c.setHours(20,0,0,0),c<u&&c.setDate(c.getDate()+1);const v=c.getTime()-u.getTime(),p=setTimeout(()=>{new Notification(" Thawing Alert",{body:l?`Move your ${l} from freezer to fridge.`:"Move your meat from freezer to fridge for tomorrow.",icon:"/icon.png",badge:"/icon.png"})},v),m=`defrost_${Date.now()}`,y=JSON.parse(localStorage.getItem("defrost_reminders")||"[]");return y.push({id:m,timeoutId:p,time:c.toISOString()}),localStorage.setItem("defrost_reminders",JSON.stringify(y)),m}catch{return null}}const zg=Object.freeze(Object.defineProperty({__proto__:null,hasMeatInPlan:$c,requestNotificationPermission:iu,scheduleDefrostReminder:Ng},Symbol.toStringTag,{value:"Module"}));function iv(){const l=new Date;return l.setDate(l.getDate()+1),l.toISOString().split("T")[0]}async function av(l){const o=iv();let u=await eu(o);u||(u={date:o,status:{sleepScore:80,sunMinutes:30,activityLevel:"moderate"},fuel:[],calculatedMetrics:Bn([])}),u.recoveryProtocol=l;const c=[];return l.dietRecommendations&&l.dietRecommendations.forEach(v=>{const p=v.toLowerCase();p.includes("ribeye")||p.includes("beef")?c.push({item:"Beef Ribeye",amount:400,unit:"g",type:"ruminant",nutrients:{protein:80,fat:80,carbs:0,netCarbs:0,hemeIron:9.2,vitaminK:4.4,zinc:17.2,sodium:216,magnesium:80}}):p.includes("lamb")?c.push({item:"Lamb Chop",amount:300,unit:"g",type:"ruminant",nutrients:{protein:75,fat:63,carbs:0,netCarbs:0,hemeIron:5.4,vitaminK:3.6,zinc:13.5,sodium:195,magnesium:66}}):p.includes("bone broth")?c.push({item:"Bone Broth",amount:500,unit:"g",type:"animal",nutrients:{protein:10,fat:2,carbs:0,netCarbs:0,sodium:500,magnesium:20}}):p.includes("egg")&&c.push({item:"Eggs",amount:200,unit:"g",type:"animal",nutrients:{protein:26,fat:22,carbs:2.2,netCarbs:2.2,hemeIron:3.6,vitaminA:320,vitaminK:.6,zinc:2.2,sodium:280,magnesium:24}})}),c.length>0&&(u.fuel=[...u.fuel||[],...c],u.calculatedMetrics=Bn(u.fuel)),await Dl(u),u}function ov({protocol:l,onClose:o,onSetProtocol:u}){const{dailyLog:c,saveDailyLog:v,loadDailyLog:p}=Zi(),[m,y]=f.useState(l.fastingTargetHours),S=async()=>{const x={...l,fastingTargetHours:m,targetFastEnd:sg(m)};try{if(await av(x),u(x),$c(x)){const b=x.dietRecommendations?.find(g=>g.toLowerCase().includes("ribeye")||g.toLowerCase().includes("meat"))?.split(" ").find(g=>g.toLowerCase().includes("ribeye")||g.toLowerCase().includes("beef"))||"meat";await Ng(b)}alert(` 

: ${m}${$c(x)?`
8`:""}`),o()}catch(b){alert(Ki(b)||": ")}};return i.jsx("div",{className:"recovery-protocol-overlay",onClick:o,children:i.jsxs("div",{className:"recovery-protocol-container",onClick:x=>x.stopPropagation(),children:[i.jsxs("div",{className:"recovery-protocol-header",children:[i.jsxs("h2",{className:"recovery-protocol-title",children:["",i.jsx("span",{style:{fontSize:"0.8em",color:"#f59e0b",marginLeft:"0.5rem"},children:" "})]}),i.jsx("button",{className:"recovery-protocol-close",onClick:o,children:""})]}),i.jsxs("div",{className:"recovery-protocol-content",children:[i.jsx("div",{style:{padding:"0.75rem",backgroundColor:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.875rem",color:"#92400e"},children:" "}),i.jsxs("div",{className:"recovery-protocol-section",children:[i.jsx("h3",{className:"recovery-protocol-section-title",children:""}),i.jsx("div",{className:"recovery-protocol-violation-type",children:l.violationType.replace("_"," ").toUpperCase()})]}),i.jsxs("div",{className:"recovery-protocol-section",children:[i.jsx("h3",{className:"recovery-protocol-section-title",children:""}),i.jsxs("div",{className:"recovery-protocol-fasting-row",children:[i.jsx("input",{type:"number",className:"recovery-protocol-fasting-input",value:m.toString(),onChange:x=>y(Number(x.target.value)||16)}),i.jsx("span",{className:"recovery-protocol-fasting-label",children:""})]}),i.jsxs("div",{className:"recovery-protocol-fasting-hint",children:[": ",sg(m)]})]}),l.activities&&l.activities.length>0&&i.jsxs("div",{className:"recovery-protocol-section",children:[i.jsx("h3",{className:"recovery-protocol-section-title",children:""}),l.activities.map((x,b)=>i.jsxs("div",{className:"recovery-protocol-list-item",children:[i.jsx("span",{className:"recovery-protocol-list-bullet",children:""}),i.jsx("span",{className:"recovery-protocol-list-text",children:x})]},b))]}),l.dietRecommendations&&l.dietRecommendations.length>0&&i.jsxs("div",{className:"recovery-protocol-section",children:[i.jsx("h3",{className:"recovery-protocol-section-title",children:""}),l.dietRecommendations.map((x,b)=>i.jsxs("div",{className:"recovery-protocol-list-item",children:[i.jsx("span",{className:"recovery-protocol-list-bullet",children:""}),i.jsx("span",{className:"recovery-protocol-list-text",children:x})]},b))]}),l.supplements&&l.supplements.length>0&&i.jsxs("div",{className:"recovery-protocol-section",children:[i.jsx("h3",{className:"recovery-protocol-section-title",children:""}),l.supplements.map((x,b)=>i.jsxs("div",{className:"recovery-protocol-list-item",children:[i.jsx("span",{className:"recovery-protocol-list-bullet",children:""}),i.jsx("span",{className:"recovery-protocol-list-text",children:x})]},b))]}),l.warnings&&l.warnings.length>0&&i.jsxs("div",{className:"recovery-protocol-warning-section",children:[i.jsx("h3",{className:"recovery-protocol-warning-title",children:" "}),l.warnings.map((x,b)=>i.jsxs("div",{className:"recovery-protocol-list-item",children:[i.jsx("span",{className:"recovery-protocol-list-bullet",children:""}),i.jsx("span",{className:"recovery-protocol-warning-text",children:x})]},b))]}),l.todos&&l.todos.length>0&&i.jsxs("div",{className:"recovery-protocol-section",children:[i.jsx("h3",{className:"recovery-protocol-section-title",children:" "}),l.todos.map(x=>i.jsxs("div",{style:{padding:"0.75rem 1rem",backgroundColor:x.isCompleted?"#f0fdf4":"#fef3c7",border:`1px solid ${x.isCompleted?"#86efac":"#fbbf24"}`,borderRadius:"8px",marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[i.jsx("input",{type:"checkbox",checked:x.isCompleted,onChange:async b=>{const g=l.todos?.map(T=>T.id===x.id?{...T,isCompleted:b.target.checked}:T)||[],k={...l,todos:g};if(c){const T={...c,recoveryProtocol:k};await v(T),p(new Date().toISOString().split("T")[0])}},style:{width:"18px",height:"18px",cursor:"pointer"}}),i.jsxs("div",{style:{flex:1},children:[i.jsx("div",{style:{fontWeight:"600",marginBottom:"0.25rem",color:x.isCompleted?"#166534":"#92400e"},children:x.title}),x.description&&i.jsx("div",{style:{fontSize:"12px",color:x.isCompleted?"#16a34a":"#78350f"},children:x.description})]})]},x.id))]}),i.jsx("button",{className:"recovery-protocol-set-button",onClick:S,children:""}),i.jsx("div",{className:"recovery-protocol-footer-note",children:"8"})]})]})})}const Ja={beef:{ribeye:{id:"beef_ribeye",name:"Ribeye Steak",name_ja:"",name_fr:"Entrecte",name_de:"Rippensteak",protein:{value:20,min:18,max:22},fat:{value:22,min:18,max:28},carbs:{value:0,min:0,max:.5},default_unit:300,saturated_fat:{value:9,min:7,max:11},omega_6:{value:.4,min:.2,max:.6},zinc:{value:4.5,min:3.5,max:5.5},vitamin_b12:{value:2.8,min:2,max:3.5},iron:{value:2.5,min:2,max:3},sodium:{value:50,min:30,max:70},magnesium:{value:20,min:15,max:25},potassium:{value:350,min:300,max:400},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:.1,min:.05,max:.2},vitamin_k2:{value:1.5,min:1,max:2},omega_3:{value:.05,min:.03,max:.08},choline:{value:80,min:70,max:90},glycine:{value:.8,min:.7,max:.9},methionine:{value:.5,min:.45,max:.55}},sirloin:{id:"beef_sirloin",name:"Sirloin Steak",name_ja:"",name_fr:"Faux-filet",name_de:"Rinderfilet",protein:{value:22,min:20,max:24},fat:{value:12,min:8,max:16},carbs:{value:0,min:0,max:.5},default_unit:300,saturated_fat:{value:5,min:3,max:7},omega_6:{value:.3,min:.2,max:.5},zinc:{value:4,min:3,max:5},vitamin_b12:{value:2.5,min:2,max:3},iron:{value:2.3,min:2,max:2.8},sodium:{value:45,min:30,max:60},magnesium:{value:22,min:18,max:26},potassium:{value:360,min:320,max:400},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:0,min:0,max:0},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.05,min:.03,max:.08},choline:{value:85,min:75,max:95}},ground:{id:"beef_ground",name:"Ground Beef",name_ja:"",name_fr:"Buf hach",name_de:"Rinderhackfleisch",protein:{value:18,min:16,max:20},fat:{value:20,min:15,max:25},carbs:{value:0,min:0,max:.5},default_unit:450,saturated_fat:{value:8,min:6,max:10},omega_6:{value:.5,min:.3,max:.7},zinc:{value:4.2,min:3.5,max:5},vitamin_b12:{value:2.2,min:1.8,max:2.6},iron:{value:2,min:1.5,max:2.5},sodium:{value:60,min:40,max:80},magnesium:{value:18,min:15,max:21},potassium:{value:340,min:300,max:380},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:.1,min:.05,max:.2},vitamin_k2:{value:1.5,min:1,max:2},omega_3:{value:.05,min:.03,max:.08},choline:{value:75,min:65,max:85}},brisket:{id:"beef_brisket",name:"Brisket",name_ja:" / ",name_fr:"Poitrine de buf",name_de:"Rinderbrust",protein:{value:14,min:12,max:16},fat:{value:35,min:30,max:40},carbs:{value:.1,min:0,max:.3},default_unit:300,saturated_fat:{value:15,min:12,max:18},omega_6:{value:.8,min:.5,max:1},zinc:{value:3.2,min:2.5,max:4},vitamin_b12:{value:2,min:1.5,max:2.5},iron:{value:1.8,min:1.5,max:2.2},sodium:{value:55,min:40,max:70},magnesium:{value:15,min:12,max:18},potassium:{value:320,min:280,max:360},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:.1,min:.05,max:.2},vitamin_k2:{value:2,min:1.5,max:2.5},omega_3:{value:.05,min:.03,max:.08},choline:{value:70,min:60,max:80}},chuck:{id:"beef_chuck",name:"Chuck Roast",name_ja:"",name_fr:"Palette de buf",name_de:"Rinderschulter",protein:{value:19,min:17,max:21},fat:{value:16,min:12,max:20},carbs:{value:0,min:0,max:.5},default_unit:300,saturated_fat:{value:7,min:5,max:9},omega_6:{value:.5,min:.3,max:.7},zinc:{value:3.8,min:3,max:4.5},vitamin_b12:{value:2.3,min:1.8,max:2.8},iron:{value:2.2,min:1.8,max:2.6},sodium:{value:50,min:35,max:65},magnesium:{value:19,min:16,max:22},potassium:{value:355,min:320,max:390},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:.1,min:.05,max:.2},vitamin_k2:{value:1.2,min:.8,max:1.6},omega_3:{value:.05,min:.03,max:.08},choline:{value:82,min:72,max:92}},liver:{id:"beef_liver",name:"Beef Liver",name_ja:"",name_fr:"Foie de buf",name_de:"Rinderleber",protein:{value:20,min:18,max:22},fat:{value:3.6,min:2.5,max:5},carbs:{value:3.9,min:3,max:5},default_unit:100,saturated_fat:{value:1.5,min:1,max:2},omega_6:{value:.2,min:.1,max:.3},zinc:{value:4,min:3.5,max:4.5},vitamin_b12:{value:59.3,min:50,max:70},iron:{value:6.2,min:5,max:7.5},sodium:{value:70,min:50,max:90},magnesium:{value:18,min:15,max:21},vitamin_a:{value:49678,min:45e3,max:55e3},vitamin_d:{value:49,min:40,max:60},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.1,min:.05,max:.15},choline:{value:350,min:320,max:380}}},pork:{belly:{id:"pork_belly",name:"Pork Belly",name_ja:"",name_fr:"Poitrine de porc",name_de:"Schweinebauch",protein:{value:14.2,min:12,max:16},fat:{value:34.6,min:30,max:40},carbs:{value:.1,min:0,max:.3},default_unit:300,saturated_fat:{value:11,min:9,max:13},omega_6:{value:3.5,min:2.5,max:4.5},zinc:{value:1.5,min:1,max:2},vitamin_b12:{value:.6,min:.4,max:.8},iron:{value:.8,min:.5,max:1.2},sodium:{value:50,min:30,max:70},magnesium:{value:15,min:12,max:18},potassium:{value:200,min:180,max:220},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:2.5,min:2,max:3},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.2,min:.15,max:.25},choline:{value:60,min:50,max:70}},loin:{id:"pork_loin",name:"Pork Loin",name_ja:"",name_fr:"Longe de porc",name_de:"Schweinelende",protein:{value:22,min:20,max:24},fat:{value:10,min:7,max:13},carbs:{value:0,min:0,max:.5},default_unit:300,saturated_fat:{value:3.5,min:2.5,max:4.5},omega_6:{value:1.8,min:1.2,max:2.4},zinc:{value:2,min:1.5,max:2.5},vitamin_b12:{value:.7,min:.5,max:.9},iron:{value:.9,min:.7,max:1.2},sodium:{value:55,min:40,max:70},magnesium:{value:20,min:17,max:23},potassium:{value:300,min:270,max:330},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:.5,min:.3,max:.7},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.1,min:.05,max:.15},choline:{value:75,min:65,max:85}},shoulder:{id:"pork_shoulder",name:"Pork Shoulder",name_ja:"",name_fr:"paule de porc",name_de:"Schweineschulter",protein:{value:18,min:16,max:20},fat:{value:20,min:16,max:24},carbs:{value:0,min:0,max:.5},default_unit:300,saturated_fat:{value:7,min:5,max:9},omega_6:{value:2.5,min:1.8,max:3.2},zinc:{value:1.8,min:1.3,max:2.3},vitamin_b12:{value:.65,min:.5,max:.8},iron:{value:.85,min:.6,max:1.1},sodium:{value:52,min:38,max:66},magnesium:{value:18,min:15,max:21},potassium:{value:290,min:260,max:320},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:.6,min:.4,max:.8},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.1,min:.05,max:.15},choline:{value:70,min:60,max:80}},ribs:{id:"pork_ribs",name:"Pork Ribs",name_ja:"",name_fr:"Ctes de porc",name_de:"Schweinerippchen",protein:{value:16,min:14,max:18},fat:{value:28,min:24,max:32},carbs:{value:0,min:0,max:.5},default_unit:300,saturated_fat:{value:9,min:7,max:11},omega_6:{value:3,min:2.2,max:3.8},zinc:{value:1.6,min:1.2,max:2},vitamin_b12:{value:.6,min:.4,max:.8},iron:{value:.8,min:.6,max:1},sodium:{value:48,min:35,max:65},magnesium:{value:16,min:13,max:19},potassium:{value:275,min:245,max:305},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:.7,min:.5,max:.9},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.1,min:.05,max:.15},choline:{value:65,min:55,max:75}},liver:{id:"pork_liver",name:"Pork Liver",name_ja:"",name_fr:"Foie de porc",name_de:"Schweineleber",protein:{value:20,min:18,max:22},fat:{value:4,min:3,max:5.5},carbs:{value:3,min:2,max:4},default_unit:100,saturated_fat:{value:1.5,min:1,max:2},omega_6:{value:.5,min:.3,max:.7},zinc:{value:3,min:2.5,max:3.5},vitamin_b12:{value:26,min:22,max:30},iron:{value:15,min:12,max:18},sodium:{value:75,min:55,max:95},magnesium:{value:17,min:14,max:20},potassium:{value:230,min:200,max:260},vitamin_a:{value:32976,min:3e4,max:36e3},vitamin_d:{value:23,min:20,max:26},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.15,min:.1,max:.2},choline:{value:320,min:290,max:350}}},chicken:{breast:{id:"chicken_breast",name:"Chicken Breast",name_ja:"",name_fr:"Blanc de poulet",name_de:"Hhnchenbrust",protein:{value:31,min:29,max:33},fat:{value:3.6,min:2.5,max:5},carbs:{value:0,min:0,max:.5},default_unit:200,saturated_fat:{value:1,min:.7,max:1.5},omega_6:{value:.6,min:.4,max:.8},zinc:{value:.9,min:.7,max:1.2},vitamin_b12:{value:.3,min:.2,max:.4},iron:{value:.7,min:.5,max:.9},sodium:{value:70,min:50,max:90},magnesium:{value:28,min:24,max:32},potassium:{value:220,min:200,max:240},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:0,min:0,max:0},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.05,min:.03,max:.08},choline:{value:65,min:55,max:75}},thigh:{id:"chicken_thigh",name:"Chicken Thigh",name_ja:"",name_fr:"Cuisse de poulet",name_de:"Hhnchenschenkel",protein:{value:20,min:18,max:22},fat:{value:15,min:12,max:18},carbs:{value:0,min:0,max:.5},default_unit:200,saturated_fat:{value:4,min:3,max:5},omega_6:{value:2.5,min:2,max:3},zinc:{value:1.5,min:1.2,max:1.8},vitamin_b12:{value:.4,min:.3,max:.5},iron:{value:.9,min:.7,max:1.2},sodium:{value:75,min:55,max:95},magnesium:{value:20,min:17,max:23},potassium:{value:240,min:210,max:270},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:0,min:0,max:0},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.05,min:.03,max:.08},choline:{value:70,min:60,max:80}},wing:{id:"chicken_wing",name:"Chicken Wing",name_ja:"",name_fr:"Aile de poulet",name_de:"Hhnchenflgel",protein:{value:20,min:18,max:22},fat:{value:15,min:12,max:18},carbs:{value:0,min:0,max:.5},default_unit:150,saturated_fat:{value:4,min:3,max:5},omega_6:{value:2.5,min:2,max:3},zinc:{value:1.5,min:1.2,max:1.8},vitamin_b12:{value:.4,min:.3,max:.5},iron:{value:.9,min:.7,max:1.2},sodium:{value:75,min:55,max:95},magnesium:{value:20,min:17,max:23},potassium:{value:240,min:210,max:270},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:0,min:0,max:0},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.05,min:.03,max:.08},choline:{value:70,min:60,max:80}},liver:{id:"chicken_liver",name:"Chicken Liver",name_ja:"",name_fr:"Foie de poulet",name_de:"Hhnchenleber",protein:{value:18.9,min:17,max:21},fat:{value:3.1,min:2,max:4.5},carbs:{value:.6,min:.3,max:1},default_unit:100,saturated_fat:{value:1,min:.7,max:1.5},omega_6:{value:.5,min:.3,max:.7},zinc:{value:3.3,min:2.8,max:3.8},vitamin_b12:{value:44.4,min:38,max:50},iron:{value:9,min:7.5,max:11},sodium:{value:80,min:60,max:100},magnesium:{value:16,min:13,max:19},vitamin_a:{value:32976,min:3e4,max:36e3},vitamin_d:{value:49,min:40,max:60},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.1,min:.05,max:.15},choline:{value:290,min:270,max:310}},whole:{id:"chicken_whole",name:"Whole Chicken",name_ja:"",name_fr:"Poulet entier",name_de:"Ganzes Hhnchen",protein:{value:20,min:18,max:22},fat:{value:12,min:9,max:15},carbs:{value:0,min:0,max:.5},default_unit:1e3,saturated_fat:{value:3.5,min:2.5,max:4.5},omega_6:{value:2,min:1.5,max:2.5},zinc:{value:1.2,min:1,max:1.5},vitamin_b12:{value:.35,min:.25,max:.45},iron:{value:.8,min:.6,max:1},sodium:{value:72,min:52,max:92},magnesium:{value:19,min:16,max:22},potassium:{value:248,min:220,max:275},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:0,min:0,max:0},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.05,min:.03,max:.08},choline:{value:68,min:58,max:78}}},egg:{whole:{id:"egg_whole",name:"Whole Egg",name_ja:"",name_fr:"uf entier",name_de:"Volles Ei",protein:{value:12.5,min:11,max:14},fat:{value:10,min:8,max:12},carbs:{value:.7,min:.5,max:1},default_unit:50,saturated_fat:{value:3.1,min:2.5,max:3.7},omega_6:{value:1.2,min:1,max:1.5},zinc:{value:1,min:.8,max:1.2},vitamin_b12:{value:.9,min:.7,max:1.1},iron:{value:1.5,min:1.2,max:1.8},sodium:{value:140,min:120,max:160},magnesium:{value:10,min:8,max:12},potassium:{value:138,min:120,max:155},vitamin_a:{value:540,min:480,max:600},vitamin_d:{value:87,min:80,max:95},vitamin_k2:{value:5.4,min:4.8,max:6},omega_3:{value:.2,min:.15,max:.25},choline:{value:251,min:230,max:270},vitamin_b7:{value:20,min:18,max:22}},yolk:{id:"egg_yolk",name:"Egg Yolk",name_ja:"",name_fr:"Jaune d'uf",name_de:"Eigelb",protein:{value:16,min:14,max:18},fat:{value:26.5,min:24,max:29},carbs:{value:.3,min:.2,max:.5},default_unit:17,saturated_fat:{value:9.5,min:8,max:11},omega_6:{value:1.8,min:1.5,max:2.1},zinc:{value:2.3,min:2,max:2.6},vitamin_b12:{value:1.8,min:1.5,max:2.1},iron:{value:2.7,min:2.3,max:3.1},sodium:{value:8,min:6,max:10},magnesium:{value:5,min:4,max:6},vitamin_a:{value:1442,min:1300,max:1600},vitamin_d:{value:218,min:200,max:240},vitamin_k2:{value:15.5,min:14,max:17},omega_3:{value:.5,min:.4,max:.6},choline:{value:680,min:650,max:710},vitamin_b7:{value:50,min:45,max:55}},white:{id:"egg_white",name:"Egg White",name_ja:"",name_fr:"Blanc d'uf",name_de:"Eiwei",protein:{value:10.9,min:9.5,max:12},fat:{value:.2,min:.1,max:.3},carbs:{value:.7,min:.5,max:1},default_unit:33,saturated_fat:{value:0,min:0,max:.1},omega_6:{value:0,min:0,max:.1},zinc:{value:.1,min:.05,max:.15},vitamin_b12:{value:.1,min:.05,max:.15},iron:{value:.1,min:.05,max:.15},sodium:{value:166,min:150,max:180},magnesium:{value:11,min:9,max:13},potassium:{value:163,min:150,max:175},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:0,min:0,max:0},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:0,min:0,max:0},choline:{value:.4,min:.3,max:.5},vitamin_b7:{value:0,min:0,max:0}}},fish:{salmon:{id:"fish_salmon",name:"Salmon",name_ja:"",name_fr:"Saumon",name_de:"Lachs",protein:{value:20,min:18,max:22},fat:{value:12,min:10,max:14},carbs:{value:0,min:0,max:.5},default_unit:200,saturated_fat:{value:2.5,min:2,max:3},omega_6:{value:.2,min:.1,max:.3},zinc:{value:.5,min:.4,max:.6},vitamin_b12:{value:4.9,min:4,max:5.8},iron:{value:.8,min:.6,max:1},sodium:{value:44,min:35,max:55},magnesium:{value:27,min:23,max:31},potassium:{value:363,min:330,max:395},vitamin_a:{value:58,min:50,max:65},vitamin_d:{value:988,min:900,max:1100},vitamin_k2:{value:.5,min:.3,max:.7},omega_3:{value:2.3,min:2,max:2.6},choline:{value:75,min:65,max:85},iodine:{value:35,min:30,max:40}},tuna:{id:"fish_tuna",name:"Tuna",name_ja:"",name_fr:"Thon",name_de:"Thunfisch",protein:{value:24,min:22,max:26},fat:{value:1,min:.5,max:1.5},carbs:{value:0,min:0,max:.5},default_unit:200,saturated_fat:{value:.3,min:.2,max:.4},omega_6:{value:.1,min:.05,max:.15},zinc:{value:.8,min:.6,max:1},vitamin_b12:{value:9,min:7.5,max:10.5},iron:{value:1,min:.8,max:1.2},sodium:{value:37,min:30,max:45},magnesium:{value:30,min:25,max:35},potassium:{value:323,min:290,max:355},vitamin_a:{value:60,min:50,max:70},vitamin_d:{value:227,min:200,max:250},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.2,min:.15,max:.25},choline:{value:65,min:55,max:75},iodine:{value:50,min:45,max:55}},mackerel:{id:"fish_mackerel",name:"Mackerel",name_ja:"",name_fr:"Maquereau",name_de:"Makrele",protein:{value:19,min:17,max:21},fat:{value:12.6,min:11,max:14},carbs:{value:0,min:0,max:.5},default_unit:200,saturated_fat:{value:3.3,min:2.8,max:3.8},omega_6:{value:.2,min:.15,max:.25},zinc:{value:.6,min:.5,max:.7},vitamin_b12:{value:8.7,min:7.5,max:10},iron:{value:1.6,min:1.3,max:1.9},sodium:{value:63,min:50,max:75},magnesium:{value:25,min:21,max:29},potassium:{value:314,min:280,max:350},vitamin_a:{value:50,min:40,max:60},vitamin_d:{value:360,min:320,max:400},vitamin_k2:{value:.1,min:0,max:.2},omega_3:{value:2.6,min:2.3,max:2.9},choline:{value:65,min:55,max:75},iodine:{value:25,min:20,max:30}}},dairy:{egg:{id:"dairy_egg",name:"Egg (Whole)",name_ja:"",protein:{value:12.3,min:11.5,max:13},fat:{value:10.6,min:9.5,max:11.5},carbs:{value:.7,min:.5,max:1},default_unit:50,saturated_fat:{value:3.3,min:3,max:3.6},omega_6:{value:1.4,min:1.2,max:1.6},zinc:{value:1.1,min:.9,max:1.3},vitamin_b12:{value:.9,min:.7,max:1.1},iron:{value:1.8,min:1.5,max:2.1},sodium:{value:140,min:130,max:150},magnesium:{value:12,min:10,max:14},vitamin_a:{value:540,min:480,max:600},vitamin_d:{value:87,min:80,max:95},vitamin_k2:{value:31.4,min:28,max:35},omega_3:{value:.3,min:.2,max:.4},choline:{value:150,min:140,max:160},potassium:{value:138,min:120,max:155},vitamin_b7:{value:20,min:18,max:22},iodine:{value:25,min:20,max:30},calcium:{value:56,min:50,max:60},phosphorus:{value:198,min:180,max:210},glycine:{value:.4,min:.35,max:.45},methionine:{value:.4,min:.35,max:.45}},cheese:{id:"dairy_cheese",name:"Cheese",name_ja:"",name_fr:"Fromage",name_de:"Kse",protein:{value:25,min:23,max:27},fat:{value:33,min:30,max:36},carbs:{value:1,min:.5,max:2},default_unit:100,saturated_fat:{value:21,min:19,max:23},omega_6:{value:.8,min:.6,max:1},zinc:{value:3.1,min:2.8,max:3.5},vitamin_b12:{value:.8,min:.6,max:1},iron:{value:.7,min:.5,max:.9},sodium:{value:650,min:600,max:700},magnesium:{value:25,min:22,max:28},potassium:{value:98,min:85,max:110},vitamin_a:{value:1002,min:900,max:1100},vitamin_d:{value:24,min:20,max:28},vitamin_k2:{value:76,min:70,max:82},omega_3:{value:.1,min:.05,max:.15},choline:{value:15,min:12,max:18}},heavy_cream:{id:"dairy_heavy_cream",name:"Heavy Cream",name_ja:"",name_fr:"Crme paisse",name_de:"Schlagsahne",protein:{value:2.8,min:2.5,max:3},fat:{value:37,min:35,max:40},carbs:{value:2.8,min:2.5,max:3},default_unit:100,saturated_fat:{value:23,min:21,max:25},omega_6:{value:.6,min:.5,max:.7},zinc:{value:.2,min:.15,max:.25},vitamin_b12:{value:.2,min:.15,max:.25},iron:{value:.03,min:.02,max:.04},sodium:{value:27,min:25,max:30},magnesium:{value:7,min:6,max:8},potassium:{value:132,min:120,max:145},vitamin_a:{value:1387,min:1300,max:1500},vitamin_d:{value:7,min:5,max:9},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.1,min:.05,max:.15},choline:{value:19,min:17,max:21}},butter:{id:"dairy_butter",name:"Butter",name_ja:"",name_fr:"Beurre",name_de:"Butter",protein:{value:.9,min:.7,max:1.1},fat:{value:81,min:80,max:82},carbs:{value:.1,min:0,max:.2},default_unit:100,saturated_fat:{value:51,min:50,max:52},omega_6:{value:2.7,min:2.5,max:3},zinc:{value:.1,min:.05,max:.15},vitamin_b12:{value:.2,min:.15,max:.25},iron:{value:.02,min:.01,max:.03},sodium:{value:11,min:10,max:12},magnesium:{value:2,min:1.5,max:2.5},potassium:{value:24,min:20,max:28},vitamin_a:{value:2499,min:2300,max:2700},vitamin_d:{value:60,min:50,max:70},vitamin_k2:{value:15,min:12,max:18},omega_3:{value:.3,min:.2,max:.4},choline:{value:19,min:17,max:21}}},fat:{tallow:{id:"fat_tallow",name:"Beef Tallow",name_ja:"",name_fr:"Suif de buf",name_de:"Rindertalg",protein:{value:0,min:0,max:0},fat:{value:100,min:99,max:100},carbs:{value:0,min:0,max:0},default_unit:100,saturated_fat:{value:50,min:48,max:52},omega_6:{value:.5,min:.4,max:.6},zinc:{value:0,min:0,max:0},vitamin_b12:{value:0,min:0,max:0},iron:{value:0,min:0,max:0},sodium:{value:0,min:0,max:0},magnesium:{value:0,min:0,max:0},vitamin_a:{value:0,min:0,max:0},vitamin_d:{value:101,min:90,max:112},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.3,min:.2,max:.4}},ghee:{id:"fat_ghee",name:"Ghee",name_ja:"",name_fr:"Ghee",name_de:"Ghee",protein:{value:0,min:0,max:0},fat:{value:100,min:99,max:100},carbs:{value:0,min:0,max:0},default_unit:100,saturated_fat:{value:65,min:63,max:67},omega_6:{value:2.9,min:2.7,max:3.1},zinc:{value:0,min:0,max:0},vitamin_b12:{value:0,min:0,max:0},iron:{value:0,min:0,max:0},sodium:{value:0,min:0,max:0},magnesium:{value:0,min:0,max:0},potassium:{value:0,min:0,max:0},vitamin_a:{value:3069,min:2800,max:3300},vitamin_d:{value:0,min:0,max:0},vitamin_k2:{value:0,min:0,max:0},omega_3:{value:.3,min:.2,max:.4},choline:{value:0,min:0,max:0}},salt:{id:"fat_salt",name:"Salt",name_ja:"",name_fr:"Sel",name_de:"Salz",protein:{value:0,min:0,max:0},fat:{value:0,min:0,max:0},carbs:{value:0,min:0,max:0},default_unit:5,saturated_fat:{value:0,min:0,max:0},omega_6:{value:0,min:0,max:0},zinc:{value:0,min:0,max:0},vitamin_b12:{value:0,min:0,max:0},iron:{value:0,min:0,max:0},sodium:{value:38758,min:38500,max:39e3},magnesium:{value:2,min:1.5,max:2.5},iodine:{value:200,min:180,max:220},potassium:{value:0,min:0,max:0}}},plant:{soybean:{id:"plant_soybean",name:"Soybean",name_ja:"",protein:{value:35,min:33,max:37},fat:{value:19.9,min:18,max:21.8},carbs:{value:30.2,min:28,max:32.4},default_unit:100,fiber:{value:15.7,min:14,max:17.4},phytates:{value:1500,min:1200,max:1800},lectins:{value:200,min:150,max:250},saponins:{value:500,min:400,max:600},oxalates:{value:200,min:150,max:250}},tofu:{id:"plant_tofu",name:"Tofu",name_ja:"",protein:{value:8.1,min:7.5,max:8.7},fat:{value:4.8,min:4.2,max:5.4},carbs:{value:1.9,min:1.5,max:2.3},default_unit:100,fiber:{value:.4,min:.2,max:.6},phytates:{value:500,min:300,max:700},lectins:{value:50,min:30,max:70},saponins:{value:100,min:50,max:150}},spinach:{id:"plant_spinach",name:"Spinach",name_ja:"",protein:{value:2.9,min:2.5,max:3.3},fat:{value:.4,min:.3,max:.5},carbs:{value:3.6,min:3,max:4.2},default_unit:100,fiber:{value:2.2,min:2,max:2.4},oxalates:{value:970,min:800,max:1140},goitrogens:{value:200,min:150,max:250},tannins:{value:50,min:30,max:70}},nuts:{id:"plant_nuts",name:"Nuts",name_ja:"",protein:{value:20,min:18,max:22},fat:{value:50,min:45,max:55},carbs:{value:20,min:18,max:22},default_unit:30,fiber:{value:10,min:8,max:12},phytates:{value:2e3,min:1500,max:2500},lectins:{value:300,min:200,max:400},tannins:{value:100,min:50,max:150}},grain:{id:"plant_grain",name:"Grain",name_ja:"",protein:{value:12,min:10,max:14},fat:{value:2,min:1.5,max:2.5},carbs:{value:72,min:70,max:74},default_unit:100,fiber:{value:12,min:10,max:14},phytates:{value:3e3,min:2500,max:3500},lectins:{value:500,min:400,max:600},saponins:{value:200,min:150,max:250}}}};function ga(l,o){return Ja[l]?.[o]}function sv(l){const o=l.toLowerCase().trim();if(o.length===0)return;const u={:{animal:"beef",part:"ribeye"},:{animal:"beef",part:"ribeye"},:{animal:"beef",part:"sirloin"},:{animal:"beef",part:"ribeye"},:{animal:"beef",part:"ribeye"},:{animal:"beef",part:"ribeye"},:{animal:"beef",part:"ground"},:{animal:"beef",part:"brisket"},:{animal:"beef",part:"brisket"},:{animal:"beef",part:"chuck"},:{animal:"beef",part:"liver"},ribeye:{animal:"beef",part:"ribeye"},rib:{animal:"beef",part:"ribeye"},sirloin:{animal:"beef",part:"sirloin"},steak:{animal:"beef",part:"ribeye"},beef:{animal:"beef",part:"ribeye"},ground:{animal:"beef",part:"ground"},brisket:{animal:"beef",part:"brisket"},chuck:{animal:"beef",part:"chuck"},liver:{animal:"beef",part:"liver"},entrecte:{animal:"beef",part:"ribeye"},buf:{animal:"beef",part:"ribeye"},foie:{animal:"beef",part:"liver"},rippensteak:{animal:"beef",part:"ribeye"},rindfleisch:{animal:"beef",part:"ribeye"},leber:{animal:"beef",part:"liver"},:{animal:"pork",part:"belly"},:{animal:"pork",part:"belly"},:{animal:"pork",part:"belly"},:{animal:"pork",part:"belly"},:{animal:"pork",part:"loin"},:{animal:"pork",part:"shoulder"},:{animal:"pork",part:"ribs"},:{animal:"pork",part:"liver"},pork:{animal:"pork",part:"belly"},belly:{animal:"pork",part:"belly"},loin:{animal:"pork",part:"loin"},shoulder:{animal:"pork",part:"shoulder"},ribs:{animal:"pork",part:"ribs"},porc:{animal:"pork",part:"belly"},ventre:{animal:"pork",part:"belly"},schweinefleisch:{animal:"pork",part:"belly"},bauch:{animal:"pork",part:"belly"},:{animal:"chicken",part:"thigh"},:{animal:"chicken",part:"thigh"},:{animal:"chicken",part:"thigh"},:{animal:"chicken",part:"thigh"},:{animal:"chicken",part:"breast"},:{animal:"chicken",part:"wing"},:{animal:"chicken",part:"liver"},:{animal:"chicken",part:"whole"},chicken:{animal:"chicken",part:"thigh"},thigh:{animal:"chicken",part:"thigh"},breast:{animal:"chicken",part:"breast"},wing:{animal:"chicken",part:"wing"},whole:{animal:"chicken",part:"whole"},poulet:{animal:"chicken",part:"thigh"},cuisse:{animal:"chicken",part:"thigh"},blanc_poulet:{animal:"chicken",part:"breast"},huhn:{animal:"chicken",part:"thigh"},hhnchen:{animal:"chicken",part:"thigh"},schenkel:{animal:"chicken",part:"thigh"},brust:{animal:"chicken",part:"breast"},:{animal:"fish",part:"salmon"},:{animal:"fish",part:"salmon"},:{animal:"fish",part:"tuna"},:{animal:"fish",part:"mackerel"},salmon:{animal:"fish",part:"salmon"},tuna:{animal:"fish",part:"tuna"},mackerel:{animal:"fish",part:"mackerel"},fish:{animal:"fish",part:"salmon"},saumon:{animal:"fish",part:"salmon"},thon:{animal:"fish",part:"tuna"},maquereau:{animal:"fish",part:"mackerel"},poisson:{animal:"fish",part:"salmon"},lachs:{animal:"fish",part:"salmon"},thunfisch:{animal:"fish",part:"tuna"},makrele:{animal:"fish",part:"mackerel"},fisch:{animal:"fish",part:"salmon"},:{animal:"egg",part:"whole"},:{animal:"egg",part:"whole"},:{animal:"egg",part:"whole"},:{animal:"egg",part:"yolk"},:{animal:"egg",part:"white"},egg:{animal:"egg",part:"whole"},yolk:{animal:"egg",part:"yolk"},white:{animal:"egg",part:"white"},uf:{animal:"egg",part:"whole"},oeuf:{animal:"egg",part:"whole"},jaune:{animal:"egg",part:"yolk"},blanc:{animal:"egg",part:"white"},ei:{animal:"egg",part:"whole"},eigelb:{animal:"egg",part:"yolk"},eiwei:{animal:"egg",part:"white"},:{animal:"dairy",part:"cheese"},:{animal:"dairy",part:"heavy_cream"},:{animal:"dairy",part:"butter"},cheese:{animal:"dairy",part:"cheese"},cream:{animal:"dairy",part:"heavy_cream"},butter:{animal:"dairy",part:"butter"},fromage:{animal:"dairy",part:"cheese"},crme:{animal:"dairy",part:"heavy_cream"},beurre:{animal:"dairy",part:"butter"},kse:{animal:"dairy",part:"cheese"},sahne:{animal:"dairy",part:"heavy_cream"},:{animal:"fat",part:"tallow"},:{animal:"fat",part:"ghee"},:{animal:"fat",part:"salt"},tallow:{animal:"fat",part:"tallow"},ghee:{animal:"fat",part:"ghee"},salt:{animal:"fat",part:"salt"}};for(const p of Object.keys(Ja)){const m=Ja[p];if(m)for(const y of Object.keys(m)){const S=m[y];if(S&&(S.name.toLowerCase()===o||S.name_ja.toLowerCase()===o||S.id.toLowerCase()===o||S.name_fr&&S.name_fr.toLowerCase()===o||S.name_de&&S.name_de.toLowerCase()===o))return S}}for(const[p,m]of Object.entries(u))if(o.includes(p)||p.includes(o)){const y=ga(m.animal,m.part);if(y)return y}let c,v=0;for(const p of Object.keys(Ja)){const m=Ja[p];if(m)for(const y of Object.keys(m)){const S=m[y];if(!S)continue;const x=S.name.toLowerCase(),b=S.name_ja.toLowerCase(),g=S.name_fr?.toLowerCase()||"",k=S.name_de?.toLowerCase()||"",T=S.id.toLowerCase();let O=0;if(x===o||b===o||T===o||g===o||k===o)O=100;else if(x.startsWith(o)||b.startsWith(o)||g.startsWith(o)||k.startsWith(o))O=80;else if(x.endsWith(o)||b.endsWith(o)||g.endsWith(o)||k.endsWith(o))O=70;else if(x.includes(o)||b.includes(o)||g.includes(o)||k.includes(o))O=60;else if(o.includes(x)||o.includes(b)||o.includes(g)||o.includes(k))O=50;else{const I=x.split(/[\s\-_]+/),ie=b.split(/[\s\-_]+/),q=g.split(/[\s\-_]+/),B=k.split(/[\s\-_]+/),$=o.split(/[\s\-_]+/);for(const re of $)I.some(pe=>pe.includes(re)||re.includes(pe))&&(O+=30),ie.some(pe=>pe.includes(re)||re.includes(pe))&&(O+=30),q.some(pe=>pe.includes(re)||re.includes(pe))&&(O+=30),B.some(pe=>pe.includes(re)||re.includes(pe))&&(O+=30)}O>v&&(v=O,c=S)}}return c}const mg=Object.freeze(Object.defineProperty({__proto__:null,FOOD_MASTER:Ja,getFoodMasterItem:ga,searchFoodMasterByName:sv},Symbol.toStringTag,{value:"Module"})),pl={saltUnitLabel:"",saltUnitWeight:.5,targetCarbs:0,saltType:"table_salt",currency:"USD"};function Dg(){const[l,o]=f.useState(()=>{const c=localStorage.getItem("user_config");if(c)try{return{...pl,...JSON.parse(c)}}catch{return pl}return pl}),u=c=>{const v={...l,...c};o(v),localStorage.setItem("user_config",JSON.stringify(v))};return f.useEffect(()=>{const c=localStorage.getItem("user_config");if(c)try{const v=JSON.parse(c);o({...pl,...v})}catch{}},[]),{config:l,updateConfig:u}}const lv=[{key:"protein",label:"",priority:1},{key:"fat",label:"",priority:2},{key:"zinc",label:"",priority:3},{key:"magnesium",label:"",priority:4},{key:"iron",label:"",priority:5},{key:"potassium",label:"",priority:6},{key:"sodium",label:"",priority:7},{key:"vitaminA",label:"A",priority:8},{key:"vitaminD",label:"D",priority:9},{key:"vitaminK2",label:"K2",priority:10},{key:"vitaminB12",label:"B12",priority:11},{key:"vitaminB7",label:"B7",priority:12},{key:"choline",label:"",priority:13},{key:"iodine",label:"",priority:14},{key:"calcium",label:"",priority:15},{key:"phosphorus",label:"",priority:16},{key:"glycine",label:"",priority:17},{key:"methionine",label:"",priority:18},{key:"omegaRatio",label:"3/6",priority:19}],rv="primal-logic-butcher-nutrient-order";function cv(){try{const l=localStorage.getItem(rv);if(l)return JSON.parse(l)}catch{}return lv}function uv(l,o,u){return o==="default"?[...l].sort((c,v)=>c.priority-v.priority):o==="deficiency"?[...l].sort((c,v)=>{const p=u[c.key],m=u[v.key];if(!p||!m||p.target<=0&&m.target<=0)return 0;if(p.target<=0)return 1;if(m.target<=0)return-1;const y=p.currentDailyTotal+p.previewAmount,S=m.currentDailyTotal+m.previewAmount,x=y/p.target,b=S/m.target;return x-b}):l}const Zo=[{key:"protein",label:"Protein (Effective)",unit:"g",category:"macro",defaultVisible:!0},{key:"fat",label:"Fat",unit:"g",category:"macro",defaultVisible:!0},{key:"carbs",label:"Carbs",unit:"g",category:"macro",defaultVisible:!0},{key:"netCarbs",label:"Net Carbs",unit:"g",category:"macro",defaultVisible:!0},{key:"fiber",label:"Fiber",unit:"g",category:"macro",defaultVisible:!0},{key:"sodium",label:"Sodium",unit:"mg",category:"mineral",defaultVisible:!0},{key:"magnesium",label:"Magnesium",unit:"mg",category:"mineral",defaultVisible:!0},{key:"potassium",label:"Potassium",unit:"mg",category:"mineral",defaultVisible:!0},{key:"zinc",label:"Zinc (Effective)",unit:"mg",category:"mineral",defaultVisible:!0},{key:"iron",label:"Iron (Effective)",unit:"mg",category:"mineral",defaultVisible:!0},{key:"calcium",label:"Calcium",unit:"mg",category:"mineral",defaultVisible:!0},{key:"phosphorus",label:"Phosphorus",unit:"mg",category:"mineral",defaultVisible:!0},{key:"selenium",label:"Selenium",unit:"g",category:"mineral",defaultVisible:!0},{key:"copper",label:"Copper",unit:"mg",category:"mineral",defaultVisible:!0},{key:"manganese",label:"Manganese",unit:"mg",category:"mineral",defaultVisible:!0},{key:"iodine",label:"Iodine",unit:"g",category:"mineral",defaultVisible:!0},{key:"chromium",label:"Chromium",unit:"g",category:"mineral",defaultVisible:!0},{key:"molybdenum",label:"Molybdenum",unit:"g",category:"mineral",defaultVisible:!0},{key:"fluoride",label:"Fluoride",unit:"mg",category:"mineral",defaultVisible:!0},{key:"chloride",label:"Chloride",unit:"mg",category:"mineral",defaultVisible:!0},{key:"boron",label:"Boron",unit:"mg",category:"mineral",defaultVisible:!0},{key:"nickel",label:"Nickel",unit:"mg",category:"mineral",defaultVisible:!0},{key:"silicon",label:"Silicon",unit:"mg",category:"mineral",defaultVisible:!0},{key:"vanadium",label:"Vanadium",unit:"g",category:"mineral",defaultVisible:!0},{key:"vitaminA",label:"Vitamin A",unit:"IU",category:"fatSolubleVitamin",defaultVisible:!0},{key:"vitaminD",label:"Vitamin D",unit:"IU",category:"fatSolubleVitamin",defaultVisible:!0},{key:"vitaminK",label:"Vitamin K (Effective)",unit:"g",category:"fatSolubleVitamin",defaultVisible:!0},{key:"vitaminK2",label:"Vitamin K2",unit:"g",category:"fatSolubleVitamin",defaultVisible:!0},{key:"vitaminE",label:"Vitamin E",unit:"mg",category:"fatSolubleVitamin",defaultVisible:!0},{key:"vitaminC",label:"Vitamin C",unit:"mg",category:"waterSolubleVitamin",defaultVisible:!0},{key:"vitaminB1",label:"Vitamin B1",unit:"mg",category:"waterSolubleVitamin",defaultVisible:!0},{key:"vitaminB2",label:"Vitamin B2",unit:"mg",category:"waterSolubleVitamin",defaultVisible:!0},{key:"vitaminB3",label:"Vitamin B3",unit:"mg",category:"waterSolubleVitamin",defaultVisible:!0},{key:"vitaminB6",label:"Vitamin B6",unit:"mg",category:"waterSolubleVitamin",defaultVisible:!0},{key:"vitaminB7",label:"Vitamin B7 (Biotin)",unit:"g",category:"waterSolubleVitamin",defaultVisible:!0},{key:"vitaminB9",label:"Vitamin B9 (Folate)",unit:"g",category:"waterSolubleVitamin",defaultVisible:!0},{key:"vitaminB12",label:"Vitamin B12",unit:"g",category:"waterSolubleVitamin",defaultVisible:!0},{key:"vitaminB5",label:"Vitamin B5 (Pantothenic Acid)",unit:"mg",category:"waterSolubleVitamin",defaultVisible:!0},{key:"choline",label:"Choline",unit:"mg",category:"other",defaultVisible:!0},{key:"taurine",label:"Taurine",unit:"mg",category:"other",defaultVisible:!0},{key:"omega3",label:"Omega-3",unit:"g",category:"other",defaultVisible:!0},{key:"omega6",label:"Omega-6",unit:"g",category:"other",defaultVisible:!0},{key:"omegaRatio",label:"Omega-6:3 Ratio",unit:"",category:"other",defaultVisible:!0},{key:"calciumPhosphorusRatio",label:"Calcium:Phosphorus Ratio",unit:"",category:"ratio",defaultVisible:!0},{key:"glycineMethionineRatio",label:"Glycine:Methionine Ratio",unit:"",category:"ratio",defaultVisible:!0},{key:"pfRatio",label:"P:F Ratio",unit:"",category:"ratio",defaultVisible:!0},{key:"phytates",label:"Phytic Acid",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"polyphenols",label:"Polyphenols",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"flavonoids",label:"Flavonoids",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"anthocyanins",label:"Anthocyanins",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"oxalates",label:"Oxalic Acid",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"lectins",label:"Lectins",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"saponins",label:"Saponins",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"goitrogens",label:"Goitrogens",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"tannins",label:"Tannins",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"trypsinInhibitors",label:"Trypsin Inhibitors",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"proteaseInhibitors",label:"Protease Inhibitors",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"cyanogenicGlycosides",label:"Cyanogenic Glycosides",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"solanine",label:"Solanine",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"chaconine",label:"Chaconine",unit:"mg",category:"antiNutrient",defaultVisible:!0},{key:"plantProtein",label:"Plant Protein",unit:"g",category:"avoid",defaultVisible:!0},{key:"vegetableOil",label:"Vegetable Oil",unit:"g",category:"avoid",defaultVisible:!0}],Ag="primal_logic_nutrient_display_settings";function au(){try{const l=localStorage.getItem(Ag);if(l){const u=JSON.parse(l),c={};return Zo.forEach(v=>{c[v.key]=v.defaultVisible}),{...c,...u}}const o={};return Zo.forEach(u=>{o[u.key]=u.defaultVisible}),o}catch{const o={};return Zo.forEach(u=>{o[u.key]=u.defaultVisible}),o}}function ou(l){try{localStorage.setItem(Ag,JSON.stringify(l))}catch{}}function ny(l){const o=au();o[l]=!o[l],ou(o)}function iy(l,o){const u=au();Zo.filter(c=>c.category===l).forEach(c=>{u[c.key]=o}),ou(u)}function ay(l){const o={};Zo.forEach(u=>{o[u.key]=l}),ou(o)}const Cl=[{key:"streakDisplay",label:"",category:"screenElement",defaultVisible:!0,description:""},{key:"phaseDisplay",label:"Phase",category:"screenElement",defaultVisible:!0,description:"PhaseRookie, Carnivore, Hunter"},{key:"transitionBanner",label:"",category:"screenElement",defaultVisible:!0,description:""},{key:"transitionGuide",label:"",category:"screenElement",defaultVisible:!0,description:""},{key:"pfRatioGauge",label:"P:F",category:"screenElement",defaultVisible:!0,description:":"},{key:"omegaRatioGauge",label:"",category:"screenElement",defaultVisible:!0,description:"3/6"},{key:"calciumPhosphorusRatioGauge",label:":",category:"screenElement",defaultVisible:!0,description:":"},{key:"glycineMethionineRatioGauge",label:":",category:"screenElement",defaultVisible:!0,description:":"},{key:"argumentCard",label:"",category:"screenElement",defaultVisible:!1,description:""},{key:"recoveryProtocol",label:"",category:"screenElement",defaultVisible:!1,description:""},{key:"myFoodsTab",label:"",category:"screenElement",defaultVisible:!0,description:""},{key:"historyTab",label:"",category:"screenElement",defaultVisible:!0,description:""},{key:"aiSpeedDial",label:"AI Speed Dial",category:"screenElement",defaultVisible:!0,description:"AI"},{key:"photoUpload",label:"",category:"screenElement",defaultVisible:!0,description:""},{key:"avoidZone",label:"Avoid Zone",category:"screenElement",defaultVisible:!0,description:""},{key:"nutrientTrendGraph",label:"",category:"analysis",defaultVisible:!0,description:""},{key:"weeklySummary",label:"",category:"analysis",defaultVisible:!0,description:""},{key:"monthlySummary",label:"",category:"analysis",defaultVisible:!0,description:""},{key:"statisticsCard",label:"",category:"analysis",defaultVisible:!0,description:""},{key:"electrolyteAlert",label:"",category:"notification",defaultVisible:!0,description:"Na/K/Mg"},{key:"fatDeficiencyReminder",label:"",category:"notification",defaultVisible:!0,description:"18"},{key:"streakReminder",label:"",category:"notification",defaultVisible:!0,description:""},{key:"debugMode",label:"",category:"other",defaultVisible:!0,description:""},{key:"customFoodRegistration",label:"",category:"other",defaultVisible:!0,description:""},{key:"bodyCompositionSettings",label:"",category:"other",defaultVisible:!0,description:"LBM"},{key:"metabolicStressIndicators",label:"",category:"other",defaultVisible:!0,description:""},{key:"nutrientTargetCustomization",label:"",category:"other",defaultVisible:!0,description:""}],Mg="primal_logic_feature_display_settings";function Qo(){try{const l=localStorage.getItem(Mg),o={};if(Cl.forEach(u=>{o[u.key]=u.defaultVisible}),l){const u=JSON.parse(l);return{...o,...u}}return o}catch{const o={};return Cl.forEach(u=>{o[u.key]=u.defaultVisible}),o}}function su(l){try{localStorage.setItem(Mg,JSON.stringify(l))}catch{}}function oy(l){const o=Qo();o[l]=!o[l],su(o)}function sy(l,o){const u=Qo();Cl.filter(c=>c.category===l).forEach(c=>{u[c.key]=o}),su(u)}function ly(l){const o={};Cl.forEach(u=>{o[u.key]=l}),su(o)}async function dv(l){const o=await fetch("/api/gemini",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),u=o.headers.get("content-type")||"",c=await o.text();if(!o.ok){if(u.includes("application/json"))try{const p=JSON.parse(c),m=typeof p?.message=="string"?p.message:c;throw new Error(m)}catch{}throw new Error(c||`HTTP ${o.status}`)}if(!u.includes("application/json"))return{text:c};const v=JSON.parse(c);return{text:v.text||"",raw:v.raw}}async function Al(l){const{text:o}=await dv({model:l.model,prompt:l.prompt,messages:l.messages,inlineData:l.inlineData});return o||""}function mv(l){const o={answer:""},u=l.match(/<thinking>([\s\S]*?)<\/thinking>/i);u&&u[1]&&(o.thinking=u[1].trim());const c=l.match(/<answer>([\s\S]*?)<\/answer>/i);c&&c[1]&&(o.answer=c[1].trim());const v=l.match(/<verification>([\s\S]*?)<\/verification>/i);if(v&&v[1]){const y=v[1].trim(),S=y.match(/<plan>([\s\S]*?)<\/plan>/i);if(S&&S[1]){const g=S[1].split(`
`).map(k=>k.trim()).filter(k=>k.length>0&&k.match(/^[-\d]/));o.verification={plan:g,execution:[],status:"uncertain"}}const x=y.match(/<execution>([\s\S]*?)<\/execution>/i);if(x&&x[1]){const k=x[1].trim().split(/Q:|A:/i).filter(O=>O.trim().length>0),T=[];for(let O=0;O<k.length;O+=2)k[O]&&k[O+1]&&T.push({question:k[O].trim(),answer:k[O+1].trim()});o.verification&&(o.verification.execution=T)}const b=y.match(/<status>(verified|uncertain|needs_human_review)<\/status>/i);b&&o.verification&&(o.verification.status=b[1])}const p=l.match(/<citations>([\s\S]*?)<\/citations>/i);if(p&&p[1]){const y=p[1].trim(),S=[],x=y.split(`
`).filter(b=>b.trim().length>0);for(const b of x){const g=b.split("|").map(k=>k.trim());g.length>=2&&S.push({sentence:g[0]||"",source:g[1]||"",confidence:g[2]?parseFloat(g[2]):.8})}S.length>0&&(o.citations=S)}const m=l.match(/<todos>([\s\S]*?)<\/todos>/i);if(m&&m[1]){const y=m[1].trim(),S=[],x=y.split(`
`).filter(b=>b.trim().length>0);for(const b of x){const g=b.split("|").map(k=>k.trim());if(g.length>=1){const k=g[2]||"custom",T={id:`todo_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,title:g[0]||"",description:g[1]||void 0,actionType:k,actionParams:g[3]?JSON.parse(g[3]):void 0,isCompleted:!1};g[2]&&(T.action={type:k,params:g[3]?JSON.parse(g[3]):void 0}),S.push(T)}}S.length>0&&(o.todos=S)}return o}async function fv(l,o=[],u=!1,c=!0,v="purist",p="fast",m,y){try{let S;switch(p){case"fast":S="gemini-2.5-flash";break;case"thinking":S="gemini-2.0-flash-exp";break;case"pro":S="gemini-2.0-pro-exp";break;default:S="gemini-2.5-flash"}const x=y?`


${y.height?`- : ${y.height}cm`:""}
${y.weight?`- : ${y.weight}kg`:""}
${y.age?`- : ${y.age}`:""}
${y.gender?`- : ${y.gender==="male"?"":""}`:""}
${y.activityLevel?`- : ${y.activityLevel}`:""}
${y.isPregnant?"- : ":""}
${y.isBreastfeeding?"- : ":""}
${y.stressLevel?`- : ${y.stressLevel}`:""}
${y.sleepHours?`- : ${y.sleepHours}/`:""}
${y.exerciseIntensity?`- : ${y.exerciseIntensity}`:""}
${y.exerciseFrequency?`- : ${y.exerciseFrequency}/`:""}
${y.thyroidFunction?`- : ${y.thyroidFunction}`:""}
${y.metabolicStatus?`- : ${y.metabolicStatus==="adapted"?"":""}`:""}
${y.daysOnCarnivore?`- : ${y.daysOnCarnivore}`:""}
`:"",b=`
Social Protocols
- ** vs **: 
- ****: 
- ****: 
- ****: 16 + 
- ****: 
`,g=m&&m.logs.length>0?`
Detective AI: 


24-48

****: ${m.logs.length}

${m.logs.map((B,$)=>{const re=new Date(B.date),pe=`${re.getMonth()+1}/${re.getDate()}`,ce=B.foods.join(""),Ne=B.diary||"";return`${pe}
: ${ce||""}
: ${Ne}`}).join(`

`)}


- 24-48
- 
- 
- 
`:"",O=`<system_prompt>
  <role_definition>
    
    
    ****:
    - 
    - 
    - 
    - : 
    - : 
    
    CarnivOS
  </role_definition>
  ${v==="purist"?`
Purist


1. ****: 
2. ****: 
3. ****: 
4. ****: 
5. ****: 
6. ****: 
7. **Stefansson (1928) Bellevue Hospital Study**: 
8. **Cahill (1970s) Starvation Studies**: -Glucose-Ascorbate Antagonism


- 
- 
- 
- CGlucose-Ascorbate Antagonism10mg130mgRDA90mg
`:`
Realist


1. ****: 
2. ****: 
3. ****: 
4. ****: 
5. ****: 
6. ****: 
7. **Stefansson (1928) Bellevue Hospital Study**: 
8. **Cahill (1970s) Starvation Studies**: -Glucose-Ascorbate Antagonism

Realist
- 
- 
- 
- 


- 
- 
- 
- CGlucose-Ascorbate Antagonism10mg130mgRDA90mg
`}
${x}
${g}

CarnivOS () 

CarnivOS ()

**:**
1. ****: P:FAI
2. ****: 
3. ****: 
4. ****: 
5. ****: 
6. ****: ON/OFF

**:**
- ****: + 
- ****: 100
- ****: 
- **4**: 4
- **Avoid Zone**: 
- **AI**: 

**:**
- ****
- ****: 
  - 123
  - 123...
  -   
- 
- 1
- ****: 
  \`\`\`
  1  
  1. + 
  2. 
  3. 
  4. 
  5.  []
  
  \`\`\`

  
  <instruction>
  <answer>
  ${o.length>0?`
${o.map(B=>`${B.role==="user"?"":""}: ${B.content}`).join(`
`)}

`:""}
  
  
${l}
${m&&m.logs.length>0?`

Detective AI



24-48
`:""}
  
  
  
  ${c?"":""}
  
  ****
  
  **:**
  1. ****
     - : 1
  
  2. ****
     - : 2-3
  
  3. ****
     - : 3-4
  
  4. ****
     - : 2-3
     - ****: Todo<todos>
  
  5. ****
     - : 4-54      
  
  ****: 
  - CarnivOS
  - 
  - 2-3
  - 3-4
  - 2-3
  - 
  - 
  
  ****:
  - 
  - 
  - 
  - : 
  - : 
]
  </answer>
  
  ${c?`
  <citations>
  [
  ||
  :
  C|Glucose-Ascorbate Antagonism|0.9
  1|Stefansson (1928) Bellevue Hospital Study|0.95]
  </citations>
  `:""}
  
  <todos>
  [Todo
  |||JSON
  
  :
  - timer: 16
  - add_food: 2g200g3
  - set_protocol: 
  - open_screen: 
  - update_input: 
  - custom: 
  
  ****:
  - 200g10g**add_food**
  - 
  - 300g2g
  
  **add_food**:
  - item: 
  - amount: 20032
  - unit: "g""""g"""
  
  
  ****: 
  ****: 
  
  
  :
  16||timer|{"hours":16}
  2g||add_food|{"item":"","amount":2,"unit":"g"}
  200g||add_food|{"item":"","amount":200,"unit":"g"}
  300g||add_food|{"item":"","amount":300,"unit":"g"}
  3||add_food|{"item":"","amount":3,"unit":""}
  ||set_protocol|{"violationType":"sugar_carbs"}
  ||update_input|{"sleepScore":95,"sleepHours":8,"sunMinutes":30,"bowelMovement":{"status":"normal"},"activityLevel":"moderate"}]
  </todos>
</instruction>`,I=await Al({model:S,prompt:O});if(!I||I.trim().length===0)throw new Error("AI");const ie=mv(I);let q=ie.answer||I;return q=q.replace(/<thinking>[\s\S]*?<\/thinking>/gi,"").replace(/<verification>[\s\S]*?<\/verification>/gi,"").replace(/<citations>[\s\S]*?<\/citations>/gi,"").replace(/<todos>[\s\S]*?<\/todos>/gi,"").trim(),{answer:q,todos:ie.todos,citations:ie.citations}}catch(S){const x=Ki(S)||"";throw new Error(`AI: ${x}
API`)}}async function gv(l){try{const o="gemini-2.5-flash",u=await pv(l),v=await Al({model:o,prompt:`


JSON
{
  "foodName": ": ",
  "estimatedWeight": g,
  "type": "animal" | "plant" | "trash" | "ruminant" | "dairy",
  "nutrients": {
    "protein": g/100g,
    "fat": g/100g,
    "carbs": g/100g,
    "fiber": g/100g,
    "sodium": mg/100g,
    "potassium": mg/100g,
    "magnesium": mg/100g,
    "zinc": mg/100g,
    "iron": mg/100g,
    "calcium": mg/100g,
    "phosphorus": mg/100g,
    "selenium": g/100g,
    "copper": mg/100g,
    "manganese": mg/100g,
    "vitaminA": AIU/100g,
    "vitaminD": DIU/100g,
    "vitaminE": EIU/100g,
    "vitaminK": Kg/100g,
    "vitaminK2": K2g/100g,
    "vitaminB1": B1mg/100g,
    "vitaminB2": B2mg/100g,
    "vitaminB3": B3mg/100g,
    "vitaminB5": B5mg/100g,
    "vitaminB6": B6mg/100g,
    "vitaminB7": B7g/100g,
    "vitaminB9": B9g/100g,
    "vitaminB12": B12g/100g,
    "vitaminC": Cmg/100g,
    "choline": mg/100g,
    "taurine": mg/100g,
    "iodine": g/100g,
    "omega3": 3g/100g,
    "omega6": 6g/100g,
    "glycine": g/100g,
    "methionine": g/100g,
    "chromium": g/100g,
    "molybdenum": g/100g,
    "boron": mg/100g,
    "vanadium": g/100g
  },
  "followupQuestions": ["", ""] // 
}

:
- : """"
- 10g
- 100g
- null
- USDA FoodData Central
- B123/6
- B
- followupQuestions
- ****: followupQuestions
- L
- 3`,inlineData:{data:u,mimeType:l.type||"image/jpeg"}});try{const y=v.match(/\{[\s\S]*\}/);if(y){const S=JSON.parse(y[0]);return{foodName:S.foodName||"",estimatedWeight:Math.round((S.estimatedWeight||300)/10)*10,type:S.type||"animal",nutrients:S.nutrients||{},followupQuestions:S.followupQuestions||[]}}}catch(y){}const p=hv(v),m=vv(v);return{foodName:p,estimatedWeight:Math.round(m/10)*10,type:"animal",nutrients:{},followupQuestions:[]}}catch(o){const u=o instanceof Error?o.message:"";throw u.includes("API")||u.includes("API key")?new Error("Gemini API"):new Error("")}}async function Eg(l,o){try{const u="gemini-2.5-flash",c=`
      

:
- : ${l.foodName}
- : ${l.estimatedWeight}g
- : ${l.type}

:
${Object.entries(o).map(([m,y])=>`- : "${m}" -> : "${y}"`).join(`
`)}

JSON
{
  "foodName": ": ",
  "estimatedWeight": g,
  "type": "animal" | "plant" | "trash" | "ruminant" | "dairy",
  "nutrients": {
    "protein": g/100g,
    "fat": g/100g,
    "carbs": g/100g,
    "fiber": g/100g,
    "sodium": mg/100g,
    "magnesium": mg/100g,
    "potassium": mg/100g,
    "zinc": mg/100g,
    "iron": mg/100g,
    
    ...analyzeFoodImage
  }
}

:
- 10g80%
- 400gJSONnutrients100g`,p=(await Al({model:u,prompt:c})).match(/\{[\s\S]*\}/);if(p){const m=JSON.parse(p[0]);return{foodName:m.foodName,estimatedWeight:m.estimatedWeight,type:m.type||"animal",nutrients:m.nutrients||{}}}throw new Error("")}catch{throw new Error("")}}function pv(l){return new Promise((o,u)=>{const c=new FileReader;c.onloadend=()=>{const v=c.result.split(",")[1];o(v)},c.onerror=u,c.readAsDataURL(l)})}function hv(l){const o=["","","","","","","",""];for(const u of o)if(l.includes(u))return u;return""}function vv(l){const o=l.match(/(\d+)\s*g/);return o?parseInt(o[1],10):300}async function Rg(l,o){try{const u="gemini-2.5-flash",c=`

: ${l}
${o&&Object.keys(o).length>0?`
:
${Object.entries(o).map(([p,m])=>`- ${p}: ${m}`).join(`
`)}
`:""}

JSON
{
  "foodName": "",
  "type": "animal" | "plant" | "trash" | "ruminant" | "dairy",
  "nutrients": {
    "protein": g/100g,
    "fat": g/100g,
    "carbs": g/100g,
    "fiber": g/100g,
    "sodium": mg/100g,
    "magnesium": mg/100g,
    "potassium": mg/100g,
    "zinc": mg/100g,
    "iron": mg/100g,
    "vitaminA": AIU/100g,
    "vitaminD": DIU/100g,
    "vitaminK2": K2g/100g,
    "vitaminB12": B12g/100g,
    "omega3": 3g/100g,
    "omega6": 6g/100g,
    "calcium": mg/100g,
    "phosphorus": mg/100g,
    "glycine": g/100g,
    "methionine": g/100g,
    "taurine": mg/100g,
    "vitaminB1": B1mg/100g,
    "vitaminB2": B2mg/100g,
    "vitaminB3": B3mg/100g,
    "vitaminB6": B6mg/100g,
    "vitaminB7": B7g/100g,
    "vitaminB5": B5mg/100g,
    "vitaminB9": B9g/100gFolate,
    "vitaminE": Emg/100g,
    "selenium": g/100g,
    "copper": mg/100g,
    "manganese": mg/100g,
    "iodine": g/100g,
    "chromium": g/100g,
    "molybdenum": g/100g,
    "fluoride": mg/100g,
    "chloride": mg/100g,
    "boron": mg/100g,
    "nickel": mg/100g,
    "silicon": mg/100g,
    "vanadium": g/100g,
    "choline": mg/100g,
    "phytates": mg/100g,
    "oxalates": mg/100g,
    "lectins": mg/100g
  },
  "followupQuestions": : ["", "", ""]
}

:
- 
- phytates, oxalates, lectins
- 100g
- null
- USDA FoodData Central
- ****: followupQuestions: [""]
- ****: followupQuestions: [""]
- ****: followupQuestions: ["", ""]
- : """"followupQuestions: ["", ""]`,v=await Al({model:u,prompt:c});try{const p=v.match(/\{[\s\S]*\}/);if(p){const m=JSON.parse(p[0]);return{foodName:m.foodName||l,type:m.type||"animal",followupQuestions:m.followupQuestions||void 0,nutrients:m.nutrients||{}}}}catch(p){}return{foodName:l,type:"animal",followupQuestions:void 0,nutrients:{}}}catch(u){const c=Ki(u)||"";throw c.includes("API")||c.includes("API key")?new Error("Gemini API"):new Error("")}}const _l=Object.freeze(Object.defineProperty({__proto__:null,analyzeFoodImage:gv,analyzeFoodName:Rg,chatWithAIStructured:fv,refineFoodAnalysis:Eg},Symbol.toStringTag,{value:"Module"}));function bv({label:l,currentStorage:o,dailyIntake:u,dailyRequirement:c,unit:v,color:p="#a855f7",onPress:m}){const y=c>0?u/c*100:0,x=o>=80?"optimal":o>=50?"warning":"low",b=nv(x);return i.jsxs("div",{onClick:m,style:{padding:0,backgroundColor:"transparent",borderRadius:"4px",border:"none",cursor:m?"pointer":"default",marginBottom:0},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:0},children:[i.jsx("span",{style:{fontSize:"12px",color:"#6b7280",fontWeight:500},children:l}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsxs("span",{style:{fontSize:"12px",color:"#374151",fontWeight:600},children:[o.toFixed(0),"%"]}),u>0&&i.jsxs("span",{style:{fontSize:"11px",color:"#3b82f6"},children:["(+",u.toFixed(1),v,")"]})]})]}),i.jsxs("div",{style:{position:"relative",width:"100%",height:"10px",backgroundColor:"#e5e7eb",borderRadius:"9999px",overflow:"hidden"},children:[i.jsx("div",{style:{position:"absolute",left:0,width:`${o}%`,height:"100%",backgroundColor:b,borderRadius:"9999px",transition:"width 0.3s ease"}}),u>0&&i.jsx("div",{style:{position:"absolute",left:`${o}%`,width:`${Math.min(100-o,y)}%`,height:"100%",backgroundColor:"#3b82f6",borderRadius:"9999px",opacity:.7}})]}),i.jsxs("div",{style:{fontSize:"10px",color:"#9ca3af",marginTop:0},children:[x==="optimal"&&" Sufficient storage",x==="warning"&&" Moderate storage",x==="low"&&" Insufficient storage"]})]})}const ma={liver:3,organ:2,egg:2,beef:1.2,pork:1,chicken:1,fish:1},yv={normal:1};function xv(l){const{protein:o,price:u}=l;if(u<=0||u===null||u===void 0)return{mode:"muscle",score:"",unit:"/g",interpretation:"invalid"};if(o<=0)return{mode:"muscle",score:0,unit:"/g",interpretation:"poor"};const c=u/o;return{mode:"muscle",score:parseFloat(c.toFixed(2)),unit:"/g",interpretation:lu(c,"muscle")}}function Sv(l){const{fat:o,price:u}=l;if(u<=0||u===null||u===void 0)return{mode:"energy",score:"",unit:"/g",interpretation:"invalid"};if(o<=0)return{mode:"energy",score:0,unit:"/g",interpretation:"poor"};const c=u/o;return{mode:"energy",score:parseFloat(c.toFixed(2)),unit:"/g",interpretation:lu(c,"energy")}}function wv(l){const{protein:o,fat:u,price:c,foodType:v="",amount:p=0}=l;if(c<=0||c===null||c===void 0)return{mode:"primal",score:"",unit:"pts",interpretation:"invalid"};let m=1;const y=v.toLowerCase();y.includes("liver")?m=ma.liver:y.includes("organ")||y.includes("heart")||y.includes("kidney")?m=ma.organ:y.includes("egg")?m=ma.egg:y.includes("beef")||y.includes("ribeye")||y.includes("sirloin")?m=ma.beef:y.includes("pork")?m=ma.pork:y.includes("chicken")||y.includes("poultry")?m=ma.chicken:(y.includes("fish")||y.includes("salmon")||y.includes("tuna"))&&(m=ma.fish);const S=yv.normal;let x=0;y.includes("liver")&&p>200&&(x=(p-200)*.5);const b=(o+u)*m*S/c*100-x;return{mode:"primal",score:parseFloat(b.toFixed(2)),unit:"pts",interpretation:lu(b,"primal")}}function lu(l,o){return typeof l=="string"?"invalid":o==="primal"?l>=100?"excellent":l>=50?"good":l>=20?"fair":"poor":l<=5?"excellent":l<=10?"good":l<=20?"fair":"poor"}function jv(l){return{muscle:xv(l),energy:Sv(l),primal:wv(l)}}const Yc=[{type:"beef",label:"Beef",icon:"",parts:[{id:"ribeye",label:"Ribeye"},{id:"sirloin",label:"Sirloin"},{id:"ground",label:"Ground"},{id:"brisket",label:"Brisket"},{id:"chuck",label:"Chuck"},{id:"liver",label:"Liver"}]},{type:"pork",label:"Pork",icon:"",parts:[{id:"belly",label:"Belly"},{id:"loin",label:"Loin"},{id:"shoulder",label:"Shoulder"},{id:"ribs",label:"Ribs"},{id:"liver",label:"Liver"}]},{type:"chicken",label:"Chicken",icon:"",parts:[{id:"breast",label:"Breast"},{id:"thigh",label:"Thigh"},{id:"wing",label:"Wing"},{id:"liver",label:"Liver"}]},{type:"dairy",label:"Eggs & Dairy",icon:"",parts:[{id:"egg",label:"Egg"},{id:"cheese",label:"Cheese"},{id:"heavy_cream",label:"Heavy Cream"},{id:"butter",label:"Butter"}]},{type:"fat",label:"Fats & Seasonings",icon:"",parts:[{id:"tallow",label:"Tallow"},{id:"ghee",label:"Ghee"},{id:"salt",label:"Salt"}]},{type:"fish",label:"Fish",icon:"",parts:[{id:"salmon",label:"Salmon"},{id:"tuna",label:"Tuna"},{id:"mackerel",label:"Mackerel"}]}],fg=({label:l,currentDailyTotal:o=0,previewAmount:u=0,max:c,unit:v=""})=>{const p=o+u,m=p>c,y=c>0?p/c*100:0,S=g=>g<50?"#ef4444":g<100?"#f97316":g<120?"#22c55e":"#a855f7",x=c>0?o/c*100:0,b=c>0?u/c*100:0;return i.jsxs("div",{style:{marginBottom:0},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:0},children:[i.jsx("span",{style:{fontSize:"12px",color:"#78716c",fontWeight:m?"bold":"normal"},children:l}),i.jsxs("span",{style:{fontSize:"12px",color:m?"#dc2626":"#78716c",fontWeight:m?"bold":"normal"},children:[p.toFixed(1)," / ",c.toFixed(1)," ",v]})]}),i.jsxs("div",{style:{width:"100%",height:"10px",backgroundColor:"#e5e7eb",borderRadius:"9999px",position:"relative",overflow:"hidden"},children:[i.jsx("div",{style:{position:"absolute",left:0,width:`${Math.min(x,200)}%`,height:"100%",backgroundColor:S(x),borderRadius:"9999px",zIndex:2}}),u>0&&i.jsx("div",{style:{position:"absolute",left:`${Math.min(x,200)}%`,width:`${Math.min(b,Math.max(0,200-Math.min(x,200)))}%`,height:"100%",backgroundColor:S(y),borderRadius:"9999px",zIndex:3,border:"1px solid rgba(0, 0, 0, 0.1)"}})]})]})},Tv=({omega3:l,omega6:o})=>{const{t:u}=Ln(),c=l>0?o/l:o>0?1/0:0,v=1,p=4,y=l===0&&o===0?"low":c===0||c>=v&&c<=p?"optimal":c>p?"warning":"low",S=l+o,x=S>0?l/S*100:0,b=S>0?o/S*100:0,g=l>0&&o>0?`${c.toFixed(2)}:1 (6:3)`:l>0&&o===0?"0:1 (6:3)":o>0&&l===0?":1 (6:3)":`${l.toFixed(2)}g / ${o.toFixed(2)}g`;return i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:0,padding:"0.5rem",backgroundColor:"transparent",borderRadius:"8px",border:"1px solid #e5e7eb",marginBottom:0},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.25rem"},children:[i.jsx("span",{style:{fontSize:"12px",color:"#78716c"},children:u("butcher.omega36Ratio")}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[i.jsx("span",{style:{fontSize:"12px",fontWeight:"600",color:"#44403c"},children:g}),y==="warning"&&i.jsx("span",{style:{fontSize:"12px",cursor:"pointer",color:"#FF3B30"},title:u("butcher.omega6ExcessWarning"),children:""})]})]}),i.jsxs("div",{style:{display:"flex",width:"100%",height:"10px",borderRadius:"9999px",overflow:"hidden",marginTop:"0.25rem",backgroundColor:"#e5e7eb"},children:[i.jsx("div",{style:{width:`${x}%`,backgroundColor:"#34C759",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"10px",fontWeight:"bold"},children:x>10&&"3"}),i.jsx("div",{style:{width:`${b}%`,backgroundColor:y==="warning"?"#FF3B30":"#FF9500",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"10px",fontWeight:"bold"},children:b>10&&"6"})]}),y==="optimal"&&c>0&&i.jsxs("div",{style:{fontSize:"10px",color:"#34C759",marginTop:"0.25rem"},children:[" ",u("butcher.optimalRatioRange")]}),y==="warning"&&i.jsxs("div",{style:{fontSize:"10px",color:"#FF3B30",marginTop:"0.25rem"},children:[" ",u("butcher.omega6ExcessRisk")]})]})};function Cv({initialAnimal:l,onSelect:o,onPreviewChange:u,onFoodAdd:c,previewGauges:v=[],currentDailyTotal:p={}}){const{t:m}=Ln(),y=Pi()||"ja",[S,x]=f.useState(l||"beef"),[b,g]=f.useState(null),[k,T]=f.useState(300),[O,I]=f.useState("g"),[ie,q]=f.useState(1),{config:B,updateConfig:$}=Dg(),[re,pe]=f.useState(B.saltType||"table_salt"),[ce,Ne]=f.useState("cooked"),[V,ve]=f.useState({beef:"raw",pork:"raw",chicken:"raw",fish:"raw"}),he=V[S]||"raw",M=ee=>{ve(ue=>({...ue,[S]:ee}))},[be,z]=f.useState(cv),[W,me]=f.useState("default"),[D,te]=f.useState(!1);f.useRef(null);const[X,ae]=f.useState(!1),[se,fe]=f.useState(0),[L,Z]=f.useState("primal"),[K,Ke]=f.useState(null),bt=Qo();f.useEffect(()=>{B.saltType&&pe(B.saltType)},[B.saltType]);const Te=Yc.find(ee=>ee.type===S)||Yc[0];f.useEffect(()=>{if(b)if(S==="dairy"&&b==="egg")I("piece"),T(1),q(1);else if(S==="fat"&&b==="salt")I("grind"),q(1),T(B.saltUnitWeight);else{I("g"),q(1);const ee=ga(S,b);T(ee?.default_unit||300)}},[S,b,B.saltUnitWeight]),f.useEffect(()=>{if(l&&l!==S){const ee=setTimeout(()=>{x(l),g(null),T(l==="dairy"?1:300)},0);return()=>clearTimeout(ee)}},[l]);const j=f.useMemo(()=>{if(b)return ga(S,b)},[S,b]);f.useEffect(()=>{Ke(null)},[se,b,k]),f.useEffect(()=>{O==="oz"&&k>50?T(10):O==="lb"&&k>5&&T(1)},[O,k]);const H=f.useMemo(()=>{if(!j)return null;let ee=k;S==="dairy"&&b==="egg"&&O==="piece"?ee=k*50:S==="fat"&&b==="salt"&&O==="grind"?ee=ie*B.saltUnitWeight:O==="oz"?ee=k*28.3495:O==="lb"&&(ee=k*453.592);const ue=["beef","pork","chicken","fish"].includes(S);let Ce=ee;ue&&he==="cooked"&&(Ce=ee*1.33);const de=Ce/100;let ht=1;S==="dairy"&&b==="egg"&&(ce==="raw"?ht=.513:ce==="cooked"&&(ht=.909));const ut=j.carbs?j.carbs.value*de:0,ot=j.fiber?j.fiber.value*de:0,Et=Math.max(0,ut-ot),rt=S==="plant",We=rt?j.protein.value*de:0,_t=rt?j.fat.value*de:0;return{protein:j.protein.value*de*ht,fat:j.fat.value*de,carbs:ut,netCarbs:Et,zinc:j.zinc?j.zinc.value*de:0,magnesium:j.magnesium?j.magnesium.value*de:0,iron:j.iron?j.iron.value*de:0,vitamin_b12:j.vitamin_b12?j.vitamin_b12.value*de:0,sodium:j.sodium?j.sodium.value*de:0,choline:j.choline?j.choline.value*de:0,potassium:j.potassium?j.potassium.value*de:0,vitamin_a:j.vitamin_a?j.vitamin_a.value*de:0,vitamin_d:j.vitamin_d?j.vitamin_d.value*de:0,vitamin_k2:j.vitamin_k2?j.vitamin_k2.value*de:0,omega_3:j.omega_3?j.omega_3.value*de:0,omega_6:j.omega_6?j.omega_6.value*de:0,vitamin_b7:j.vitamin_b7?j.vitamin_b7.value*de:0,iodine:j.iodine?j.iodine.value*de:0,calcium:j.calcium?j.calcium.value*de:0,phosphorus:j.phosphorus?j.phosphorus.value*de:0,glycine:j.glycine?j.glycine.value*de:0,methionine:j.methionine?j.methionine.value*de:0,fiber:ot,plantProtein:We,vegetableOil:_t,phytates:j.phytates?j.phytates.value*de:0,polyphenols:j.polyphenols?j.polyphenols.value*de:0,flavonoids:j.flavonoids?j.flavonoids.value*de:0,oxalates:j.oxalates?j.oxalates.value*de:0,lectins:j.lectins?j.lectins.value*de:0,saponins:j.saponins?j.saponins.value*de:0,goitrogens:j.goitrogens?j.goitrogens.value*de:0,tannins:j.tannins?j.tannins.value*de:0}},[j,k,S,O,b,ie,B.saltUnitWeight,ce,he]);f.useEffect(()=>{O==="oz"&&k>50?T(10):O==="lb"&&k>5&&T(1)},[O,k]);const Tt=()=>{if(!H||se<=0)return;const ue=se*({USD:150,EUR:160,GBP:190,AUD:100,CAD:110,JPY:1}[B.currency]||1),Ce={protein:H.protein,fat:H.fat,price:ue,foodType:b||"",amount:k},de=jv(Ce);Ke(de),navigator.vibrate&&navigator.vibrate([50,50,50])},Mt=f.useRef(u);f.useEffect(()=>{Mt.current=u},[u]),f.useEffect(()=>{b&&H&&Mt.current?Mt.current({protein:H.protein,fat:H.fat,zinc:H.zinc,magnesium:H.magnesium,iron:H.iron,vitamin_b12:H.vitamin_b12,sodium:H.sodium,vitamin_a:H.vitamin_a,vitamin_d:H.vitamin_d,vitamin_k2:H.vitamin_k2,choline:H.choline,potassium:H.potassium,vitamin_b7:H.vitamin_b7,omega_3:H.omega_3,omega_6:H.omega_6,iodine:H.iodine,calcium:H.calcium,phosphorus:H.phosphorus,glycine:H.glycine,methionine:H.methionine}):!b&&Mt.current&&Mt.current(null)},[H,b]);const Ct=ee=>{g(ee);const ue=ga(S,ee);ue&&(S==="dairy"&&ee==="egg"?(I("piece"),T(1),q(1)):S==="fat"&&ee==="salt"?(I("grind"),q(1),T(B.saltUnitWeight)):(I("g"),T(ue.default_unit),q(1))),navigator.vibrate&&navigator.vibrate(10),o&&o(S,ee)},On=()=>{if(!j||!H||!c)return;let ee=k;S==="dairy"&&b==="egg"&&O==="piece"?ee=k*50:S==="fat"&&b==="salt"&&O==="grind"&&(ee=ie*B.saltUnitWeight);const ue=de=>y==="ja"?de.name_ja:y==="fr"?de.name_fr||de.name:y==="de"?de.name_de||de.name:y==="zh"?de.name_ja:de.name,Ce={item:ue(j),amount:S==="dairy"&&b==="egg"&&O==="piece"?k:ee,unit:S==="dairy"&&b==="egg"&&O==="piece"?"piece":"g",type:S==="plant"?"animal":S==="beef"?"ruminant":S==="dairy"?"dairy":"animal",eggCookingMethod:S==="dairy"&&b==="egg"?ce:void 0,cookingMethod:["beef","pork","chicken","fish"].includes(S)?he:void 0,biotinBlocked:S==="dairy"&&b==="egg"&&ce==="raw"?!0:void 0,nutrients:{protein:H.protein,fat:H.fat,carbs:j.carbs.value*(ee/100),netCarbs:j.carbs.value*(ee/100),zinc:H.zinc,sodium:H.sodium,magnesium:H.magnesium,hemeIron:H.iron,vitaminB12:H.vitamin_b12,vitaminA:H.vitamin_a,vitaminD:H.vitamin_d,vitaminK2:H.vitamin_k2,choline:H.choline,potassium:H.potassium,vitaminB7:H.vitamin_b7,omega3:H.omega_3,omega6:H.omega_6,iodine:H.iodine,calcium:H.calcium,phosphorus:H.phosphorus,glycine:H.glycine,methionine:H.methionine,fiber:H.fiber||0,phytates:H.phytates||0,polyphenols:H.polyphenols||0,flavonoids:H.flavonoids||0,oxalates:H.oxalates||0,lectins:H.lectins||0,saponins:H.saponins||0,goitrogens:H.goitrogens||0,tannins:H.tannins||0}};if(c(Ce),typeof window<"u"&&window.showToast){const de=S==="dairy"&&b==="egg"&&O==="piece"?k:ee,ht=S==="dairy"&&b==="egg"&&O==="piece"?"piece":"g";window.showToast(` ${ue(j)} ${de}${ht} added!`)}g(null),T(S==="dairy"?50:S==="fat"?100:300),Mt.current&&Mt.current(null)};return H&&(H.protein,H.fat,H.zinc,H.magnesium,H.iron,H.vitamin_b12,H.sodium),i.jsxs("div",{className:"flex flex-col gap-4 p-4 w-full max-w-md mx-auto pb-40 pt-36",children:[i.jsx("div",{className:"flex gap-2 mb-4 relative z-40",children:Yc.map(ee=>{const ue=S===ee.type;return i.jsx("button",{onClick:()=>{x(ee.type),g(null),I("g"),ee.type==="dairy"?T(50):ee.type==="fat"?T(100):T(300)},className:"flex-1 py-3 px-2 rounded-lg font-bold transition-all border-b-4 shadow-sm relative overflow-hidden active:scale-95",style:{backgroundColor:ue?"#b91c1c":"#f5f5f4",color:ue?"white":"#78716c",borderColor:ue?"#991b1b":"transparent",transform:ue?"scale(1.02)":"scale(1)",cursor:"pointer"},children:i.jsx("span",{className:"text-2xl block",children:ee.icon})},ee.type)})}),S==="plant"&&i.jsx("div",{className:"p-4 rounded-lg border-2 mb-4 relative z-40",style:{backgroundColor:"#fef3c7",borderColor:"#f59e0b",boxShadow:"0 4px 6px -1px rgba(245, 158, 11, 0.3)"},children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-2xl",style:{flexShrink:0},children:""}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-base mb-1",style:{color:"#92400e"},children:m("butcher.plantWarningTitle")||"Plant Food Precautions"}),i.jsx("p",{className:"text-sm leading-relaxed",style:{color:"#78350f"},children:m("butcher.plantWarningMessage")||"Plant foods contain antinutrients such as phytic acid, oxalic acid, and lectins, which may inhibit mineral absorption. The carnivore diet recommends animal foods."})]})]})}),i.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4 relative z-40",children:Te.parts.map(ee=>{const ue=b===ee.id,Ce=ga(S,ee.id),de=()=>Ce?y==="ja"?Ce.name_ja:y==="fr"?Ce.name_fr||Ce.name:y==="de"?Ce.name_de||Ce.name:y==="zh"?Ce.name_ja:Ce.name:ee.label;return i.jsxs("button",{onClick:()=>Ct(ee.id),className:`relative py-3 px-1 rounded-md text-sm font-bold transition-all active:scale-95 border-2 ${ue?"bg-red-900/40 text-white border-red-500 shadow-[0_0_15px_rgba(239,68,68,0.4)] z-10":"bg-stone-800/50 text-stone-500 border-stone-700/50 hover:bg-stone-800 hover:text-stone-300 hover:border-stone-500 opacity-80"}`,children:[ue&&i.jsx("span",{className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center shadow-sm border border-stone-900",children:i.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),de()]},ee.id)})}),b&&j&&i.jsx("div",{className:"bg-stone-900 rounded-xl shadow-lg border border-stone-700 overflow-hidden relative z-40",children:i.jsxs("div",{className:"p-4 border-b border-stone-800",children:[S==="fat"&&b==="salt"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"text-sm font-bold text-stone-400 block mb-2",children:m("butcher.saltType")}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsx("button",{onClick:()=>{const ee="table_salt";pe(ee),$({saltType:ee})},className:`px-4 py-2 rounded-lg text-sm font-bold transition-all border-2 ${re==="table_salt"?"bg-emerald-600 text-white border-emerald-400 shadow-[0_0_10px_rgba(5,150,105,0.6)] scale-105":"bg-stone-800 text-stone-500 border-stone-700 hover:bg-stone-700 hover:text-stone-300"}`,children:m("profile.tableSalt")}),i.jsx("button",{onClick:()=>{const ee="sea_salt";pe(ee),$({saltType:ee})},className:`px-4 py-2 rounded-lg text-sm font-bold transition-all border-2 ${re==="sea_salt"?"bg-emerald-600 text-white border-emerald-400 shadow-[0_0_10px_rgba(5,150,105,0.6)] scale-105":"bg-stone-800 text-stone-500 border-stone-700 hover:bg-stone-700 hover:text-stone-300"}`,children:m("profile.seaSalt")}),i.jsx("button",{onClick:()=>{const ee="himalayan_salt";pe(ee),$({saltType:ee})},className:`px-4 py-2 rounded-lg text-sm font-bold transition-all border-2 ${re==="himalayan_salt"?"bg-emerald-600 text-white border-emerald-400 shadow-[0_0_10px_rgba(5,150,105,0.6)] scale-105":"bg-stone-800 text-stone-500 border-stone-700 hover:bg-stone-700 hover:text-stone-300"}`,children:m("profile.himalayanSalt")}),i.jsx("button",{onClick:()=>{const ee="celtic_salt";pe(ee),$({saltType:ee})},className:`px-4 py-2 rounded-lg text-sm font-bold transition-all border-2 ${re==="celtic_salt"?"bg-emerald-600 text-white border-emerald-400 shadow-[0_0_10px_rgba(5,150,105,0.6)] scale-105":"bg-stone-800 text-stone-500 border-stone-700 hover:bg-stone-700 hover:text-stone-300"}`,children:m("profile.celticSalt")})]})]}),i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("label",{className:"text-sm font-bold text-stone-400 flex-1",children:m("butcher.quantity")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>q(Math.max(1,ie-1)),className:"w-10 h-10 flex items-center justify-center bg-stone-800 hover:bg-stone-700 border border-stone-600 rounded-lg font-bold text-lg text-stone-300",children:""}),i.jsx("input",{type:"number",min:"1",max:"100",value:ie,onChange:ee=>{const ue=parseInt(ee.target.value,10);!isNaN(ue)&&ue>=1&&(q(ue),T(ue*B.saltUnitWeight))},className:"w-16 text-center text-xl font-bold bg-stone-900 text-white border-2 border-stone-600 rounded-lg py-1"}),i.jsx("button",{onClick:()=>q(ie+1),className:"w-10 h-10 flex items-center justify-center bg-stone-800 hover:bg-stone-700 border border-stone-600 rounded-lg font-bold text-lg text-stone-300",children:"+"}),i.jsx("span",{className:"text-xl font-bold text-stone-300",children:m("butcher.grind")}),i.jsx("input",{type:"number",min:"0",max:"10",step:"0.1",value:B.saltUnitWeight,onChange:ee=>{const ue=parseFloat(ee.target.value);!isNaN(ue)&&ue>=0&&($({saltUnitWeight:ue}),T(ie*ue))},className:"w-14 text-center text-sm bg-stone-800 text-stone-300 border border-stone-600 rounded px-1 py-0.5 ml-1",title:m("butcher.perGrind")}),i.jsx("span",{className:"text-sm text-stone-500",children:"g"}),i.jsx("button",{onClick:ee=>{ee.preventDefault(),ee.stopPropagation(),$({saltUnitWeight:.5}),T(ie*.5)},className:"text-xs text-stone-500 hover:text-stone-300 ml-1",title:m("butcher.resetToDefault"),children:""})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between items-baseline mb-2",children:[i.jsx("label",{className:"text-sm font-bold text-stone-400",children:m("butcher.quantity")}),i.jsxs("span",{className:"text-2xl font-bold text-white",children:[k,["beef","pork","chicken","fish"].includes(S)?i.jsxs("select",{value:O,onChange:ee=>{const ue=ee.target.value;I(ue),T(ue==="oz"?10:ue==="lb"?1:300)},className:"ml-1 text-lg border-none bg-transparent font-bold text-stone-400 cursor-pointer focus:ring-0 py-0 pl-1 pr-6",style:{appearance:"auto"},children:[i.jsx("option",{value:"g",className:"bg-stone-800 text-white",children:"g"}),i.jsx("option",{value:"oz",className:"bg-stone-800 text-white",children:"oz"}),i.jsx("option",{value:"lb",className:"bg-stone-800 text-white",children:"lb"})]}):O==="piece"?m("butcher.piece"):"g"]})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("button",{onClick:()=>{let ee=10,ue=0;O==="piece"?(ee=1,ue=1):O==="oz"?ee=1:O==="lb"&&(ee=.5);const Ce=Math.max(ue,k-ee);T(Ce)},className:"w-11 h-11 min-w-[44px] min-h-[44px] flex items-center justify-center bg-stone-800 hover:bg-stone-700 border border-stone-600 rounded-lg text-2xl font-bold text-stone-300 transition-colors",style:{minWidth:"44px",minHeight:"44px"},children:"-"}),i.jsx("input",{type:"range",min:O==="piece"?"1":"0",max:O==="piece"?"10":O==="oz"?"50":O==="lb"?"5":"1000",step:O==="piece"||O==="oz"?"1":O==="lb"?"0.1":"10",value:k,onChange:ee=>{const ue=parseFloat(ee.target.value);isNaN(ue)||T(ue)},className:"flex-1 h-2 bg-stone-700 rounded-lg appearance-none cursor-pointer accent-red-600"}),i.jsx("button",{onClick:()=>{let ee=10,ue=1e3;O==="piece"?(ee=1,ue=10):O==="oz"?(ee=1,ue=50):O==="lb"&&(ee=.5,ue=5);const Ce=Math.min(ue,k+ee);T(Ce)},className:"w-11 h-11 min-w-[44px] min-h-[44px] flex items-center justify-center bg-stone-800 hover:bg-stone-700 border border-stone-600 rounded-lg text-2xl font-bold text-stone-300 transition-colors",style:{minWidth:"44px",minHeight:"44px"},children:"+"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("label",{className:"text-sm font-bold text-stone-400 block",children:[" Price (",B.currency,")"]}),i.jsxs("select",{value:B.currency,onChange:ee=>{$({currency:ee.target.value}),fe(0)},className:"text-xs py-1 px-2 rounded border border-stone-600 bg-stone-800 text-white",children:[i.jsx("option",{value:"USD",children:"USD ($)"}),i.jsx("option",{value:"EUR",children:"EUR ()"}),i.jsx("option",{value:"GBP",children:"GBP ()"}),i.jsx("option",{value:"AUD",children:"AUD ($)"}),i.jsx("option",{value:"CAD",children:"CAD ($)"}),i.jsx("option",{value:"JPY",children:"JPY ()"})]})]}),i.jsx("input",{type:"number",min:"0",step:B.currency==="USD"?"0.01":"1",value:se===0?"":se,onChange:ee=>{const ue=ee.target.value;if(ue===""){fe(0);return}const Ce=parseFloat(ue);isNaN(Ce)||fe(Ce)},placeholder:"0",className:"w-full py-2 px-4 rounded-lg border border-stone-600 bg-stone-800 text-white text-lg placeholder-stone-500 focus:ring-2 focus:ring-red-500 focus:border-transparent"}),se>0&&i.jsx("button",{onClick:ee=>{ee.preventDefault(),Tt()},className:"w-full mt-3 py-3 rounded-lg font-bold text-white shadow-lg transition-transform active:scale-95 flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #ef4444 0%, #b91c1c 100%)",fontSize:"18px",boxShadow:"0 4px 0 #991b1b"},children:" Measure ROI!"}),se>0&&K&&i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsxs("button",{onClick:()=>Z("muscle"),className:`relative flex-1 py-3 px-1 rounded-md text-xs font-bold transition-all active:scale-95 border-2 ${L==="muscle"?"bg-blue-900/40 text-blue-100 border-blue-500 shadow-[0_0_15px_rgba(37,99,235,0.4)] z-10":"bg-stone-800/50 text-stone-500 border-stone-700/50 hover:bg-stone-800 hover:text-stone-300 opacity-60 grayscale"}`,children:[L==="muscle"&&i.jsx("span",{className:"absolute -top-2 -right-1 w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center shadow-sm border border-stone-900",children:i.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})," Muscle"]}),i.jsxs("button",{onClick:()=>Z("energy"),className:`relative flex-1 py-3 px-1 rounded-md text-xs font-bold transition-all active:scale-95 border-2 ${L==="energy"?"bg-amber-900/40 text-amber-100 border-amber-500 shadow-[0_0_15px_rgba(217,119,6,0.4)] z-10":"bg-stone-800/50 text-stone-500 border-stone-700/50 hover:bg-stone-800 hover:text-stone-300 opacity-60 grayscale"}`,children:[L==="energy"&&i.jsx("span",{className:"absolute -top-2 -right-1 w-4 h-4 bg-amber-500 rounded-full flex items-center justify-center shadow-sm border border-stone-900",children:i.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})," Energy"]}),i.jsxs("button",{onClick:()=>Z("primal"),className:`relative flex-1 py-3 px-1 rounded-md text-xs font-bold transition-all active:scale-95 border-2 ${L==="primal"?"bg-red-900/40 text-red-100 border-red-500 shadow-[0_0_15px_rgba(220,38,38,0.4)] z-10":"bg-stone-800/50 text-stone-500 border-stone-700/50 hover:bg-stone-800 hover:text-stone-300 opacity-60 grayscale"}`,children:[L==="primal"&&i.jsx("span",{className:"absolute -top-2 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center shadow-sm border border-stone-900",children:i.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})," Primal"]})]}),L==="muscle"&&K.muscle&&i.jsxs("div",{className:`p-3 rounded-lg border-2 ${K.muscle.interpretation==="excellent"?"bg-green-50 border-green-500":K.muscle.interpretation==="good"?"bg-blue-50 border-blue-500":K.muscle.interpretation==="fair"?"bg-yellow-50 border-yellow-500":"bg-red-50 border-red-500"}`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-xs font-medium text-stone-600",children:"Muscle ROI"}),i.jsxs("span",{className:"text-lg font-bold",children:[typeof K.muscle.score=="number"?K.muscle.score.toFixed(2):K.muscle.score,i.jsx("span",{className:"text-xs ml-1",children:K.muscle.unit})]})]}),i.jsx("p",{className:"text-xs text-stone-500 mt-1",children:K.muscle.interpretation==="excellent"?" Excellent! Best protein value":K.muscle.interpretation==="good"?" Good! Great protein value":K.muscle.interpretation==="fair"?" Fair. Could be cheaper":" Expensive. Consider other options"})]}),L==="energy"&&K.energy&&i.jsxs("div",{className:`p-3 rounded-lg border-2 ${K.energy.interpretation==="excellent"?"bg-green-50 border-green-500":K.energy.interpretation==="good"?"bg-blue-50 border-blue-500":K.energy.interpretation==="fair"?"bg-yellow-50 border-yellow-500":"bg-red-50 border-red-500"}`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-xs font-medium text-stone-600",children:"Energy ROI"}),i.jsxs("span",{className:"text-lg font-bold",children:[typeof K.energy.score=="number"?K.energy.score.toFixed(2):K.energy.score,i.jsx("span",{className:"text-xs ml-1",children:K.energy.unit})]})]}),i.jsx("p",{className:"text-xs text-stone-500 mt-1",children:K.energy.interpretation==="excellent"?" Excellent! Best fat value":K.energy.interpretation==="good"?" Good! Great fat value":K.energy.interpretation==="fair"?" Fair. Could be cheaper":" Expensive. Consider other options"})]}),L==="primal"&&K.primal&&i.jsxs("div",{className:`p-3 rounded-lg border-2 ${K.primal.interpretation==="excellent"?"bg-green-50 border-green-500":K.primal.interpretation==="good"?"bg-blue-50 border-blue-500":K.primal.interpretation==="fair"?"bg-yellow-50 border-yellow-500":"bg-red-50 border-red-500"}`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-xs font-medium text-stone-600",children:"Primal ROI (God Mode)"}),i.jsxs("span",{className:"text-lg font-bold",children:[typeof K.primal.score=="number"?K.primal.score.toFixed(2):K.primal.score,i.jsx("span",{className:"text-xs ml-1",children:K.primal.unit})]})]}),i.jsx("p",{className:"text-xs text-stone-500 mt-1",children:K.primal.interpretation==="excellent"?" Best! Highest nutrition density  value":K.primal.interpretation==="good"?" Good! Overall excellent":K.primal.interpretation==="fair"?" Fair. Not bad":" Poor. Consider other options"})]})]})]}),["beef","pork","chicken","fish"].includes(S)&&i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"text-sm font-bold text-stone-700 block mb-2",children:"Condition at Time of Measurement"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>M("raw"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors ${he==="raw"?"bg-red-600 text-white":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:"Raw"}),i.jsx("button",{onClick:()=>M("cooked"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors ${he==="cooked"?"bg-red-600 text-white":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:"Cooked"})]}),he==="cooked"&&i.jsxs("p",{className:"text-xs text-stone-500 mt-1",children:[k,"g cooked = ",Math.round(k*1.33),"g raw equivalent"]})]}),H&&S!=="plant"&&(()=>{const ee=["vitaminA","vitaminD","vitaminK2","calcium","phosphorus"],ue={protein:{label:m("customFood.protein"),currentDailyTotal:p.protein||0,previewAmount:H.protein,target:yn.protein,color:"#3b82f6",unit:"g"},fat:{label:m("customFood.fat"),currentDailyTotal:p.fat||0,previewAmount:H.fat,target:yn.fat,color:"#3b82f6",unit:"g"},zinc:{label:m("customFood.zinc"),currentDailyTotal:p.zinc||0,previewAmount:H.zinc,target:yn.zinc,color:"#06b6d4",unit:"mg"},magnesium:{label:m("customFood.magnesium"),currentDailyTotal:p.magnesium||0,previewAmount:H.magnesium,target:Gi.magnesium?.target,color:"#06b6d4",unit:"mg",logic:Gi.magnesium?.logic,hint:m("butcher.magnesiumHint")},iron:{label:m("customFood.iron"),currentDailyTotal:(p.hemeIron||0)+(p.nonHemeIron||0),previewAmount:H.iron,target:yn.iron,color:"#06b6d4",unit:"mg"},potassium:{label:m("customFood.potassium"),currentDailyTotal:p.potassium||0,previewAmount:H.potassium,target:Gi.potassium?.target,color:"#10b981",unit:"mg",logic:Gi.potassium?.logic},sodium:{label:m("customFood.sodium"),currentDailyTotal:p.sodium||0,previewAmount:H.sodium,target:Gi.sodium?.min,color:"#10b981",unit:"mg",logic:Gi.sodium?.logic},vitaminA:{label:m("customFood.vitaminA"),currentDailyTotal:p.vitamin_a||0,previewAmount:H.vitamin_a,target:yn.vitamin_a,color:"#a855f7",unit:"IU"},vitaminD:{label:m("customFood.vitaminD"),currentDailyTotal:p.vitamin_d||0,previewAmount:H.vitamin_d,target:yn.vitamin_d,color:"#a855f7",unit:"IU"},vitaminK2:{label:m("customFood.vitaminK2"),currentDailyTotal:p.vitamin_k2||0,previewAmount:H.vitamin_k2,target:yn.vitamin_k2,color:"#a855f7",unit:"g"},vitaminB12:{label:m("customFood.vitaminB12"),currentDailyTotal:p.vitamin_b12||0,previewAmount:H.vitamin_b12,target:yn.vitamin_b12,color:"#3b82f6",unit:"g"},vitaminB7:{label:m("customFood.vitaminB7"),currentDailyTotal:p.vitamin_b7||0,previewAmount:H.vitamin_b7,target:30,color:"#3b82f6",unit:"g",hint:ce==="raw"&&S==="dairy"&&b==="egg"?m("butcher.biotinBlockedHint"):void 0},choline:{label:m("customFood.choline"),currentDailyTotal:p.choline||0,previewAmount:H.choline,target:yn.choline,color:"#3b82f6",unit:"mg"},iodine:{label:m("customFood.iodine"),currentDailyTotal:p.iodine||0,previewAmount:H.iodine,target:150,color:"#3b82f6",unit:"g"},calcium:{label:m("customFood.calcium"),currentDailyTotal:p.calcium||0,previewAmount:H.calcium,target:1e3,color:"#3b82f6",unit:"mg"},phosphorus:{label:m("customFood.phosphorus"),currentDailyTotal:p.phosphorus||0,previewAmount:H.phosphorus,target:700,color:"#3b82f6",unit:"mg"},glycine:{label:m("customFood.glycine"),currentDailyTotal:p.glycine||0,previewAmount:H.glycine,target:0,color:"#3b82f6",unit:"g",showLowIsOk:!0},methionine:{label:m("customFood.methionine"),currentDailyTotal:p.methionine||0,previewAmount:H.methionine,target:0,color:"#3b82f6",unit:"g",showLowIsOk:!0},omegaRatio:{label:m("butcher.omega36Ratio"),currentDailyTotal:0,previewAmount:0,target:0,color:"#3b82f6",unit:"",isRatio:!0}},Ce=uv(be,W,Object.fromEntries(Object.entries(ue).map(([de,ht])=>[de,{currentDailyTotal:ht.currentDailyTotal,previewAmount:ht.previewAmount,target:ht.target}])));return i.jsxs("div",{className:"mt-4",children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[i.jsx("h3",{className:"text-sm font-semibold text-stone-600",children:m("butcher.nutrientBreakdown")}),i.jsxs("select",{value:W,onChange:de=>me(de.target.value),style:{padding:"0.25rem 0.5rem",fontSize:"12px",border:"1px solid #d1d5db",borderRadius:"4px",backgroundColor:"white",cursor:"pointer"},children:[i.jsx("option",{value:"default",children:m("butcher.sortByPriority")}),i.jsx("option",{value:"deficiency",children:m("butcher.sortByDeficiency")})]})]}),i.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",display:"flex",flexDirection:"column",gap:0,padding:"0.5rem",backgroundColor:"transparent",borderRadius:"8px",border:"1px solid #e5e7eb"},children:(()=>{const de=au(),ht={protein:"protein",fat:"fat",zinc:"zinc",magnesium:"magnesium",iron:"iron",potassium:"potassium",sodium:"sodium",vitaminA:"vitaminA",vitaminD:"vitaminD",vitaminK2:"vitaminK2",vitaminB12:"vitaminB12",vitaminB7:"vitaminB7",choline:"choline",iodine:"iodine",calcium:"calcium",phosphorus:"phosphorus",glycine:"glycineMethionineRatio",methionine:"glycineMethionineRatio",omegaRatio:"omegaRatio"},ut={protein:"protein",fat:"fat",zinc:"zinc",magnesium:"magnesium",iron:"iron",potassium:"potassium",sodium:"sodium",vitaminA:"vitamin_a",vitaminD:"vitamin_d",vitaminK2:"vitamin_k2",vitaminB12:"vitamin_b12",choline:"choline"};return Ce.filter(ot=>{if(ee.includes(ot.key))return!1;const Et=ht[ot.key];return Et?ot.key==="glycine"||ot.key==="methionine"?de.glycineMethionineRatio!==!1:de[Et]!==!1:!0}).map((ot,Et)=>{const rt=ue[ot.key];return rt?i.jsx("div",{children:i.jsx("div",{children:rt.isRatio?i.jsx(Tv,{omega3:H.omega_3,omega6:H.omega_6}):i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:rt.currentDailyTotal,previewAmount:rt.previewAmount,target:rt.target,color:rt.color,unit:rt.unit,logic:rt.logic,hint:rt.hint,showLowIsOk:rt.showLowIsOk,nutrientKey:ut[ot.key]||void 0}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:rt.label})]})})},ot.key):null})})()})]})})(),H&&S!=="plant"&&(()=>{const ee=[{key:"vitaminA",label:m("customFood.vitaminA"),currentStorage:80,dailyIntake:H.vitamin_a,dailyRequirement:yn.vitamin_a,unit:"IU"},{key:"vitaminD",label:m("customFood.vitaminD"),currentStorage:75,dailyIntake:H.vitamin_d,dailyRequirement:yn.vitamin_d,unit:"IU"},{key:"vitaminK2",label:m("customFood.vitaminK2"),currentStorage:70,dailyIntake:H.vitamin_k2,dailyRequirement:yn.vitamin_k2,unit:"g"},{key:"calcium",label:m("customFood.calcium"),currentStorage:85,dailyIntake:H.calcium,dailyRequirement:1e3,unit:"mg"},{key:"phosphorus",label:m("customFood.phosphorus"),currentStorage:80,dailyIntake:H.phosphorus,dailyRequirement:700,unit:"mg"}];return ee.some(Ce=>Ce.dailyIntake>0||Ce.currentStorage>0)?i.jsxs("div",{className:"mt-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-stone-600 mb-2",style:{color:"#a855f7"},children:"Storage Nutrients"}),i.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",display:"flex",flexDirection:"column",gap:0,padding:0,backgroundColor:"transparent",borderRadius:"8px",border:"1px solid #e9d5ff"},children:ee.map(Ce=>i.jsx(bv,{label:Ce.label,currentStorage:Ce.currentStorage,dailyIntake:Ce.dailyIntake,dailyRequirement:Ce.dailyRequirement,unit:Ce.unit,color:"#a855f7"},Ce.key))})]}):null})(),bt.avoidZone&&(()=>{const ee=S==="plant",ue={plantProteinMax:0,vegetableOilMax:0,fiberMax:0,netCarbsMax:20,phytatesMax:0,polyphenolsMax:0,flavonoidsMax:0,oxalatesMax:0,lectinsMax:0,saponinsMax:0,goitrogensMax:0,tanninsMax:0},Ce={plantProtein:p.plantProtein||0,vegetableOil:p.vegetableOil||0,fiber:p.fiber||0,netCarbs:p.netCarbs||0,phytates:p.phytates||0,polyphenols:p.polyphenols||0,flavonoids:p.flavonoids||0,oxalates:p.oxalates||0,lectins:p.lectins||0,saponins:p.saponins||0,goitrogens:p.goitrogens||0,tannins:p.tannins||0},de={plantProtein:H?.plantProtein||0,vegetableOil:H?.vegetableOil||0,fiber:H?.fiber||0,netCarbs:H?.netCarbs||0,phytates:H?.phytates||0,polyphenols:H?.polyphenols||0,flavonoids:H?.flavonoids||0,oxalates:H?.oxalates||0,lectins:H?.lectins||0,saponins:H?.saponins||0,goitrogens:H?.goitrogens||0,tannins:H?.tannins||0};if(!(Object.values(Ce).some(We=>We>0)||Object.values(de).some(We=>We>0))&&!ee)return null;const ut=[{key:"plantProtein",label:m("butcher.plantProtein"),unit:"g",current:Ce.plantProtein,preview:de.plantProtein,max:ue.plantProteinMax},{key:"vegetableOil",label:m("butcher.vegetableOil"),unit:"g",current:Ce.vegetableOil,preview:de.vegetableOil,max:ue.vegetableOilMax},{key:"fiber",label:m("butcher.fiber"),unit:"g",current:Ce.fiber,preview:de.fiber,max:ue.fiberMax},{key:"netCarbs",label:m("butcher.netCarbs"),unit:"g",current:Ce.netCarbs,preview:de.netCarbs,max:ue.netCarbsMax}],ot=[{key:"phytates",label:m("butcher.phytates"),unit:"mg",current:Ce.phytates,preview:de.phytates,max:ue.phytatesMax},{key:"polyphenols",label:m("butcher.polyphenols"),unit:"mg",current:Ce.polyphenols,preview:de.polyphenols,max:ue.polyphenolsMax},{key:"flavonoids",label:m("butcher.flavonoids"),unit:"mg",current:Ce.flavonoids,preview:de.flavonoids,max:ue.flavonoidsMax},{key:"oxalates",label:m("butcher.oxalates"),unit:"mg",current:Ce.oxalates,preview:de.oxalates,max:ue.oxalatesMax},{key:"lectins",label:m("butcher.lectins"),unit:"mg",current:Ce.lectins,preview:de.lectins,max:ue.lectinsMax},{key:"saponins",label:m("butcher.saponins"),unit:"mg",current:Ce.saponins,preview:de.saponins,max:ue.saponinsMax},{key:"goitrogens",label:m("butcher.goitrogens"),unit:"mg",current:Ce.goitrogens,preview:de.goitrogens,max:ue.goitrogensMax},{key:"tannins",label:m("butcher.tannins"),unit:"mg",current:Ce.tannins,preview:de.tannins,max:ue.tanninsMax}],Et=X?ot:ot.filter(We=>We.preview>0||We.current>0),rt=ot.length>0;return i.jsxs("div",{className:"mt-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-stone-600 mb-2",style:{color:"#dc2626"},children:m("butcher.avoidZone")}),i.jsxs("div",{style:{maxHeight:"400px",overflowY:"auto",display:"flex",flexDirection:"column",gap:0,padding:"0.5rem",backgroundColor:"transparent",borderRadius:"8px",border:"1px solid #fecaca"},children:[ut.map(We=>i.jsx(fg,{label:We.label,currentDailyTotal:We.current,previewAmount:We.preview,max:We.max,unit:We.unit},We.key)),Et.map(We=>i.jsx(fg,{label:We.label,currentDailyTotal:We.current,previewAmount:We.preview,max:We.max,unit:We.unit},We.key)),rt&&i.jsx("button",{onClick:()=>ae(!X),style:{marginTop:"0.5rem",padding:"0.5rem 1rem",backgroundColor:X?"#dc2626":"#f3f4f6",color:X?"white":"#374151",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},children:m(X?"butcher.collapse":"butcher.showMore")})]})]})})()]})}),c&&i.jsx("div",{className:"mt-4 space-y-3",children:b&&j&&i.jsxs("button",{onClick:On,className:"w-full py-4 text-white font-bold text-lg rounded-xl shadow-xl active:scale-95 transition-transform flex items-center justify-center gap-2",style:{backgroundColor:"#dc2626"},children:[i.jsx("span",{children:""})," ",(()=>{const ee=Te.parts.find(de=>de.id===b);if(!ee)return"";const ue=ga(S,ee.id);return ue?(y==="ja"?ue.name_ja:y==="fr"?ue.name_fr||ue.name:y==="de"?ue.name_de||ue.name:y==="zh"?ue.name_ja:ue.name)+m("butcher.add"):ee.label+m("butcher.add")})()]})})]})}function _v({previewData:l=null,showPreview:o=!0}){const{dailyLog:u,userProfile:c}=Zi(),v=o&&l?.protein!==void 0?l.protein:u?.calculatedMetrics?.animalEffectiveProtein??u?.calculatedMetrics?.effectiveProtein??0,p=o&&l?.fat!==void 0?l.fat:u?.calculatedMetrics?.fatTotal??0,m=Re(c?.gender,c?.age,c?.activityLevel,c?.isPregnant,c?.isBreastfeeding,c?.isPostMenopause,c?.stressLevel,c?.sleepHours,c?.exerciseIntensity,c?.exerciseFrequency,c?.thyroidFunction,c?.sunExposureFrequency,c?.digestiveIssues,c?.inflammationLevel,c?.mentalHealthStatus,c?.supplementMagnesium,c?.supplementVitaminD,c?.supplementIodine,c?.alcoholFrequency,c?.caffeineIntake),y=u?.calculatedMetrics?.proteinRequirement??m.protein??110,S=m.fat??150,x=y>0?Math.min(v/y*100,200):0,b=S>0?Math.min(p/S*100,200):0,g=x>=100,k=b>=100;return i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,zIndex:50,backgroundColor:"transparent",borderBottom:"none",boxShadow:"none",height:"90px",padding:"10px 16px",display:"flex",flexDirection:"column",justifyContent:"center",gap:"8px",pointerEvents:"none"},children:i.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",width:"100%",pointerEvents:"auto"},children:[i.jsx("div",{className:"flex items-center gap-2 mb-1",children:i.jsx("div",{className:"flex-1 h-3 bg-stone-200 rounded-full overflow-hidden relative shadow-inner",children:i.jsx("div",{style:{width:`${Math.min(x,100)}%`},className:`h-full bg-gradient-to-r ${g?"from-green-600 to-green-400":"from-red-900 to-red-500"} shadow-[0_0_10px_rgba(239,68,68,0.6)] transition-all duration-300`})})}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("div",{className:"flex-1 h-3 bg-stone-200 rounded-full overflow-hidden relative shadow-inner",children:i.jsx("div",{style:{width:`${Math.min(b,100)}%`},className:`h-full bg-gradient-to-r ${k?"from-green-600 to-green-400":"from-yellow-700 to-yellow-400"} shadow-[0_0_10px_rgba(234,179,8,0.6)] transition-all duration-300`})})})]})})}function kv(){const[l,o]=f.useState(null),[u,c]=f.useState(null);f.useEffect(()=>{v()},[]);const v=f.useCallback(async()=>{try{const b=await Tl();c(b||null)}catch{}},[]),p=f.useCallback(async()=>{try{return await Yi()}catch{return[]}},[]),m=f.useCallback(b=>{o(b)},[]),y=f.useCallback(b=>{o(g=>g?{...g,...b}:{protein:0,fat:0,...b})},[]),S=f.useCallback(b=>{o(g=>g?{...g,protein:(g.protein||0)+(b.protein||0),fat:(g.fat||0)+(b.fat||0),zinc:(g.zinc||0)+(b.zinc||0),magnesium:(g.magnesium||0)+(b.magnesium||0),iron:(g.iron||0)+(b.iron||0),vitamin_b12:(g.vitamin_b12||0)+(b.vitamin_b12||0),vitaminC:(g.vitaminC||0)+(b.vitaminC||0),vitaminK:(g.vitaminK||0)+(b.vitaminK||0),sodium:(g.sodium||0)+(b.sodium||0)}:{protein:0,fat:0,...b})},[]),x=f.useCallback(()=>{o(null)},[]);return{previewData:l,todayLog:u,setPreview:m,updatePreview:y,addToPreview:S,clearPreview:x,loadTodayLog:v,loadAllLogs:p}}const qn={tier1:["fat","protein","sodium","potassium","magnesium"],tier2:["omegaRatio","iron","zinc","vitaminD","vitaminA","vitaminK2","vitaminB12","choline","glycineMethionineRatio","calciumPhosphorusRatio"],tier3:["carbs","netCarbs","fiber","calcium","phosphorus","selenium","copper","manganese","iodine","chromium","molybdenum","fluoride","chloride","boron","nickel","silicon","vanadium","vitaminK","vitaminE","vitaminC","vitaminB1","vitaminB2","vitaminB3","vitaminB5","vitaminB6","vitaminB7","vitaminB9","taurine","omega3","omega6","pfRatio","phytates","polyphenols","flavonoids","anthocyanins","oxalates","lectins","saponins","goitrogens","tannins","trypsinInhibitors","proteaseInhibitors","cyanogenicGlycosides","solanine","chaconine","plantProtein","vegetableOil"]},gg={electrolytes:["sodium","potassium","magnesium"],macros:["fat","protein"]};function Nv(l){switch(l){case"simple":return qn.tier1;case"standard":return[...qn.tier1,...qn.tier2];case"detailed":return[...qn.tier1,...qn.tier2,...qn.tier3];default:return qn.tier1}}function hl(l,o){return Nv(o).includes(l)}const Bg="primal_logic_nutrient_display_mode";function pg(){try{const l=localStorage.getItem(Bg);if(l==="debug")return"detailed";if(l&&["simple","standard","detailed"].includes(l))return l}catch{}return"standard"}function Fg(l){try{localStorage.setItem(Bg,l),window.dispatchEvent(new CustomEvent("nutrientDisplayModeChanged"))}catch{}}function Zc(l){switch(l){case"simple":return'For carnivore practitioners. Display only electrolytes and fat. Return from "numerical management" to "body sensation".';case"standard":return"For beginners. Display 10 important nutrients. Comfortable amount of information.";case"detailed":return"For data-focused users. Display all nutrients (60+ items).";default:return""}}function zv(l){switch(l){case"carnivore_practitioner":return"simple";case"beginner":return"standard";case"data_focused":return"detailed";default:return"standard"}}const Xo=()=>{const[l,o]=f.useState(()=>{const V=localStorage.getItem("settings_show_knowledge");return V?JSON.parse(V):!1}),[u,c]=f.useState(()=>{const V=localStorage.getItem("settings_show_nutrient_preview");return V?JSON.parse(V):!0}),[v,p]=f.useState(()=>localStorage.getItem("app_font_size")||"medium"),[m,y]=f.useState(()=>{const V=localStorage.getItem("settings_debug_mode");return V!==null?JSON.parse(V):!0}),[S,x]=f.useState(()=>{const V=localStorage.getItem("settings_dark_mode");return V?JSON.parse(V):!1}),[b,g]=f.useState(()=>localStorage.getItem("settings_ai_mode")||"purist"),[k,T]=f.useState(()=>{const V=localStorage.getItem("primal_logic_tips_enabled");return V!==null?JSON.parse(V):!0}),[O,I]=f.useState(()=>pg()),ie=()=>{const V=!l;o(V),localStorage.setItem("settings_show_knowledge",JSON.stringify(V))},q=()=>{const V=!u;c(V),localStorage.setItem("settings_show_nutrient_preview",JSON.stringify(V))},B=V=>{p(V),localStorage.setItem("app_font_size",V);const ve=V==="small"?"14px":V==="medium"?"16px":V==="large"?"18px":"20px";document.documentElement.style.setProperty("--app-font-size",ve),document.body.style.fontSize=ve;const he=document.getElementById("root");he&&(he.style.fontSize=ve)},$=()=>{const V=!m;y(V),localStorage.setItem("settings_debug_mode",JSON.stringify(V)),window.dispatchEvent(new CustomEvent("debugModeChanged")),window.location.reload()},re=()=>{const V=!S;x(V),localStorage.setItem("settings_dark_mode",JSON.stringify(V)),V?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme")},pe=V=>{g(V),localStorage.setItem("settings_ai_mode",V)},ce=()=>{const V=!k;T(V),localStorage.setItem("primal_logic_tips_enabled",JSON.stringify(V))},Ne=V=>{I(V),Fg(V)};return f.useEffect(()=>{const V=localStorage.getItem("settings_show_knowledge");V!==null&&o(JSON.parse(V));const ve=localStorage.getItem("settings_show_nutrient_preview");ve!==null?c(JSON.parse(ve)):localStorage.setItem("settings_show_nutrient_preview",JSON.stringify(!0))},[]),f.useEffect(()=>{const V=he=>{const M=he==="small"?"14px":he==="medium"?"16px":he==="large"?"18px":"20px";document.documentElement.style.setProperty("--app-font-size",M),document.body.style.fontSize=M;const be=document.getElementById("root");be&&(be.style.fontSize=M)},ve=localStorage.getItem("app_font_size");ve?(p(ve),V(ve)):(p("medium"),V("medium"))},[]),f.useEffect(()=>{const V=localStorage.getItem("settings_debug_mode");V!==null&&y(JSON.parse(V))},[]),f.useEffect(()=>{const V=localStorage.getItem("settings_dark_mode");(V?JSON.parse(V):!1)?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme")},[]),f.useEffect(()=>{const V=localStorage.getItem("settings_ai_mode");V&&g(V)},[]),f.useEffect(()=>{const V=localStorage.getItem("primal_logic_tips_enabled");V!==null?T(JSON.parse(V)):localStorage.setItem("primal_logic_tips_enabled",JSON.stringify(!0))},[]),f.useEffect(()=>{const V=()=>{const he=pg();I(he)};window.addEventListener("storage",V);const ve=()=>{V()};return window.addEventListener("nutrientDisplayModeChanged",ve),V(),()=>{window.removeEventListener("storage",V),window.removeEventListener("nutrientDisplayModeChanged",ve)}},[]),{showKnowledge:l,toggleKnowledge:ie,showNutrientPreview:u,toggleNutrientPreview:q,fontSize:v,setFontSize:B,debugMode:m,toggleDebugMode:$,darkMode:S,toggleDarkMode:re,aiMode:b,setAiMode:pe,tipsEnabled:k,toggleTips:ce,nutrientDisplayMode:O,setNutrientDisplayMode:Ne}},Ml="primal_logic_my_foods";function Wo(){try{const l=localStorage.getItem(Ml);return l?JSON.parse(l):[]}catch{return[]}}function Lg(l){try{const o=Wo();o.some(c=>c.foodName===l.foodName&&c.amount===l.amount&&c.unit===l.unit)||(o.push(l),localStorage.setItem(Ml,JSON.stringify(o)))}catch{}}function hg(l){try{const u=Wo().filter(c=>!(c.foodName===l.foodName&&c.amount===l.amount&&c.unit===l.unit));localStorage.setItem(Ml,JSON.stringify(u))}catch{}}function Dv(l){try{return Wo().find(u=>u.id===l)||null}catch{return null}}function Av(l,o){try{const u=Wo(),c=u.findIndex(v=>v.id===l);c!==-1&&(u[c]={...o,id:l},localStorage.setItem(Ml,JSON.stringify(u)))}catch{}}function Mv(l){try{const o=`custom_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,u={...l,id:o};return Lg(u),o}catch(o){throw o}}const xl={beef_ribeye:{id:"beef_ribeye",name:"Beef Ribeye",type:"ruminant",nutrientsRaw:{protein:20,fat:20,carbs:0,fiber:0,hemeIron:2.3,vitaminA:0,vitaminC:0,vitaminK:1.1,zinc:4.3,sodium:54,magnesium:20},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},beef_ground:{id:"beef_ground",name:"Ground Beef (80/20)",type:"ruminant",nutrientsRaw:{protein:20,fat:20,carbs:0,fiber:0,hemeIron:2.3,vitaminA:0,vitaminC:0,vitaminK:1.1,zinc:4.3,sodium:75,magnesium:18},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},lamb_chop:{id:"lamb_chop",name:"Lamb Chop",type:"ruminant",nutrientsRaw:{protein:25,fat:21,carbs:0,fiber:0,hemeIron:1.8,vitaminA:0,vitaminC:0,vitaminK:1.2,zinc:4.5,sodium:65,magnesium:22},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},eggs:{id:"eggs",name:"Eggs (whole)",type:"animal",pieceWeight:50,preferredUnit:"piece",nutrientsRaw:{protein:13,fat:11,carbs:1.1,fiber:0,hemeIron:1.8,vitaminA:160,vitaminC:0,vitaminK:.3,zinc:1.1,sodium:140,magnesium:12},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},salmon:{id:"salmon",name:"Salmon",type:"animal",nutrientsRaw:{protein:20,fat:13,carbs:0,fiber:0,hemeIron:.8,vitaminA:12,vitaminC:0,vitaminK:.1,zinc:.6,sodium:44,magnesium:30},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},butter:{id:"butter",name:"Butter",type:"dairy",nutrientsRaw:{protein:.9,fat:81,carbs:.1,fiber:0,hemeIron:0,vitaminA:684,vitaminC:0,vitaminK:7,zinc:.1,sodium:11,magnesium:2},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},cheese_cheddar:{id:"cheese_cheddar",name:"Cheddar Cheese",type:"dairy",nutrientsRaw:{protein:25,fat:33,carbs:1.3,fiber:0,hemeIron:.7,vitaminA:265,vitaminC:0,vitaminK:2.8,zinc:3.1,sodium:621,magnesium:27,calcium:721},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},spinach:{id:"spinach",name:"Spinach (raw)",type:"plant",flags:["high_oxalate"],nutrientsRaw:{protein:2.9,fat:.4,carbs:3.6,fiber:2.2,nonHemeIron:2.7,vitaminA:9377,vitaminC:28.1,vitaminK:482.9,zinc:.5,sodium:79,magnesium:79,calcium:99},bioCoefficients:{protein:.6,iron:.1,vitaminA:.03,vitaminK:.1,zinc:.2}},tempura:{id:"tempura",name:"Tempura",type:"trash",flags:["seed_oil","high_carb"],nutrientsRaw:{protein:6,fat:18,carbs:25,fiber:1.5,nonHemeIron:1.2,vitaminA:0,vitaminC:0,vitaminK:0,zinc:.5,sodium:400,magnesium:15},bioCoefficients:{protein:.6,iron:.1,vitaminA:0,vitaminK:0,zinc:.2}},pork_belly:{id:"pork_belly",name:"",type:"animal",nutrientsRaw:{protein:14,fat:50,carbs:0,fiber:0,hemeIron:.8,vitaminA:0,vitaminC:0,vitaminK:0,zinc:1.9,sodium:50,magnesium:15},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},pork_loin:{id:"pork_loin",name:"",type:"animal",nutrientsRaw:{protein:22,fat:10,carbs:0,fiber:0,hemeIron:.9,vitaminA:0,vitaminC:0,vitaminK:0,zinc:2.2,sodium:60,magnesium:20},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},pork_shoulder:{id:"pork_shoulder",name:"",type:"animal",nutrientsRaw:{protein:20,fat:15,carbs:0,fiber:0,hemeIron:.9,vitaminA:0,vitaminC:0,vitaminK:0,zinc:2.1,sodium:55,magnesium:18},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},pork_ribs:{id:"pork_ribs",name:"",type:"animal",nutrientsRaw:{protein:18,fat:25,carbs:0,fiber:0,hemeIron:.8,vitaminA:0,vitaminC:0,vitaminK:0,zinc:2,sodium:70,magnesium:16},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},pork_ground:{id:"pork_ground",name:"",type:"animal",nutrientsRaw:{protein:16,fat:30,carbs:0,fiber:0,hemeIron:.7,vitaminA:0,vitaminC:0,vitaminK:0,zinc:1.8,sodium:65,magnesium:14},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},beef_sirloin:{id:"beef_sirloin",name:"Beef Sirloin",type:"ruminant",nutrientsRaw:{protein:22,fat:8,carbs:0,fiber:0,hemeIron:2.5,vitaminA:0,vitaminC:0,vitaminK:1,zinc:4.5,sodium:50,magnesium:22},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},beef_chuck:{id:"beef_chuck",name:"Beef Chuck",type:"ruminant",nutrientsRaw:{protein:19,fat:15,carbs:0,fiber:0,hemeIron:2.2,vitaminA:0,vitaminC:0,vitaminK:1,zinc:4.2,sodium:60,magnesium:20},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},bread:{id:"bread",name:"Bread (white)",type:"trash",flags:["high_carb","wheat"],nutrientsRaw:{protein:9,fat:3.2,carbs:49,fiber:2.7,nonHemeIron:3.6,vitaminA:0,vitaminC:0,vitaminK:.2,zinc:.7,sodium:681,magnesium:22},bioCoefficients:{protein:.6,iron:.1,vitaminA:0,vitaminK:.1,zinc:.2}},rice:{id:"rice",name:"Rice (white, cooked)",type:"trash",flags:["high_carb"],nutrientsRaw:{protein:2.7,fat:.3,carbs:28,fiber:.4,nonHemeIron:.8,vitaminA:0,vitaminC:0,vitaminK:0,zinc:.6,sodium:1,magnesium:13},bioCoefficients:{protein:.6,iron:.1,vitaminA:0,vitaminK:0,zinc:.2}},beef_liver:{id:"beef_liver",name:"",type:"ruminant",flags:["organ","high_vitamin_a"],nutrientsRaw:{protein:20,fat:3.6,carbs:3.9,fiber:0,hemeIron:6.5,vitaminA:16898,vitaminC:1.3,vitaminK:3.1,vitaminB1:.2,vitaminB2:3.4,vitaminB3:17.5,vitaminB6:1,vitaminB12:59.3,vitaminE:.5,zinc:4,sodium:69,magnesium:18,calcium:5,phosphorus:387,selenium:39.7,copper:14.6,manganese:.3},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},beef_heart:{id:"beef_heart",name:"",type:"ruminant",flags:["organ","high_coq10"],nutrientsRaw:{protein:17,fat:3.9,carbs:.1,fiber:0,hemeIron:4.3,vitaminA:0,vitaminC:2,vitaminK:0,vitaminB1:.3,vitaminB2:.7,vitaminB3:7.3,vitaminB6:.3,vitaminB12:10.2,vitaminE:.2,zinc:2.3,sodium:98,magnesium:20,calcium:5,phosphorus:212,selenium:21.8,copper:.4,manganese:.1},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},beef_kidney:{id:"beef_kidney",name:"",type:"ruminant",flags:["organ","high_selenium"],nutrientsRaw:{protein:17,fat:3.1,carbs:.3,fiber:0,hemeIron:4.6,vitaminA:157,vitaminC:9.4,vitaminK:0,vitaminB1:.4,vitaminB2:2.8,vitaminB3:7.7,vitaminB6:.3,vitaminB12:27.5,vitaminE:.2,zinc:1.9,sodium:182,magnesium:17,calcium:13,phosphorus:257,selenium:141,copper:.4,manganese:.1},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},beef_spleen:{id:"beef_spleen",name:"",type:"ruminant",flags:["organ","high_iron"],nutrientsRaw:{protein:17,fat:3,carbs:0,fiber:0,hemeIron:44.6,vitaminA:0,vitaminC:46,vitaminK:0,vitaminB1:.1,vitaminB2:.3,vitaminB3:4.6,vitaminB6:.1,vitaminB12:4.5,vitaminE:.1,zinc:2.7,sodium:126,magnesium:20,calcium:10,phosphorus:277,selenium:28.4,copper:.2,manganese:.1},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},beef_brain:{id:"beef_brain",name:"",type:"ruminant",flags:["organ","high_dha"],nutrientsRaw:{protein:10,fat:10.3,carbs:1.1,fiber:0,hemeIron:4.6,vitaminA:0,vitaminC:0,vitaminK:0,vitaminB1:.1,vitaminB2:.2,vitaminB3:4.2,vitaminB6:.1,vitaminB12:10.1,vitaminE:1,zinc:1.1,sodium:126,magnesium:12,calcium:12,phosphorus:335,selenium:21.1,copper:.2,manganese:.1},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}},beef_tallow:{id:"beef_tallow",name:"",type:"ruminant",flags:["fat","pure_fat"],nutrientsRaw:{protein:0,fat:100,carbs:0,fiber:0,hemeIron:0,vitaminA:0,vitaminC:0,vitaminK:0,vitaminB1:0,vitaminB2:0,vitaminB3:0,vitaminB6:0,vitaminB12:0,vitaminE:2.7,zinc:0,sodium:0,magnesium:0,calcium:0,phosphorus:0,selenium:0,copper:0,manganese:0},bioCoefficients:{protein:1,iron:1,vitaminA:1,vitaminK:1,zinc:1}}};function vg(l){const o=l.toLowerCase().trim();return o.length===0?[]:Object.values(xl).filter(u=>{const c=u.name.toLowerCase(),v=u.id.toLowerCase();return c.includes(o)||v.includes(o)})}function ry(l){const o=l.toLowerCase().trim();return xl[o]?xl[o]:Object.values(xl).find(u=>u.name.toLowerCase()===o||u.id.toLowerCase()===o)}const rn=[{name:"Rookie",days:0,description:"Carnivore Beginner"},{name:"Carnivore",days:7,description:"1 Week Streak"},{name:"Hunter",days:30,description:"1 Month Streak"},{name:"Predator",days:90,description:"3 Months Streak"},{name:"Master",days:180,description:"6 Months Streak"},{name:"Legend",days:365,description:"1 Year Streak"}];function Ev(l,o){return l.localeCompare(o)}function vl(l,o){const u=new Date(l);return u.setDate(u.getDate()+o),u.toISOString().split("T")[0]}function Rv(){return new Date().toISOString().split("T")[0]}async function Og(){try{zl();const l=await Yi();if(l.length===0)return{currentStreak:0,longestStreak:0,phase:rn[0].name,phaseDescription:rn[0].description,nextPhase:rn[1].name,daysUntilNextPhase:rn[1].days};const o=[...l].sort((b,g)=>Ev(g.date,b.date)),u=Rv();let c=0,v=0,p=0,m=null;const y=o.filter(b=>!b.calculatedMetrics?.hasViolation);if(y.length===0)c=0;else{const b=y[0].date;if(Math.floor((new Date(u).getTime()-new Date(b).getTime())/(1e3*60*60*24))<=1){let k;if(b===u?(c=1,k=vl(u,-1)):b===vl(u,-1)?(c=1,k=vl(u,-2)):(c=0,k=""),c>0)for(let T=1;T<y.length;T++){const O=y[T];if(O.date===k)c++,k=vl(k,-1);else if(O.date<k)break}}else c=0}for(let b=0;b<o.length;b++){const g=o[b];if(g.calculatedMetrics?.hasViolation){v=Math.max(v,p),p=0,m=null;continue}m===null?(p=1,m=g.date):(Math.floor((new Date(m).getTime()-new Date(g.date).getTime())/864e5)===1?p++:(v=Math.max(v,p),p=1),m=g.date)}v=Math.max(v,p);let S=rn[0],x=null;for(let b=rn.length-1;b>=0;b--)if(c>=rn[b].days){S=rn[b],b<rn.length-1&&(x=rn[b+1]);break}return{currentStreak:c,longestStreak:v,phase:S.name,phaseDescription:S.description,nextPhase:x?.name||null,daysUntilNextPhase:x?x.days-c:null}}catch{return{currentStreak:0,longestStreak:0,phase:rn[0].name,phaseDescription:rn[0].description,nextPhase:rn[1].name,daysUntilNextPhase:rn[1].days}}}const Bv=[{id:"headache",name:"Headache",description:"Common symptom during transition period",remedies:[{nutrient:"sodium",adjustment:2e3,explanation:"Increasing sodium by +2000mg improves electrolyte balance"}],recommendedFoods:["Salt","Meat juice","Bone broth"]},{id:"cramp",name:"Muscle Cramps",description:"Possible magnesium deficiency",remedies:[{nutrient:"magnesium",adjustment:200,explanation:"Increasing magnesium by +200mg improves muscle cramps"}],recommendedFoods:["Magnesium supplement","Bone broth"]},{id:"fatigue",name:"Fatigue",description:"Possible energy deficiency",remedies:[{nutrient:"fat",adjustment:50,explanation:"Increasing fat improves energy supply"},{nutrient:"sodium",adjustment:1e3,explanation:"Increasing salt improves electrolyte balance"}],recommendedFoods:["Fatty cuts of meat (ribeye, belly)","Butter","Egg yolk"]},{id:"constipation",name:"Constipation",description:"Possible magnesium and water deficiency",remedies:[{nutrient:"magnesium",adjustment:200,explanation:"Increasing magnesium by +200mg improves bowel movements"},{nutrient:"water",adjustment:1,explanation:"Increasing water by 1L improves bowel movements"}],recommendedFoods:["Magnesium supplement","Bone broth"]},{id:"diarrhea",name:"Diarrhea",description:"Need to adjust fat intake",remedies:[{nutrient:"fat",adjustment:-30,explanation:"Reducing fat reduces burden on the digestive system"}],recommendedFoods:["Easily digestible meat (chicken breast, fish)","Eggs"]}];function Fv(l,o){let u=0;if(l!==void 0)u=l;else if(o){const m=new Date(o);u=Math.floor((new Date().getTime()-m.getTime())/(1e3*60*60*24))}else return null;const c=30,v=Math.min(u/c*100,100),p=Math.max(c-u,0);return u>=c?null:{daysInTransition:u,totalDays:c,progress:v,remainingDays:p}}function Lv({daysInTransition:l,totalDays:o,onPress:u}){const c=Math.min(l/o*100,100),v=o-l;return i.jsxs("div",{onClick:u,style:{backgroundColor:"#3b82f6",color:"white",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.75rem",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:[i.jsx("span",{style:{fontSize:"1.5rem"},children:""}),i.jsxs("div",{style:{flex:1},children:[i.jsxs("div",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"0.25rem"},children:["Transition Period: ",l,"/",o," days (",Math.round(c),"%)"]}),i.jsx("div",{style:{fontSize:"12px",opacity:.9},children:"Adaptation Mode: Increasing salt target"}),v>0&&i.jsxs("div",{style:{fontSize:"11px",opacity:.8,marginTop:"0.25rem"},children:[v," days remaining until transition period ends"]})]})]})}function Ov({progress:l,onClose:o}){const[u,c]=f.useState(null);return i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},onClick:o,children:i.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"1.5rem",maxWidth:"600px",width:"100%",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},onClick:v=>v.stopPropagation(),children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[i.jsx("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:"bold"},children:"Transition Period Guide"}),i.jsx("button",{onClick:o,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",padding:"0.25rem"},children:""})]}),i.jsxs("section",{style:{marginBottom:"2rem"},children:[i.jsx("h3",{style:{fontSize:"1rem",fontWeight:"bold",marginBottom:"0.75rem"},children:"About the Transition Period"}),i.jsx("p",{style:{fontSize:"14px",lineHeight:"1.6",marginBottom:"1rem"},children:"The first 30 days are a critical period when your body switches to fat metabolism. During this period, electrolyte targets (sodium, magnesium, potassium) are automatically increased."}),i.jsxs("div",{style:{marginTop:"1rem"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[i.jsxs("span",{style:{fontSize:"14px"},children:["Progress: ",l.daysInTransition,"/",l.totalDays," days"]}),i.jsxs("span",{style:{fontSize:"14px",fontWeight:"bold"},children:[Math.round(l.progress),"%"]})]}),i.jsx("div",{style:{width:"100%",height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"},children:i.jsx("div",{style:{width:`${l.progress}%`,height:"100%",backgroundColor:"#3b82f6",transition:"width 0.3s ease"}})})]})]}),i.jsxs("section",{style:{marginBottom:"2rem"},children:[i.jsx("h3",{style:{fontSize:"1rem",fontWeight:"bold",marginBottom:"0.75rem"},children:"Common Symptoms and Remedies"}),i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:Bv.map(v=>i.jsxs("button",{onClick:()=>c(u?.id===v.id?null:v),style:{padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:u?.id===v.id?"#f3f4f6":"white",cursor:"pointer",textAlign:"left",fontSize:"14px"},children:[i.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:v.name}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:v.description})]},v.id))}),u&&i.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[i.jsxs("h4",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"0.75rem"},children:["Remedies for ",u.name]}),i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:u.remedies.map((v,p)=>i.jsxs("div",{style:{fontSize:"13px",lineHeight:"1.6"},children:[i.jsxs("div",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:[v.nutrient==="sodium"&&"Sodium",v.nutrient==="magnesium"&&"Magnesium",v.nutrient==="potassium"&&"Potassium",v.nutrient==="fat"&&"Fat",v.nutrient==="water"&&"Water",v.adjustment>0?` +${v.adjustment}`:` ${v.adjustment}`,v.nutrient==="sodium"||v.nutrient==="magnesium"||v.nutrient==="potassium"?"mg":v.nutrient==="fat"?"g":"L"]}),i.jsx("div",{style:{color:"#6b7280",fontSize:"12px"},children:v.explanation})]},p))}),u.recommendedFoods.length>0&&i.jsxs("div",{style:{marginTop:"0.75rem"},children:[i.jsx("div",{style:{fontSize:"12px",fontWeight:"bold",marginBottom:"0.5rem"},children:"Recommended Foods:"}),i.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:u.recommendedFoods.map((v,p)=>i.jsx("span",{style:{padding:"0.25rem 0.5rem",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"4px",fontSize:"12px"},children:v},p))})]})]})]}),i.jsxs("section",{children:[i.jsx("h3",{style:{fontSize:"1rem",fontWeight:"bold",marginBottom:"0.75rem"},children:"Recommended Foods"}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"0.75rem"},children:[{name:"",items:["","",""]},{name:"",items:["",""]},{name:"",items:[""]},{name:"",items:["",""]}].map((v,p)=>i.jsxs("div",{style:{padding:"0.75rem",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[i.jsx("div",{style:{fontSize:"12px",fontWeight:"bold",marginBottom:"0.5rem"},children:v.name}),i.jsx("div",{style:{fontSize:"11px",color:"#6b7280"},children:v.items.join("")})]},p))})]})]})})}function Ig(){const l=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);if(/iPhone|iPad|iPod/i.test(navigator.userAgent))return!1;if(l&&"BarcodeDetector"in window)try{return!!new window.BarcodeDetector({formats:["qr_code"]})}catch{return!1}return"BarcodeDetector"in window}async function Iv(l,o){try{if(!Ig())throw new Error("BarcodeDetector API is not available");let u,c,v=!1;l?(c=l,u=c.srcObject):(u=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),c=document.createElement("video"),c.srcObject=u,await c.play(),v=!0);const p=window.BarcodeDetector,m=new p({formats:["ean_13","ean_8","upc_a","upc_e","code_128","code_39","code_93","codabar","itf","qr_code","data_matrix","aztec","pdf417"]});return new Promise((y,S)=>{let x=0;const b=20,g=setInterval(async()=>{try{x++;const k=await m.detect(c);k.length>0?(clearInterval(g),v&&(u.getTracks().forEach(T=>T.stop()),c.remove()),y({code:k[0].rawValue,format:k[0].format})):x>=b&&(clearInterval(g),v&&(u.getTracks().forEach(T=>T.stop()),c.remove()),y(null))}catch{}},500)})}catch(u){const c=u;throw c.name==="NotAllowedError"||c.name==="PermissionDeniedError"?new Error(""):c.name==="NotFoundError"||c.name==="DevicesNotFoundError"?new Error(""):c.message?.includes("BarcodeDetector")?new Error("ChromeEdge"):u}}async function Hv(l){try{const u=await(await fetch(`https://world.openfoodfacts.org/api/v0/product/${l}.json`)).json();return u.status===0?null:u.product}catch(o){throw o}}function Hg({isOpen:l,onClose:o,onSuccess:u}){const[c,v]=f.useState(!1),[p,m]=f.useState(null),[y,S]=f.useState(null),[x,b]=f.useState(null),[g,k]=f.useState(!1),T=f.useRef(null),O=f.useRef(null);f.useEffect(()=>{l?(v(!1),m(null),S(null),b(null),k(!1)):O.current&&(O.current.getTracks().forEach(B=>B.stop()),O.current=null)},[l]);const I=async()=>{if(!Ig()){const B=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),$=/iPhone|iPad|iPod/i.test(navigator.userAgent);m($?"iOS Safari":B?"Android Chrome":"ChromeEdge");return}v(!0),m(null),S(null),b(null);try{const B=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});O.current=B,T.current&&(T.current.srcObject=B,await T.current.play());const $=await Iv(T.current||void 0);if($){S($),v(!1),k(!0);try{const re=await Hv($.code);re?b(re):m("")}catch(re){m("")}finally{k(!1)}}else m(""),v(!1)}catch(B){const $=B;$.name==="NotAllowedError"||$.name==="PermissionDeniedError"?m(""):$.name==="NotFoundError"||$.name==="DevicesNotFoundError"?m(""):m(""),v(!1)}},ie=()=>{if(!x)return;const B=x.product_name||x.product_name_en||"",$=prompt(`${B}g:`,"100");if(!$)return;const re=Number($);if(isNaN(re)||re<=0){alert("");return}u(B,re),o()},q=()=>{O.current&&(O.current.getTracks().forEach(B=>B.stop()),O.current=null),o()};return l?i.jsx("div",{className:"barcode-scanner-modal-overlay",onClick:q,children:i.jsxs("div",{className:"barcode-scanner-modal",onClick:B=>B.stopPropagation(),children:[i.jsxs("div",{className:"barcode-scanner-modal-header",children:[i.jsx("h2",{className:"barcode-scanner-modal-title",children:""}),i.jsx("button",{onClick:q,className:"barcode-scanner-modal-close",children:""})]}),i.jsxs("div",{className:"barcode-scanner-modal-content",children:[!c&&!y&&!p&&i.jsxs("div",{className:"barcode-scanner-modal-start",children:[i.jsx("p",{children:""}),i.jsx("button",{onClick:I,className:"barcode-scanner-modal-start-button",children:""})]}),c&&i.jsxs("div",{className:"barcode-scanner-modal-scanning",children:[i.jsxs("div",{className:"barcode-scanner-modal-video-container",children:[i.jsx("video",{ref:T,autoPlay:!0,playsInline:!0,className:"barcode-scanner-modal-video"}),i.jsx("div",{className:"barcode-scanner-modal-scan-line"})]}),i.jsx("p",{className:"barcode-scanner-modal-scanning-text",children:"..."})]}),p&&i.jsxs("div",{className:"barcode-scanner-modal-error",children:[i.jsxs("p",{children:[" ",p]}),i.jsx("button",{onClick:I,className:"barcode-scanner-modal-retry-button",children:""})]}),y&&i.jsxs("div",{className:"barcode-scanner-modal-result",children:[i.jsx("p",{className:"barcode-scanner-modal-success",children:" "}),i.jsxs("p",{className:"barcode-scanner-modal-barcode",children:[": ",y.code]}),g&&i.jsx("p",{className:"barcode-scanner-modal-loading",children:"..."}),x&&i.jsxs("div",{className:"barcode-scanner-modal-food-info",children:[i.jsx("h3",{children:x.product_name||x.product_name_en||""}),i.jsx("button",{onClick:ie,className:"barcode-scanner-modal-add-button",children:""})]})]})]})]})}):null}const Lt=[{id:"tip_001",title:"Hay Fever and Carbohydrates",content:"Hay fever symptoms are actually deeply related to carbohydrate intake. When carbohydrates are consumed, blood sugar rises and inflammatory reactions are promoted. Many people report that hay fever symptoms are reduced or disappear when carbohydrates are completely eliminated with a carnivore diet.",category:"Health",difficulty:2},{id:"tip_002",title:"Is Fiber Really Necessary?",content:'It is commonly said that "fiber is good for the gut," but in reality, fiber is an intestinal irritant, and many people with irritable bowel syndrome (IBS) see improvement when fiber is removed. In carnivore, fiber is completely eliminated and gut health is maintained with meat only.',category:"Digestion",difficulty:2},{id:"tip_003",title:"Lectins and Joint Pain",content:"Lectins found in plants easily bind to joint cartilage and may cause inflammation. By completely eliminating plants with carnivore, many people are freed from joint pain.",category:"Inflammation",difficulty:1},{id:"tip_004",title:"Oxalate Accumulation",content:"Oxalates found in spinach and nuts can accumulate in the body and cause kidney stones and joint pain. In carnivore, these foods are completely avoided, so oxalate-related problems do not occur.",category:"Health",difficulty:2},{id:"tip_005",title:"Importance of Electrolyte Balance",content:"In carnivore, sodium excretion accelerates, so active salt intake (5000-8000mg/day) is necessary. Magnesium and potassium are also important, and potassium can be replenished by consuming meat juice without discarding it.",category:"Nutrition",difficulty:1},{id:"tip_006",title:"Keto Flu and Sodium",content:'The "keto flu" (headache, fatigue) that occurs in the early stages of carnivore transition is mainly caused by sodium deficiency. In a low insulin state, sodium excretion from the kidneys accelerates, so high doses of sodium are needed. Drinking salt water improves symptoms.',category:"Transition",difficulty:1},{id:"tip_007",title:"Heme Iron Absorption Rate",content:"Heme iron found in animal foods has 5-10 times the absorption rate compared to non-heme iron from plant foods. In carnivore, there is little worry about iron deficiency.",category:"Nutrition",difficulty:1},{id:"tip_008",title:"Importance of Vitamin B12",content:"Vitamin B12 is only found in animal foods. Since it is not found in plant foods, strict vegans need B12 supplements, but in carnivore, sufficient B12 can be obtained naturally.",category:"Nutrition",difficulty:1},{id:"tip_009",title:"Taurine and Heart Health",content:"Taurine is an important amino acid for heart health and is abundant in animal foods (especially organ meats, fish, and shellfish). Since it is not found in plant foods, sufficient taurine can be obtained naturally in carnivore.",category:"Nutrition",difficulty:1},{id:"tip_010",title:"Collagen and Joint Health",content:"Collagen is important for joint, skin, and bone health. Bone-in meat, meat with skin, and bone broth contain abundant collagen. In carnivore, collagen can be naturally replenished by actively consuming these parts.",category:"Health",difficulty:1},{id:"tip_011",title:"DHA/EPA and Brain Health",content:"Omega-3 fatty acids (DHA/EPA) are important for brain health. They are abundant in fish (especially salmon, mackerel, and sardines). Eating fish 2-3 times a week provides sufficient omega-3.",category:"Nutrition",difficulty:1},{id:"tip_012",title:"Benefits of Bone Broth",content:"Bone broth contains abundant glycine, proline, and collagen. It helps with gut health, joint health, and improved sleep quality. Incorporating bone broth into meals makes it easy to replenish these nutrients.",category:"Health",difficulty:2},{id:"tip_013",title:"Nutrient Density of Organ Meats",content:"Organ meats (liver, heart, kidney) have very high nutrient density. Liver contains abundant vitamin A, iron, and B12. Eating small amounts of organ meats 1-2 times a week significantly improves nutritional balance.",category:"Nutrition",difficulty:2},{id:"tip_014",title:"Dairy and Carnivore",content:"Dairy handling in carnivore varies. If there is no lactose intolerance, butter, cheese, and heavy cream are often allowed. However, milk should be avoided. If there is lactose intolerance, it is recommended to avoid all dairy products.",category:"Practice",difficulty:2},{id:"tip_015",title:"Types of Salt and Importance",content:"Active salt intake is necessary in carnivore. Regular table salt is fine, but natural salts (sea salt, Himalayan salt, Celtic salt) contain abundant minerals. Sprinkling salt directly on meat allows efficient salt intake.",category:"Practice",difficulty:1},{id:"tip_016",title:"P:F Ratio Guidelines",content:"The protein to fat ratio (P:F ratio) is important in carnivore. Generally, 1:1 to 1:2 (fat is 1-2 times protein) is recommended. Choosing fatty cuts of meat naturally maintains this ratio.",category:"Practice",difficulty:2},{id:"tip_017",title:"Transition Period Notes",content:'When transitioning to carnivore, symptoms called "keto flu" (headache, fatigue, irritability) may appear in the first 1-2 weeks. This is the process of the body adapting to ketosis. Sufficient salt and water intake can alleviate symptoms.',category:"Transition",difficulty:1},{id:"tip_018",title:"Digestive Issues and Solutions",content:"Digestive issues (diarrhea, constipation) may appear in the early transition period. This is due to changes in gut bacteria. Usually improves in 1-2 weeks. Reducing fat and focusing on protein can alleviate symptoms.",category:"Transition",difficulty:2},{id:"tip_019",title:"Dining Out Options",content:"When dining out, plain burgers (no bun), steak, grilled fish, and sashimi are good options. Seasonings and sauces often contain sugar and vegetable oils, so choose simple cooking methods when possible.",category:"Practice",difficulty:1},{id:"tip_020",title:"Meat Cooking Temperature",content:"Meat cooking temperature is important for balancing safety and nutrient retention. Steaks are safe even if only the surface is seared without cooking through. Moderate heating also improves protein digestion and absorption.",category:"Practice",difficulty:1},{id:"tip_021",title:"Vitamin D and Sunlight",content:"Vitamin D is synthesized in the body through sun exposure. In carnivore, fish and eggs also contain vitamin D, but sunbathing is also important. 15-30 minutes of sun exposure per day can synthesize sufficient vitamin D.",category:"Nutrition",difficulty:1},{id:"tip_022",title:"Potassium Replenishment Methods",content:"Potassium intake is also important in carnivore. Consuming meat juice without discarding it can replenish potassium. Meat itself also contains potassium. Using potassium chloride is also an option.",category:"Nutrition",difficulty:2},{id:"tip_023",title:"Signs of Magnesium Deficiency",content:"Signs of magnesium deficiency include muscle cramps, insomnia, and irritability. In carnivore, magnesium intake tends to be insufficient, so consider magnesium supplements as needed.",category:"Nutrition",difficulty:2},{id:"tip_024",title:"Exercise Performance and Carnivore",content:"After adapting to carnivore, many people report improved exercise performance. Especially improved endurance and decreased body fat percentage. Adaptation can take weeks to months, so patience is needed.",category:"Health",difficulty:2},{id:"tip_025",title:"Sleep Quality Improvement",content:"After transitioning to carnivore, many people report improved sleep quality. Blood sugar fluctuations decrease and deep sleep becomes possible. Avoid heavy meals before bedtime and opt for lighter meals.",category:"Health",difficulty:1},{id:"tip_026",title:"Cholesterol Misconception",content:"Rising blood cholesterol levels are a normal response in carnivore. Cholesterol is necessary for cell membranes, hormones, and vitamin D synthesis. High LDL cholesterol does not necessarily mean a problem.",category:"Health",difficulty:3},{id:"tip_027",title:"Weight Loss and Weight Maintenance",content:"Many people experience weight loss in carnivore, but after reaching an appropriate weight, weight is naturally maintained. Sufficient fat and protein intake can prevent excessive weight loss.",category:"Health",difficulty:2},{id:"tip_028",title:"Female-Specific Considerations",content:"Women's nutritional needs change according to the menstrual cycle. There are times when iron needs are particularly high. Actively consuming liver and red meat can replenish iron.",category:"Health",difficulty:2},{id:"tip_029",title:"Importance of Water Intake",content:"In carnivore, water excretion may increase initially. Sufficient water and salt intake can prevent dehydration. When you feel thirsty, actively replenish water.",category:"Practice",difficulty:1},{id:"tip_030",title:"Meal Timing",content:"In carnivore, 1-2 meals per day is often sufficient. The need to eat frequently decreases and hunger decreases. Following your body's signals and eating only when truly hungry establishes a natural eating rhythm.",category:"Practice",difficulty:1},{id:"tip_031",title:"Glycine and Methionine Balance",content:"Muscle meat contains more methionine, while collagen (bone, skin, cartilage) contains more glycine. Excess methionine may promote inflammation, so eating bone-in meat and meat with skin can balance glycine and methionine.",category:"Nutrition",difficulty:3},{id:"tip_032",title:"Importance of Vitamin K2",content:"Vitamin K2 is important for bone health and cardiovascular health. It is abundant in animal foods (especially grass-fed meat, organ meats, fermented foods). In carnivore, sufficient K2 can be obtained naturally.",category:"Nutrition",difficulty:2},{id:"tip_033",title:"Zinc and Immune Function",content:"Zinc is important for immune function, wound healing, and taste. It is abundant in red meat, organ meats, and shellfish. In carnivore, there is little worry about zinc deficiency.",category:"Nutrition",difficulty:1},{id:"tip_034",title:"Selenium and Thyroid Health",content:"Selenium is necessary for thyroid hormone synthesis. It is abundant in fish, organ meats, and eggs. Eating fish or organ meats several times a week provides sufficient selenium.",category:"Health",difficulty:2},{id:"tip_035",title:"Choline and Brain Health",content:"Choline is important for brain health, memory, and learning. It is abundant in egg yolks, organ meats, and fish. Egg yolks are an excellent source of choline.",category:"Nutrition",difficulty:1},{id:"tip_036",title:"Vitamin A Overdose Misconception",content:"There is concern that eating liver causes vitamin A overdose, but in reality, vitamin A toxicity is very rare. Eating small amounts of liver 1-2 times a week is safe and nutritionally beneficial.",category:"Nutrition",difficulty:2},{id:"tip_037",title:"Omega-3 and Omega-6 Ratio",content:"Modern diets tend to have excess omega-6, but in carnivore, choosing grass-fed meat and fish can balance omega-3 and omega-6. It is recommended to eat fish 2-3 times a week.",category:"Nutrition",difficulty:2},{id:"tip_038",title:"Calcium Intake",content:"There is concern that calcium intake is insufficient in carnivore, but calcium can actually be obtained from bone-in meat, small fish, and bone broth. Vitamin D and K2 are also important for calcium absorption.",category:"Nutrition",difficulty:2},{id:"tip_039",title:"Phosphorus and Calcium Balance",content:"Meat contains a lot of phosphorus, but balance can be maintained by also consuming calcium. Eating bone-in meat and bone broth can balance phosphorus and calcium.",category:"Nutrition",difficulty:3},{id:"tip_040",title:"Copper and Zinc Balance",content:"Organ meats contain a lot of copper, but balance can be maintained by also consuming zinc. Combining red meat and organ meats can balance copper and zinc.",category:"Nutrition",difficulty:3},{id:"tip_041",title:"Importance of B Vitamins",content:"B vitamins (B1, B2, B3, B5, B6, B7, B9, B12) are important for energy metabolism, nerve function, and DNA synthesis. Animal foods contain all B vitamins abundantly.",category:"Nutrition",difficulty:1},{id:"tip_042",title:"Folate and B12 Relationship",content:"Folate and B12 work together. Both are necessary for DNA synthesis and red blood cell formation. In carnivore, both can be obtained sufficiently.",category:"Nutrition",difficulty:2},{id:"tip_043",title:"Vitamin E Intake",content:"Vitamin E is important as an antioxidant. Animal foods contain relatively little, but eggs and organ meats contain it. Also, vitamin E requirements may decrease in low-carb states.",category:"Nutrition",difficulty:2},{id:"tip_044",title:"Iodine and Thyroid",content:"Iodine is necessary for thyroid hormone synthesis. It is abundant in fish, shellfish, and seaweed. Eating fish several times a week provides sufficient iodine.",category:"Health",difficulty:2},{id:"tip_045",title:"Molybdenum and Sulfur Metabolism",content:"Molybdenum is necessary for sulfur amino acid metabolism. It is abundant in organ meats, especially liver. 1-2 times a week of organ meats is sufficient.",category:"Nutrition",difficulty:3},{id:"tip_046",title:"Chromium and Blood Sugar",content:"Chromium improves insulin action and helps stabilize blood sugar. It is found in meat, especially organ meats. In carnivore, blood sugar stabilizes, so chromium needs also decrease.",category:"Health",difficulty:2},{id:"tip_047",title:"Manganese and Antioxidants",content:"Manganese is important as a component of antioxidant enzymes. It is found in organ meats, especially liver. 1-2 times a week of organ meats is sufficient.",category:"Nutrition",difficulty:3},{id:"tip_048",title:"Fluorine and Bone Health",content:"Fluorine is important for bone and dental health. It is found in fish, especially small fish and bone-in fish. Eating fish several times a week provides sufficient fluorine.",category:"Health",difficulty:2},{id:"tip_049",title:"Silicon and Collagen",content:"Silicon is important for collagen synthesis. It is found in bone broth and bone-in meat. Regularly drinking bone broth can replenish silicon.",category:"Health",difficulty:2},{id:"tip_050",title:"Vanadium and Blood Sugar",content:"Vanadium improves insulin action and helps stabilize blood sugar. It is found in organ meats, especially liver.",category:"Health",difficulty:3},{id:"tip_051",title:"Nickel and Metabolism",content:"Nickel is necessary for activation of certain enzymes. It is found in organ meats, especially liver. 1-2 times a week of organ meats is sufficient.",category:"Nutrition",difficulty:3},{id:"tip_052",title:"Boron and Bone Health",content:"Boron is important for bone health and calcium metabolism. It is relatively low in meat but found in bone broth.",category:"Health",difficulty:3},{id:"tip_053",title:"Chlorine and Electrolyte Balance",content:"Chlorine is important for maintaining electrolyte balance together with sodium. Consuming salt (sodium chloride) also replenishes chlorine simultaneously.",category:"Nutrition",difficulty:1},{id:"tip_054",title:"Constipation During Transition",content:"Constipation may occur in the early stages of carnivore transition. This is a temporary reaction to removing fiber. Usually improves in 1-2 weeks. Sufficient water and salt intake can alleviate symptoms.",category:"Transition",difficulty:1},{id:"tip_055",title:"Diarrhea During Transition",content:"Diarrhea may occur in the early stages of carnivore transition. This is a temporary reaction to suddenly increased fat intake. Reducing fat and focusing on protein can alleviate symptoms.",category:"Transition",difficulty:1},{id:"tip_056",title:"Fatigue During Transition",content:"Fatigue may appear in the early stages of carnivore transition. This is the process of the body adapting to ketosis. Sufficient salt and water intake and adequate sleep can alleviate symptoms.",category:"Transition",difficulty:1},{id:"tip_057",title:"Irritability During Transition",content:"Irritability may occur in the early stages of carnivore transition. This is a temporary reaction to blood sugar fluctuations or electrolyte imbalance. Sufficient salt intake and gradual adaptation will improve symptoms.",category:"Transition",difficulty:1},{id:"tip_058",title:"Individual Differences in Adaptation Period",content:"The adaptation period to carnivore varies by individual. Some adapt in 1-2 weeks, while others may take months. It is important to continue without rushing, following your body's signals.",category:"Transition",difficulty:1},{id:"tip_059",title:"Exercise and Carnivore",content:"After adapting to carnivore, many people report improved exercise performance. Especially improved endurance and decreased body fat percentage. It is recommended to reduce exercise intensity during the adaptation period.",category:"Health",difficulty:2},{id:"tip_060",title:"Carnivore and Mental Health",content:"After transitioning to carnivore, many people report improved mental health. Anxiety and depression symptoms decrease and concentration improves. This is thought to be due to stabilized blood sugar and reduced inflammation.",category:"Health",difficulty:2},{id:"tip_mindset_001",title:"The Trap of Perfectionism",content:'The "100 points or 0 points" mindset is the enemy of continuity. Eating pizza once does not ruin everything. What matters is returning to carnivore immediately with the next meal.',category:"Mindset",difficulty:2},{id:"tip_mindset_002",title:"Having Your Own Axis",content:`Don't be swayed by others' opinions, value "how you feel." Your body's good condition is the best evidence, more than others' criticism.`,category:"Mindset",difficulty:2},{id:"tip_social_001",title:'Managing "Poison" in Social Situations',content:'When unavoidable in meals with friends, you may eat pizza or pasta. That is not a "failure" but a "social cost." A 16-hour fast the next day to reset metabolism is fine.',category:"Social",difficulty:2},{id:"tip_social_002",title:"Loneliness and Cortisol",content:'Excessive loneliness increases stress hormones (cortisol) and negatively affects metabolism. Occasionally enjoying meals with friends and refreshing your mind is also "health management" in a broad sense.',category:"Social",difficulty:3},{id:"tip_social_003",title:"The Art of Refusing",content:`At drinking parties, saying "doctor's orders..." is the least confrontational. Saying "allergy" is also effective. Avoid explaining unnecessarily and causing arguments.`,category:"Social",difficulty:1}];function Uv(l){const o=typeof window<"u"?localStorage.getItem("tips_current_index"):null;let u=o?parseInt(o,10):0;u>=Lt.length&&(u=0);const c=Lt[u];return typeof window<"u"&&localStorage.setItem("tips_current_index",String(u+1)),{tip:c,index:u}}function kl(){const l=Math.floor(Math.random()*Lt.length);return Lt[l]}function $a(l){const o=Lt.filter(c=>c.id!==l);if(o.length===0)return kl();const u=Math.floor(Math.random()*o.length);return o[u]}function Vv({isOpen:l,onClose:o,analysisResult:u,onConfirm:c,dynamicTargets:v}){const[p,m]=f.useState(u),[y,S]=f.useState({}),[x,b]=f.useState(!1),[g,k]=f.useState(null),[T,O]=f.useState(0),[I,ie]=f.useState(!1);if(f.useEffect(()=>{if(m(u),S({}),l&&!g){const{tip:ae,index:se}=Uv();k(ae),O(se),ie(isTipSaved(ae.id))}},[u,l]),!l||!p)return null;const q=p.estimatedWeight/100,B=p.nutrients||{},$=(B.protein||0)*q,re=(B.fat||0)*q,pe=(B.sodium||0)*q,ce=(B.magnesium||0)*q,Ne=(B.potassium||0)*q,V=(B.zinc||0)*q,ve=(B.iron||0)*q,he=(B.vitaminD||0)*q,M=v.protein||100,be=v.fat||100,z=v.sodium||5e3,W=v.magnesium||600,me=v.potassium||4500,D=v.zinc||11,te=v.iron||8,X=v.vitamin_d||2e3;return i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(5px)"},onClick:o,children:i.jsxs("div",{style:{backgroundColor:"#1f2937",color:"#f9fafb",borderRadius:"16px",padding:"1.5rem",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.5)",border:"1px solid #374151"},onClick:ae=>ae.stopPropagation(),children:[i.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"1.5rem",display:"flex",alignItems:"center",borderBottom:"1px solid #374151",paddingBottom:"0.75rem"},children:" "}),i.jsxs("div",{style:{marginBottom:"1.5rem",display:"flex",flexDirection:"column",gap:"1.25rem"},children:[i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"14px",color:"#9ca3af"},children:""}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[i.jsx("input",{type:"text",value:p.foodName,onChange:ae=>m({...p,foodName:ae.target.value}),style:{flex:1,padding:"0.75rem",backgroundColor:"#111827",border:"1px solid #4b5563",color:"white",borderRadius:"8px",fontSize:"16px"}}),i.jsx("button",{onClick:async()=>{if(!(!p.foodName||x)){b(!0);try{const{analyzeFoodName:ae}=await Fe(async()=>{const{analyzeFoodName:fe}=await Promise.resolve().then(()=>_l);return{analyzeFoodName:fe}},void 0),se=await ae(p.foodName);m(fe=>({...fe,nutrients:se.nutrients,type:se.type}))}catch{alert("")}finally{b(!1)}}},disabled:x,style:{padding:"0 1rem",backgroundColor:"#374151",color:"white",border:"1px solid #4b5563",borderRadius:"8px",cursor:"pointer",fontSize:"20px"},children:""})]})]}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#111827",borderRadius:"12px",border:"1px solid #374151"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[i.jsx("label",{style:{fontWeight:"600",color:"#e5e7eb"},children:""}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("input",{type:"number",value:p.estimatedWeight,onChange:ae=>m({...p,estimatedWeight:Math.max(0,Number(ae.target.value))}),style:{width:"80px",padding:"0.5rem",textAlign:"right",backgroundColor:"#374151",border:"none",borderRadius:"6px",color:"white",fontWeight:"bold"}}),i.jsx("span",{style:{color:"#9ca3af"},children:"g"})]})]}),i.jsx("input",{type:"range",min:"0",max:"1000",step:"10",value:p.estimatedWeight,onChange:ae=>m({...p,estimatedWeight:Number(ae.target.value)}),style:{width:"100%",marginBottom:"1.5rem",accentColor:"#dc2626",cursor:"pointer"}}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",marginBottom:"1rem"},children:[i.jsx(Be,{label:"Protein",currentDailyTotal:0,previewAmount:$,target:M,unit:"g",color:Le("protein"),nutrientKey:"protein"}),i.jsx(Be,{label:"Fat",currentDailyTotal:0,previewAmount:re,target:be,unit:"g",color:Le("fat"),nutrientKey:"fat"}),(pe>0||B.sodium)&&i.jsx(Be,{label:"Sodium",currentDailyTotal:0,previewAmount:pe,target:z,unit:"mg",color:Le("sodium"),nutrientKey:"sodium"}),(ce>0||B.magnesium)&&i.jsx(Be,{label:"Magnesium",currentDailyTotal:0,previewAmount:ce,target:W,unit:"mg",color:Le("magnesium"),nutrientKey:"magnesium"}),(Ne>0||B.potassium)&&i.jsx(Be,{label:"Potassium",currentDailyTotal:0,previewAmount:Ne,target:me,unit:"mg",color:Le("potassium"),nutrientKey:"potassium"}),(V>0||B.zinc)&&i.jsx(Be,{label:"Zinc",currentDailyTotal:0,previewAmount:V,target:D,unit:"mg",color:Le("zinc"),nutrientKey:"zinc"}),(ve>0||B.iron)&&i.jsx(Be,{label:"Iron",currentDailyTotal:0,previewAmount:ve,target:te,unit:"mg",color:Le("iron"),nutrientKey:"iron"}),(he>0||B.vitaminD)&&i.jsx(Be,{label:"Vitamin D",currentDailyTotal:0,previewAmount:he,target:X,unit:"IU",color:Le("vitaminD"),nutrientKey:"vitamin_d"})]})]}),g&&i.jsxs("div",{style:{marginTop:"0.5rem",padding:"1rem",backgroundColor:"#fef3c7",borderRadius:"8px",border:"1px solid #fbbf24"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[i.jsxs("h3",{style:{fontSize:"14px",fontWeight:"bold",color:"#92400e",display:"flex",alignItems:"center",gap:"0.5rem"},children:[" ",g.title]}),i.jsx("button",{onClick:()=>{I?(unsaveTip(g.id),ie(!1)):(saveTip(g),ie(!0))},style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",padding:"0",color:I?"#fbbf24":"#d1d5db"},children:I?"":""})]}),i.jsx("p",{style:{fontSize:"13px",color:"#78350f",lineHeight:"1.6",margin:0},children:g.content})]}),p.followupQuestions&&p.followupQuestions.length>0&&i.jsxs("div",{style:{marginTop:"0.5rem",padding:"1rem",backgroundColor:"#374151",borderRadius:"8px",borderLeft:"4px solid #f59e0b"},children:[i.jsx("h3",{style:{fontSize:"14px",fontWeight:"bold",color:"#fcd34d",marginBottom:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:" AI"}),p.followupQuestions.map((ae,se)=>i.jsxs("div",{style:{marginBottom:"1rem"},children:[i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"14px",color:"#e5e7eb"},children:ae}),i.jsx("input",{type:"text",placeholder:"...",value:y[ae]||"",onChange:fe=>S({...y,[ae]:fe.target.value}),style:{width:"100%",padding:"0.6rem",backgroundColor:"#1f2937",border:"1px solid #4b5563",color:"white",borderRadius:"6px",fontSize:"14px"}})]},se)),i.jsx("button",{onClick:async()=>{if(!x)try{b(!0);const ae=await Eg({foodName:p.foodName,estimatedWeight:p.estimatedWeight,type:p.type},y);m({...ae,followupQuestions:[]})}catch{alert("")}finally{b(!1)}},disabled:x||Object.keys(y).length===0,style:{width:"100%",padding:"0.75rem",backgroundColor:x?"#4b5563":"#f59e0b",color:x?"#9ca3af":"#1f2937",border:"none",borderRadius:"6px",fontWeight:"bold",cursor:x?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"14px"},children:x?"...":" "})]})]}),i.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #374151"},children:[i.jsx("button",{onClick:o,style:{padding:"0.75rem 1.5rem",backgroundColor:"transparent",color:"#9ca3af",border:"1px solid #4b5563",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"600"},children:""}),i.jsx("button",{onClick:()=>{const ae=p.estimatedWeight/100,se={};p.nutrients&&Object.entries(p.nutrients).forEach(([L,Z])=>{se[L]=Z*ae});const fe={item:p.foodName,amount:p.estimatedWeight,unit:"g",type:p.type||"animal",nutrients:Object.keys(se).length>0?se:void 0};c(fe)},style:{padding:"0.75rem 2rem",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",boxShadow:"0 4px 6px rgba(220, 38, 38, 0.4)"},children:""})]})]})})}function Ug({isOpen:l,onClose:o,onSave:u,initialFood:c}){const[v,p]=f.useState(c),[m,y]=f.useState(!1),[S,x]=f.useState(c.amount||100),[b,g]=f.useState(0),[k,T]=f.useState(0);if(f.useEffect(()=>{if(c){p(c),x(c.amount||100);const q=c.nutrients?.protein??0,B=c.nutrients?.fat??0,$=c.amount||100;g(q/$*100),T(B/$*100)}},[c]),f.useEffect(()=>{const B=S*(m?1.33:1),$=b/100*B,re=k/100*B,pe=$*4+re*9;p(ce=>({...ce,amount:S,nutrients:{...ce.nutrients,protein:Math.round($*10)/10,fat:Math.round(re*10)/10,calories:Math.round(pe)}}))},[S,m,b,k]),!l)return null;const O=v.nutrients?.protein??0,I=v.nutrients?.fat??0,ie=I>0?(O/I).toFixed(2):"";return I>0&&(I*9/(O*4+I*9)*100).toFixed(0),i.jsx("div",{className:"food-edit-modal-overlay",children:i.jsxs("div",{className:"food-edit-modal",children:[i.jsxs("div",{className:"food-edit-header",children:[i.jsx("h3",{children:v.item}),i.jsx("button",{className:"close-button",onClick:o,children:""})]}),i.jsxs("div",{className:"food-edit-content",children:[i.jsxs("div",{className:"input-group weight-group",children:[i.jsxs("div",{className:"weight-input-wrapper",children:[i.jsx("label",{children:" (g)"}),i.jsx("input",{type:"number",value:S,onChange:q=>x(Number(q.target.value)),className:"weight-input"})]}),i.jsxs("div",{className:"state-toggle-wrapper",children:[i.jsx("label",{children:"Measurement State"}),i.jsxs("div",{className:"toggle-switch",children:[i.jsx("button",{className:`toggle-option ${m?"":"active"}`,onClick:()=>y(!1),title:":  (Raw)",children:""}),i.jsx("button",{className:`toggle-option ${m?"active":""}`,onClick:()=>y(!0),title:":  (Cooked)",children:""})]})]})]}),i.jsx("p",{className:"hint-text",children:m?"  ( x1.33)":"  (Raw)"}),i.jsx("div",{className:"nutrition-dashboard",children:i.jsxs("div",{className:"nutrition-stat",children:[i.jsx("span",{className:"stat-label",children:"P:F "}),i.jsx("span",{className:"stat-value highlight",children:ie}),i.jsx("span",{className:"stat-unit",children:""})]})}),i.jsxs("div",{className:"slider-section",children:[i.jsxs("div",{className:"slider-group",children:[i.jsxs("div",{className:"slider-header",children:[i.jsx("label",{children:" (Protein)"}),i.jsxs("span",{className:"slider-current-value",children:[Math.round(b),"g / 100g"]})]}),i.jsx("input",{type:"range",min:"0",max:"50",step:"0.5",value:b,onChange:q=>g(Number(q.target.value)),className:"nutrient-slider protein-slider"}),i.jsxs("div",{className:"actual-value",children:[": ",v.nutrients?.protein??0,"g"]})]}),i.jsxs("div",{className:"slider-group",children:[i.jsxs("div",{className:"slider-header",children:[i.jsx("label",{children:" (Fat)"}),i.jsxs("span",{className:"slider-current-value",children:[Math.round(k),"g / 100g"]})]}),i.jsx("input",{type:"range",min:"0",max:"100",step:"0.5",value:k,onChange:q=>T(Number(q.target.value)),className:"nutrient-slider fat-slider"}),i.jsxs("div",{className:"actual-value",children:[": ",v.nutrients?.fat??0,"g"]})]})]}),i.jsxs("div",{className:"topping-buttons",style:{marginTop:"1rem",display:"flex",gap:"0.5rem",justifyContent:"center"},children:[i.jsx("button",{onClick:()=>{const $=((v.nutrients?.fat||0)+8)/S*100;T($)},className:"topping-btn",style:{padding:"0.5rem 1rem",borderRadius:"20px",border:"1px solid #444",background:"#222",color:"#fff",cursor:"pointer"},children:"  (+10g)"}),i.jsx("button",{onClick:()=>{const B={...v.nutrients};B.sodium=(B.sodium||0)+390,p({...v,nutrients:B})},className:"topping-btn",style:{padding:"0.5rem 1rem",borderRadius:"20px",border:"1px solid #444",background:"#222",color:"#fff",cursor:"pointer"},children:"  (+1g)"}),i.jsx("button",{onClick:()=>{const $=((v.nutrients?.fat||0)+10)/S*100;T($)},className:"topping-btn",style:{padding:"0.5rem 1rem",borderRadius:"20px",border:"1px solid #444",background:"#222",color:"#fff",cursor:"pointer"},children:"  (+10g)"})]}),i.jsxs("details",{className:"advanced-details",children:[i.jsx("summary",{children:""}),i.jsx("div",{className:"detail-inputs",children:i.jsxs("label",{children:[":",i.jsx("input",{type:"text",value:v.item,onChange:q=>p({...v,item:q.target.value})})]})})]})]}),i.jsxs("div",{className:"food-edit-footer",children:[i.jsx("button",{className:"cancel-button",onClick:o,children:""}),i.jsx("button",{className:"confirm-button",onClick:()=>u(v),children:""})]})]})})}const ru="primalLogic_lastMealTime";function Gv(l){localStorage.setItem(ru,l.toString())}function qv(){const l=localStorage.getItem(ru);if(!l)return null;const o=parseInt(l,10);return isNaN(o)?null:o}function Kv(){localStorage.removeItem(ru)}function Pv(l,o=Date.now()){const u=o-l,c=Math.floor(u/6e4),v=Math.floor(c/60),p=c%60;return{hours:v,minutes:p,totalMinutes:c}}function bg(l,o){return`${l}h ${o}m`}function Yv(l){return l<720?{stage:"Early",color:"#3b82f6",description:""}:l<960?{stage:"Fat Burning",color:"#f97316",description:""}:l<1080?{stage:"Ketosis",color:"#8b5cf6",description:""}:l<1440?{stage:"Deep Ketosis",color:"#10b981",description:""}:{stage:"Autophagy",color:"#dc2626",description:""}}function Zv({compact:l=!1}){const[o,u]=f.useState(qv()),[c,v]=f.useState(Date.now());f.useEffect(()=>{const x=setInterval(()=>{v(Date.now())},6e4);return()=>clearInterval(x)},[]);const p=o?Pv(o,c):null,m=p?Yv(p.totalMinutes):null,y=()=>{const x=Date.now();Gv(x),u(x)},S=()=>{Kv(),u(null)};return l?i.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",backgroundColor:m?m.color:"#f3f4f6",borderRadius:"12px",fontSize:"14px",fontWeight:"600",color:p?"#ffffff":"#374151"},children:p?i.jsxs(i.Fragment,{children:[i.jsx("span",{children:""}),i.jsx("span",{children:bg(p.hours,p.minutes)}),i.jsx("button",{onClick:S,style:{padding:"0.25rem 0.5rem",backgroundColor:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"6px",color:"#ffffff",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:"End"})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{children:""}),i.jsx("span",{children:"Fasting Not Started"}),i.jsx("button",{onClick:y,style:{padding:"0.25rem 0.5rem",backgroundColor:"#dc2626",border:"none",borderRadius:"6px",color:"#ffffff",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:"Stop Eating"})]})}):i.jsxs("div",{style:{padding:"1.5rem",backgroundColor:"#ffffff",borderRadius:"16px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"},children:[i.jsxs("div",{style:{marginBottom:"1rem"},children:[i.jsxs("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"#1f2937",marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("span",{children:""}),i.jsx("span",{children:""})]}),i.jsx("p",{style:{fontSize:"13px",color:"#6b7280"},children:""})]}),p&&m?i.jsxs("div",{children:[i.jsxs("div",{style:{padding:"1.5rem",backgroundColor:m.color,borderRadius:"12px",marginBottom:"1rem",textAlign:"center"},children:[i.jsx("div",{style:{fontSize:"48px",fontWeight:"bold",color:"#ffffff",marginBottom:"0.5rem"},children:bg(p.hours,p.minutes)}),i.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.25rem"},children:m.stage}),i.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.8)"},children:m.description})]}),i.jsx("div",{style:{padding:"1rem",backgroundColor:"#f9fafb",borderRadius:"8px",marginBottom:"1rem"},children:i.jsxs("div",{style:{fontSize:"12px",color:"#6b7280",lineHeight:"1.6"},children:[i.jsx("div",{style:{marginBottom:"0.5rem"},children:i.jsx("strong",{children:":"})}),i.jsxs("ul",{style:{margin:0,paddingLeft:"1.5rem"},children:[i.jsx("li",{children:"0-12h: "}),i.jsx("li",{children:"12-16h: "}),i.jsx("li",{children:"16-18h: "}),i.jsx("li",{children:"18-24h: "}),i.jsx("li",{children:"24h+: "})]})]})}),i.jsx("button",{onClick:S,style:{width:"100%",padding:"0.75rem",backgroundColor:"#10b981",border:"none",borderRadius:"8px",color:"#ffffff",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:x=>x.currentTarget.style.backgroundColor="#059669",onMouseLeave:x=>x.currentTarget.style.backgroundColor="#10b981",children:" Start Eating"})]}):i.jsxs("div",{children:[i.jsxs("div",{style:{padding:"2rem",backgroundColor:"#f3f4f6",borderRadius:"12px",marginBottom:"1rem",textAlign:"center"},children:[i.jsx("div",{style:{fontSize:"48px",marginBottom:"1rem"},children:""}),i.jsx("div",{style:{fontSize:"16px",color:"#6b7280",marginBottom:"0.5rem"},children:""}),i.jsx("div",{style:{fontSize:"13px",color:"#9ca3af"},children:' "Stop Eating" '})]}),i.jsx("button",{onClick:y,style:{width:"100%",padding:"0.75rem",backgroundColor:"#dc2626",border:"none",borderRadius:"8px",color:"#ffffff",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:x=>x.currentTarget.style.backgroundColor="#b91c1c",onMouseLeave:x=>x.currentTarget.style.backgroundColor="#dc2626",children:" Stop Eating"})]})]})}const El="primal_logic_favorites";function Jo(){try{const l=localStorage.getItem(El);return l?JSON.parse(l):[]}catch{return[]}}function cy(l,o,u){try{const c=Jo(),v=`fav_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,p={id:v,foodItem:l,photoUrl:o,dateAdded:new Date().toISOString(),notes:u};return c.push(p),localStorage.setItem(El,JSON.stringify(c)),window.dispatchEvent(new CustomEvent("favoritesUpdated")),v}catch(c){throw c}}function uy(l){try{const u=Jo().filter(c=>c.id!==l);localStorage.setItem(El,JSON.stringify(u)),window.dispatchEvent(new CustomEvent("favoritesUpdated"))}catch{}}function dy(l,o){try{const u=Jo(),c=u.findIndex(v=>v.id===l);c!==-1&&(u[c]={...u[c],...o},localStorage.setItem(El,JSON.stringify(u)),window.dispatchEvent(new CustomEvent("favoritesUpdated")))}catch{}}function my(l){try{return Jo().find(u=>u.foodItem.item===l.item&&u.foodItem.amount===l.amount&&u.foodItem.unit===l.unit)||null}catch{return null}}async function fy(l){return new Promise((o,u)=>{try{if(l.size>5242880){u(new Error("5MB"));return}if(!l.type.startsWith("image/")){u(new Error(""));return}const v=new FileReader;v.onload=p=>{const m=p.target?.result;o(m)},v.onerror=()=>{u(new Error(""))},v.readAsDataURL(l)}catch(c){u(c)}})}const Rl="primal_logic_notifications";function Qv(){return"Notification"in window?Notification.permission:"denied"}function $o(){try{const l=localStorage.getItem(Rl);return l?JSON.parse(l):[]}catch{return[]}}function Xv(){try{return $o().filter(o=>!o.read).length}catch{return 0}}function Wv(l){try{const o=$o(),u=o.find(c=>c.id===l);u&&(u.read=!0,localStorage.setItem(Rl,JSON.stringify(o)),window.dispatchEvent(new CustomEvent("notificationsUpdated")))}catch{}}function Jv(){try{const l=$o();l.forEach(o=>o.read=!0),localStorage.setItem(Rl,JSON.stringify(l)),window.dispatchEvent(new CustomEvent("notificationsUpdated"))}catch{}}function $v(l){try{const u=$o().filter(c=>c.id!==l);localStorage.setItem(Rl,JSON.stringify(u)),window.dispatchEvent(new CustomEvent("notificationsUpdated"))}catch{}}function eb({onNavigateToSettings:l}){const{t:o}=Ln(),[u,c]=f.useState(!1),[v,p]=f.useState("default"),[m,y]=f.useState(0),[S,x]=f.useState([]),b=f.useRef(null);f.useEffect(()=>{const I=()=>{p(Qv()),y(Xv()),x($o())};return I(),window.addEventListener("notificationsUpdated",I),()=>{window.removeEventListener("notificationsUpdated",I)}},[]),f.useEffect(()=>{const I=ie=>{b.current&&!b.current.contains(ie.target)&&c(!1)};return u&&document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[u]);const g=I=>{I.read||(Wv(I.id),y(ie=>Math.max(0,ie-1)),x(ie=>ie.map(q=>q.id===I.id?{...q,read:!0}:q)))},k=()=>{Jv(),y(0),x(I=>I.map(ie=>({...ie,read:!0})))},T=I=>{$v(I),x(ie=>ie.filter(q=>q.id!==I)),y(ie=>{const q=S.find(B=>B.id===I);return q&&!q.read?Math.max(0,ie-1):ie})},O=async()=>{const{requestNotificationPermission:I}=await Fe(async()=>{const{requestNotificationPermission:q}=await Promise.resolve().then(()=>zg);return{requestNotificationPermission:q}},void 0);await I()&&(p("granted"),localStorage.setItem("settings_notification_enabled",JSON.stringify(!0)))};return i.jsxs("div",{ref:b,style:{position:"relative"},children:[i.jsxs("button",{onClick:()=>c(!u),style:{position:"relative",padding:"0.5rem",backgroundColor:"transparent",border:"none",cursor:"pointer",fontSize:"20px",color:"#a1a1aa",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:I=>{I.currentTarget.style.color="#ffffff"},onMouseLeave:I=>{I.currentTarget.style.color="#a1a1aa"},title:o("home.notifications"),children:["",m>0&&i.jsx("span",{style:{position:"absolute",top:"0",right:"0",backgroundColor:"#ef4444",color:"white",borderRadius:"50%",padding:"2px 6px",fontSize:"10px",fontWeight:"700",minWidth:"18px",textAlign:"center",transform:"translate(25%, -25%)"},children:m>99?"99+":m})]}),u&&i.jsxs("div",{style:{position:"absolute",top:"100%",right:"0",marginTop:"0.5rem",backgroundColor:"#18181b",border:"1px solid #27272a",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.4)",width:"320px",maxHeight:"400px",overflow:"hidden",display:"flex",flexDirection:"column",zIndex:1e3},children:[i.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid #27272a",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#ffffff"},children:o("home.notifications")}),m>0&&i.jsx("button",{onClick:k,style:{padding:"0.25rem 0.5rem",backgroundColor:"transparent",border:"1px solid #27272a",borderRadius:"4px",color:"#a1a1aa",fontSize:"12px",cursor:"pointer"},children:o("home.markAllRead")})]}),i.jsx("div",{style:{overflowY:"auto",maxHeight:"300px"},children:v!=="granted"?i.jsxs("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#a1a1aa"},children:[i.jsx("div",{style:{fontSize:"48px",marginBottom:"0.5rem"},children:""}),i.jsx("div",{style:{fontSize:"14px",marginBottom:"1rem"},children:o(v==="denied"?"home.notificationDeniedDesc":"home.notificationDesc")}),v!=="denied"&&i.jsx("button",{onClick:O,style:{padding:"0.5rem 1rem",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},children:o("home.enableNotifications")}),v==="denied"&&l&&i.jsx("button",{onClick:l,style:{padding:"0.5rem 1rem",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},children:o("home.openSettings")})]}):S.length===0?i.jsxs("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#a1a1aa"},children:[i.jsx("div",{style:{fontSize:"48px",marginBottom:"0.5rem"},children:""}),i.jsx("div",{style:{fontSize:"14px"},children:o("home.noNotifications")})]}):i.jsx("div",{style:{display:"flex",flexDirection:"column"},children:S.map(I=>i.jsx("div",{onClick:()=>g(I),style:{padding:"0.75rem",backgroundColor:I.read?"#18181b":"#1e3a5f",borderBottom:"1px solid #27272a",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:ie=>{ie.currentTarget.style.backgroundColor=I.read?"#27272a":"#2a4a6f"},onMouseLeave:ie=>{ie.currentTarget.style.backgroundColor=I.read?"#18181b":"#1e3a5f"},children:i.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"0.5rem"},children:[i.jsxs("div",{style:{flex:1},children:[i.jsx("div",{style:{fontSize:"14px",fontWeight:I.read?"400":"600",color:"#ffffff",marginBottom:"0.25rem"},children:I.title}),I.body&&i.jsx("div",{style:{fontSize:"12px",color:"#a1a1aa",marginBottom:"0.25rem"},children:I.body}),i.jsx("div",{style:{fontSize:"11px",color:"#6b7280"},children:new Date(I.timestamp).toLocaleString("ja-JP",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),i.jsx("button",{onClick:ie=>{ie.stopPropagation(),T(I.id)},style:{padding:"0.25rem",backgroundColor:"transparent",border:"none",color:"#6b7280",cursor:"pointer",fontSize:"16px"},title:o("common.delete"),children:""})]})},I.id))})})]})]})}function tb({message:l,type:o="info",duration:u=3e3,onClose:c}){f.useEffect(()=>{const p=setTimeout(()=>{c()},u);return()=>clearTimeout(p)},[u,c]);const v=()=>{switch(o){case"success":return"";case"error":return"";case"info":return"";default:return""}};return i.jsx("div",{className:"toast-container",children:i.jsxs("div",{className:`toast-message toast-${o}`,children:[i.jsx("span",{className:"toast-icon",children:v()}),i.jsx("span",{children:l})]})})}function nb({onOpenFatTabReady:l,onAddFoodReady:o}={}){const{t:u}=Ln(),{dailyLog:c,setRecoveryProtocol:v,addFood:p,userProfile:m}=Zi(),{previewData:y,setPreview:S,clearPreview:x}=kv(),{showNutrientPreview:b,nutrientDisplayMode:g}=Xo(),k=Qo();f.useEffect(()=>{g==="detailed"&&Ot(!0)},[g]);const[T,O]=f.useState(null);f.useEffect(()=>{(async()=>{const{getFatAdjustmentForToday:Se}=await Fe(async()=>{const{getFatAdjustmentForToday:Pe}=await import("./bioTuner-C3DdO7PQ.js");return{getFatAdjustmentForToday:Pe}},__vite__mapDeps([3,1,2])),ge=await Se();O(ge)})()},[c?.date]);const I=f.useMemo(()=>{const w=Re(m?.gender,m?.age,m?.activityLevel,m?.isPregnant,m?.isBreastfeeding,m?.isPostMenopause,m?.stressLevel,m?.sleepHours,m?.exerciseIntensity,m?.exerciseFrequency,m?.thyroidFunction,m?.sunExposureFrequency,m?.digestiveIssues,m?.inflammationLevel,m?.mentalHealthStatus,m?.supplementMagnesium,m?.supplementVitaminD,m?.supplementIodine,m?.alcoholFrequency,m?.caffeineIntake,m?.daysOnCarnivore,m?.carnivoreStartDate,m?.forceAdaptationMode,m?.bodyComposition,m?.weight,m?.metabolicStressIndicators,m?.customNutrientTargets?Object.fromEntries(Object.entries(m.customNutrientTargets).map(([Se,ge])=>[Se,typeof ge=="number"?{mode:"manual",value:ge}:ge])):void 0);return T&&T.recommendedFatTotal>0?{...w,fat:{...w.fat,target:T.recommendedFatTotal}}:w},[m,T]),[ie,q]=f.useState(!1),[B,$]=f.useState(!1),[re,pe]=f.useState(null),[ce,Ne]=f.useState(!1),[V,ve]=f.useState(!1),[he,M]=f.useState(!1),[be,z]=f.useState([]),[W,me]=f.useState([]),[D,te]=f.useState([]),[X,ae]=f.useState(null),[se,fe]=f.useState(!1),[L,Z]=f.useState(!1),[K,Ke]=f.useState(null),[bt,Te]=f.useState(""),[j,H]=f.useState(!1),[Tt,Mt]=f.useState(null),[Ct,On]=f.useState(""),[ee,ue]=f.useState(""),[Ce,de]=f.useState(!1),[ht,ut]=f.useState(!1),[ot,Et]=f.useState(!1),[rt,We]=f.useState(null),[_t,Qi]=f.useState({}),[vi,Wn]=f.useState(!1),[Jt,xn]=f.useState(!1),[Zt,cn]=f.useState(null),[Jn,Qt]=f.useState(null),[dt,Ot]=f.useState(()=>localStorage.getItem("primal_logic_nutrient_display_mode")==="detailed"),ct=f.useMemo(()=>Fv(m?.daysOnCarnivore,m?.carnivoreStartDate),[m?.daysOnCarnivore,m?.carnivoreStartDate]);f.useEffect(()=>{(async()=>{const Se=await Og();ae(Se)})()},[c?.date]);const Sn=f.useCallback(w=>{w?S(w):x()},[S,x]),It=f.useRef(!1);f.useEffect(()=>{It.current||(l&&l(()=>{}),o&&o(w=>{p(w)}),It.current=!0)},[l,o,p]),f.useEffect(()=>{V&&wn()},[V]),f.useEffect(()=>{he&&Kn()},[he]),f.useEffect(()=>{const w=()=>{me(Jo())};return w(),window.addEventListener("favoritesUpdated",w),()=>{window.removeEventListener("favoritesUpdated",w)}},[]);const wn=async()=>{const w=Wo();z(w)},Kn=async()=>{const{getDailyLogs:w}=await Fe(async()=>{const{getDailyLogs:xe}=await Promise.resolve().then(()=>Jc);return{getDailyLogs:xe}},void 0),Se=await w(),ge=[],Pe=new Date;Pe.setDate(Pe.getDate()-30),Se.filter(xe=>new Date(xe.date)>=Pe).sort((xe,Oe)=>new Date(Oe.date).getTime()-new Date(xe.date).getTime()).forEach(xe=>{xe.fuel.forEach(Oe=>{ge.push({foodName:Oe.item,amount:Oe.amount,unit:Oe.unit,date:xe.date})})}),te(ge.slice(0,50))},Y=w=>{Ke(w),Te(w.amount.toString()),Z(!0)},ne=async w=>{const Se=await Yi();let ge=null;const Pe=Se.find(st=>st.date===w.date);if(Pe&&(ge=Pe.fuel.find(st=>st.item===w.foodName&&st.amount===w.amount&&st.unit===w.unit)||null,ge||(ge=Pe.fuel.find(st=>st.item===w.foodName)||null)),!ge){for(const st of Se)if(ge=st.fuel.find($t=>$t.item===w.foodName)||null,ge)break}if(ge&&ge.nutrients&&Object.keys(ge.nutrients).length>0){const st=w.amount/ge.amount,$t={item:w.foodName,amount:w.amount,unit:w.unit,type:ge.type,nutrients:Object.fromEntries(Object.entries(ge.nutrients||{}).map(([Ut,_])=>[Ut,(_||0)*st]))};p($t),setTimeout(()=>{window.dispatchEvent(new CustomEvent("dailyLogUpdated"))},200),M(!1);return}const xe=vg(w.foodName),Oe=xe.length>0?xe[0]:null;if(!Oe){const st={item:w.foodName,amount:w.amount,unit:w.unit,type:"animal",nutrients:{}};p(st),setTimeout(()=>{window.dispatchEvent(new CustomEvent("dailyLogUpdated"))},200),M(!1);return}const Ee=w.amount/100,yt={item:w.foodName,amount:w.amount,unit:w.unit,type:Oe.type,nutrients:{protein:(Oe.nutrientsRaw.protein||0)*Ee,fat:(Oe.nutrientsRaw.fat||0)*Ee,carbs:(Oe.nutrientsRaw.carbs||0)*Ee,netCarbs:(Oe.nutrientsRaw.carbs||0)*Ee,fiber:(Oe.nutrientsRaw.fiber||0)*Ee,hemeIron:(Oe.nutrientsRaw.hemeIron||0)*Ee,nonHemeIron:(Oe.nutrientsRaw.nonHemeIron||0)*Ee,zinc:(Oe.nutrientsRaw.zinc||0)*Ee,sodium:(Oe.nutrientsRaw.sodium||0)*Ee,magnesium:(Oe.nutrientsRaw.magnesium||0)*Ee,vitaminC:(Oe.nutrientsRaw.vitaminC||0)*Ee,vitaminK:(Oe.nutrientsRaw.vitaminK||0)*Ee,vitaminB12:(Oe.nutrientsRaw.vitaminB12||0)*Ee}};p(yt),setTimeout(()=>{window.dispatchEvent(new CustomEvent("dailyLogUpdated"))},200),M(!1)},un=w=>{Mt(w),On(w.amount.toString()),H(!0)},jn=async(w,Se)=>{const ge=Se!==void 0?Se:w.amount,Pe=await Yi();let xe=null;for(const $t of Pe)if(xe=$t.fuel.find(Ut=>Ut.item===w.foodName)||null,xe)break;if(xe&&xe.nutrients&&Object.keys(xe.nutrients).length>0){const $t=ge/xe.amount,Ut={item:w.foodName,amount:ge,unit:w.unit,type:xe.type,nutrients:Object.fromEntries(Object.entries(xe.nutrients||{}).map(([_,J])=>[_,(J||0)*$t]))};p(Ut),setTimeout(()=>{window.dispatchEvent(new CustomEvent("dailyLogUpdated"))},200),ve(!1);return}const Oe=vg(w.foodName),Ee=Oe.length>0?Oe[0]:null;if(!Ee){const $t={item:w.foodName,amount:ge,unit:w.unit,type:"animal",nutrients:{}};p($t),setTimeout(()=>{window.dispatchEvent(new CustomEvent("dailyLogUpdated"))},200),ve(!1);return}const yt=ge/100,st={item:w.foodName,amount:ge,unit:w.unit,type:Ee.type,nutrients:{protein:(Ee.nutrientsRaw.protein||0)*yt,fat:(Ee.nutrientsRaw.fat||0)*yt,carbs:(Ee.nutrientsRaw.carbs||0)*yt,netCarbs:(Ee.nutrientsRaw.carbs||0)*yt,fiber:(Ee.nutrientsRaw.fiber||0)*yt,hemeIron:(Ee.nutrientsRaw.hemeIron||0)*yt,nonHemeIron:(Ee.nutrientsRaw.nonHemeIron||0)*yt,zinc:(Ee.nutrientsRaw.zinc||0)*yt,sodium:(Ee.nutrientsRaw.sodium||0)*yt,magnesium:(Ee.nutrientsRaw.magnesium||0)*yt,vitaminC:(Ee.nutrientsRaw.vitaminC||0)*yt,vitaminK:(Ee.nutrientsRaw.vitaminK||0)*yt,vitaminB12:(Ee.nutrientsRaw.vitaminB12||0)*yt}};p(st),setTimeout(()=>{window.dispatchEvent(new CustomEvent("dailyLogUpdated"))},200),ve(!1)},gt=f.useMemo(()=>({effectiveProtein:0,proteinRequirement:100,fatTotal:0,effectiveVitC:0,vitCRequirement:10,effectiveVitK:0,effectiveIron:0,ironRequirement:8,effectiveZinc:0,magnesiumTotal:0,sodiumTotal:0,netCarbs:0,fiberTotal:0,potassiumTotal:0,omega3Total:0,omega6Total:0,vitaminDTotal:0,vitaminATotal:0,vitaminK2Total:0,vitaminB12Total:0,cholineTotal:0}),[]);f.useMemo(()=>{if(!y)return[];const w=c?.calculatedMetrics||gt,Se=w.effectiveProtein??0,ge=w.proteinRequirement??100,Pe={protein:{key:"protein",label:u("nutrient.protein"),current:Se,previewValue:y.protein||0,target:ge,unit:"g",nutrient:"protein",status:Se>=ge?"optimal":"low"},fat:{key:"fat",label:u("nutrient.fat"),current:w.fatTotal??0,previewValue:y.fat||0,target:150,unit:"g",nutrient:"fat",status:(w.fatTotal??0)>=150?"optimal":(w.fatTotal??0)<100?"warning":"low"},zinc:{key:"zinc",label:u("nutrient.zinc"),current:w.effectiveZinc,previewValue:y.zinc||0,target:11,unit:"mg",nutrient:"zinc",status:w.effectiveZinc>=11?"optimal":"low"},iron:{key:"iron",label:u("nutrient.iron"),current:w.effectiveIron,previewValue:y.iron||0,target:w.ironRequirement||8,unit:"mg",nutrient:"iron",status:w.effectiveIron>=(w.ironRequirement||8)?"optimal":"low"},magnesium:{key:"magnesium",label:u("nutrient.magnesium"),current:w.magnesiumTotal,previewValue:y.magnesium||0,target:400,unit:"mg",nutrient:"magnesium",status:w.magnesiumTotal>=400?"optimal":"low"},sodium:{key:"sodium",label:u("nutrient.sodium"),current:w.sodiumTotal,previewValue:y.sodium||0,target:5e3,unit:"mg",nutrient:"sodium",status:w.sodiumTotal>=5e3?"optimal":w.sodiumTotal<3e3?"warning":"low"}};return Object.values(Pe).filter(xe=>xe.current>0||xe.previewValue>0).map(xe=>i.jsx(Be,{label:xe.label,currentDailyTotal:xe.current,previewAmount:xe.previewValue,target:xe.target,color:Le(xe.key),unit:xe.unit,nutrientKey:xe.key},xe.key))},[y,c]);const dn=w=>w==="beef"?"beef":w==="pork"?"pork":w==="chicken"?"chicken":null,Ht=()=>{const w=new CustomEvent("navigateToScreen",{detail:"settings"});window.dispatchEvent(w)};return i.jsxs("div",{className:"home-screen-container",style:{position:"relative"},children:[i.jsx("div",{style:{position:"fixed",top:"1rem",right:"1rem",zIndex:100},children:i.jsx(eb,{onNavigateToSettings:Ht})}),i.jsx(_v,{previewData:y,showPreview:b}),i.jsxs("div",{className:"home-screen-content",style:{paddingTop:"100px"},children:[ct&&i.jsx(Lv,{daysInTransition:ct.daysInTransition,totalDays:ct.totalDays,onPress:()=>fe(!0)}),se&&ct&&i.jsx(Ov,{progress:ct,onClose:()=>fe(!1)}),T?.notification&&i.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",backgroundColor:T.notification.priority==="important"?"#7f1d1d":T.notification.priority==="warning"?"#78350f":"#1e3a8a",borderRadius:"12px",border:`2px solid ${T.notification.priority==="important"?"#dc2626":T.notification.priority==="warning"?"#f59e0b":"#3b82f6"}`},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[i.jsx("span",{style:{fontSize:"20px"},children:""}),i.jsx("h3",{style:{fontSize:"16px",fontWeight:"700",color:"#ffffff"},children:"Bio-Tuner Adjustment"})]}),i.jsx("p",{style:{fontSize:"14px",color:"#e5e7eb",lineHeight:"1.5"},children:T.notification.message}),T.adjustmentPercentage!==0&&i.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"12px",color:"#d1d5db"},children:["Adjustment Rate: ",T.adjustmentPercentage>0?"+":"",T.adjustmentPercentage,"%"]})]}),c&&c.calculatedMetrics&&i.jsxs("div",{style:{marginBottom:"1.5rem"},children:[(()=>{const w=gg.electrolytes.filter(Se=>B||hl(Se,g));return w.length===0?null:i.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",backgroundColor:"#f0f9ff",borderRadius:"12px",border:"2px solid #3b82f6"},children:[i.jsxs("h3",{style:{fontSize:"16px",fontWeight:"700",color:"#1e40af",marginBottom:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[" ",u("home.electrolyteBalance")]}),i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:w.map(Se=>{const ge=c?.calculatedMetrics||gt,xe={sodium:{label:u("nutrient.sodium"),current:ge.sodiumTotal||0,target:I.sodium,unit:"mg"},potassium:{label:u("nutrient.potassium"),current:ge.potassiumTotal||0,target:I.potassium,unit:"mg"},magnesium:{label:u("nutrient.magnesium"),current:ge.magnesiumTotal||0,target:I.magnesium,unit:"mg"}}[Se];return i.jsx(Be,{label:xe.label,currentDailyTotal:xe.current,previewAmount:0,target:xe.target,color:Le(Se),unit:xe.unit,nutrientKey:Se},Se)})})]})})(),(()=>{const w=gg.macros.filter(Se=>B||hl(Se,g));return w.length===0?null:i.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",backgroundColor:"#fef3c7",borderRadius:"12px",border:"2px solid #f59e0b"},children:[i.jsxs("h3",{style:{fontSize:"16px",fontWeight:"700",color:"#92400e",marginBottom:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[" ",u("home.essentialNutrients")]}),i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:w.map(Se=>{const ge=c?.calculatedMetrics||gt,xe={fat:{label:u("nutrient.fat"),current:ge.fatTotal||0,target:I.fat,unit:"g"},protein:{label:u("nutrient.protein"),current:ge.effectiveProtein||0,target:I.protein,unit:"g"}}[Se];return i.jsx(Be,{label:xe.label,currentDailyTotal:xe.current,previewAmount:0,target:xe.target,color:Le(Se),unit:xe.unit,nutrientKey:Se},Se)})})]})})(),qn.tier2.filter(Se=>B||hl(Se,g)).length===0&&!B?null:i.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",backgroundColor:"#f3f4f6",borderRadius:"12px",border:"1px solid #d1d5db"},children:[g!=="detailed"&&i.jsxs("button",{onClick:()=>Ot(!dt),style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",background:"none",border:"none",padding:"0.5rem",cursor:"pointer",fontSize:"16px",fontWeight:"600",color:"#374151"},children:[i.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[" ",u("home.otherNutrients"),i.jsxs("span",{style:{fontSize:"12px",fontWeight:"400",color:"#6b7280"},children:["(",qn.tier2.length,u("home.items"),")"]})]}),i.jsx("span",{style:{fontSize:"20px"},children:dt?"":""})]}),g==="detailed"&&i.jsxs("div",{style:{fontSize:"16px",fontWeight:"600",color:"#374151",marginBottom:"0.75rem"},children:[" ",u("home.otherNutrients")," (",qn.tier2.length,u("home.items"),")"]}),(dt||g==="detailed")&&i.jsx("div",{style:{marginTop:g==="detailed"?"0":"0.75rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:qn.tier2.filter(Se=>B||hl(Se,g)).map(Se=>{const ge=c?.calculatedMetrics||gt,xe={omegaRatio:{label:u("nutrient.omegaRatio"),current:ge.omega6Total?ge.omega6Total/Math.max(ge.omega3Total||1,1):0,target:4,unit:":1"},glycineMethionineRatio:null,calciumPhosphorusRatio:null,iron:{label:u("nutrient.iron"),current:ge.effectiveIron||0,target:I.iron,unit:"mg"},zinc:{label:u("nutrient.zinc"),current:ge.effectiveZinc||0,target:I.zinc,unit:"mg"},vitaminD:{label:u("nutrient.vitaminD"),current:ge.vitaminDTotal||0,target:I.vitamin_d,unit:"IU"},vitaminA:{label:u("nutrient.vitaminA"),current:ge.vitaminATotal||0,target:I.vitamin_a,unit:"IU"},vitaminK2:{label:u("nutrient.vitaminK2"),current:ge.vitaminK2Total||0,target:I.vitamin_k2,unit:"g"},vitaminB12:{label:u("nutrient.vitaminB12"),current:ge.vitaminB12Total||0,target:I.vitamin_b12,unit:"g"},choline:{label:u("nutrient.choline"),current:ge.cholineTotal||0,target:I.choline,unit:"mg"}}[Se];return xe?i.jsx(Be,{label:xe.label,currentDailyTotal:xe.current,previewAmount:0,target:xe.target,color:Le(Se),unit:xe.unit,nutrientKey:Se},Se):null})})]}),i.jsx("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#f9fafb",borderRadius:"12px",border:"2px solid #d1d5db",display:"flex",justifyContent:"center"},children:i.jsxs("button",{onClick:()=>$(!B),style:{padding:"0.75rem 1.5rem",backgroundColor:B?"#16a34a":"#6b7280",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s"},onMouseEnter:w=>{B||(w.currentTarget.style.backgroundColor="#4b5563")},onMouseLeave:w=>{B||(w.currentTarget.style.backgroundColor="#6b7280")},children:[B?" ":"",u("home.showAllNutrients")]})})]}),i.jsx("div",{style:{marginBottom:"1rem"},children:i.jsx(Zv,{compact:!0})}),W.length>0&&i.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",backgroundColor:"#fffbeb",borderRadius:"12px",border:"1px solid #fbbf24"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[i.jsxs("div",{style:{fontSize:"16px",fontWeight:"600",color:"#92400e"},children:[" ",u("home.favorites")]}),W.length>3&&i.jsx("button",{onClick:()=>{const w=new CustomEvent("navigateToScreen",{detail:"history"});window.dispatchEvent(w)},style:{padding:"0.25rem 0.75rem",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:u("home.viewAll")})]}),i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:W.slice(0,3).map(w=>i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",backgroundColor:"white",borderRadius:"8px",border:"1px solid #fbbf24"},children:[w.photoUrl&&i.jsx("img",{src:w.photoUrl,alt:w.foodItem.item,style:{width:"48px",height:"48px",objectFit:"cover",borderRadius:"6px",flexShrink:0}}),i.jsxs("div",{style:{flex:1,minWidth:0},children:[i.jsx("div",{style:{fontSize:"15px",fontWeight:"600",color:"#92400e",marginBottom:"0.25rem"},children:w.foodItem.item}),i.jsxs("div",{style:{fontSize:"13px",color:"#78350f"},children:[w.foodItem.amount,w.foodItem.unit]})]}),i.jsx("button",{onClick:()=>{p(w.foodItem)},style:{padding:"0.5rem 1rem",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"600",cursor:"pointer",whiteSpace:"nowrap"},children:u("home.add")})]},w.id))})]}),i.jsx("div",{className:"home-screen-section",style:{position:"relative",zIndex:10},children:i.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:"0.25rem",marginBottom:"1rem",flexWrap:"wrap"},children:[i.jsx("button",{onClick:w=>{w.preventDefault(),w.stopPropagation(),pe("beef"),ve(!1),M(!1)},title:u("home.addFood"),style:{width:"44px",height:"44px",padding:0,backgroundColor:re?"#b91c1c":"#f3f4f6",color:re?"white":"#374151",fontWeight:600,borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"20px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,position:"relative"},onMouseEnter:w=>{re||(w.currentTarget.style.backgroundColor="#e5e7eb")},onMouseLeave:w=>{re||(w.currentTarget.style.backgroundColor="#f3f4f6")},children:"+"}),i.jsx("button",{onClick:w=>{w.preventDefault(),w.stopPropagation(),M(!he),ve(!1),pe(null)},title:u("home.history"),style:{width:"44px",height:"44px",padding:0,backgroundColor:he?"#b91c1c":"#f3f4f6",color:he?"white":"#374151",fontWeight:600,borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"20px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,position:"relative"},onMouseEnter:w=>{he||(w.currentTarget.style.backgroundColor="#e5e7eb")},onMouseLeave:w=>{he||(w.currentTarget.style.backgroundColor="#f3f4f6")},children:""}),i.jsx("button",{onClick:w=>{w.preventDefault(),w.stopPropagation(),ve(!V),M(!1),pe(null)},title:u("home.myFoods"),style:{width:"44px",height:"44px",padding:0,backgroundColor:V?"#b91c1c":"#f3f4f6",color:V?"white":"#374151",fontWeight:600,borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"20px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,position:"relative"},onMouseEnter:w=>{V||(w.currentTarget.style.backgroundColor="#e5e7eb")},onMouseLeave:w=>{V||(w.currentTarget.style.backgroundColor="#f3f4f6")},children:""}),i.jsx("button",{onClick:()=>{const w=new CustomEvent("navigateToScreen",{detail:"customFood"});window.dispatchEvent(w)},title:u("customFood.title"),style:{width:"44px",height:"44px",padding:0,backgroundColor:"#f3f4f6",color:"#374151",fontWeight:600,borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"20px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,position:"relative"},onMouseEnter:w=>{w.currentTarget.style.backgroundColor="#e5e7eb"},onMouseLeave:w=>{w.currentTarget.style.backgroundColor="#f3f4f6"},children:""}),i.jsx("button",{onClick:()=>{const w=new CustomEvent("navigateToScreen",{detail:"input"});window.dispatchEvent(w)},title:u("home.manualInput"),style:{width:"44px",height:"44px",padding:0,backgroundColor:"#f3f4f6",color:"#374151",fontWeight:600,borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"20px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,position:"relative"},onMouseEnter:w=>{w.currentTarget.style.backgroundColor="#e5e7eb"},onMouseLeave:w=>{w.currentTarget.style.backgroundColor="#f3f4f6"},children:""}),k.photoUpload&&i.jsx("button",{onClick:()=>{ut(!0)},title:u("home.addFromPhoto")+" / "+u("home.barcodeScan"),style:{width:"44px",height:"44px",padding:0,backgroundColor:"#f3f4f6",color:"#374151",fontWeight:600,borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"20px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,position:"relative"},onMouseEnter:w=>{w.currentTarget.style.backgroundColor="#e5e7eb"},onMouseLeave:w=>{w.currentTarget.style.backgroundColor="#f3f4f6"},children:""})]})}),k.myFoodsTab&&V&&i.jsxs("div",{className:"home-screen-section",style:{marginTop:"1rem"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[i.jsx("h2",{className:"home-screen-section-title",children:u("home.myFoodsTitle")}),i.jsxs("button",{onClick:()=>{const w=new CustomEvent("navigateToScreen",{detail:"customFood"});window.dispatchEvent(w)},style:{padding:"0.5rem 1rem",backgroundColor:"#b91c1c",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},children:["+ ",u("home.createNew")]})]}),be.length===0?i.jsx("p",{style:{textAlign:"center",color:"#6b7280",padding:"2rem"},children:u("home.noMyFoodsRegistered")}):i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{marginBottom:"1rem"},children:i.jsx("input",{type:"text",value:ee,onChange:w=>ue(w.target.value),placeholder:u("input.searchPlaceholder"),style:{width:"100%",padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px"}})}),i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:be.filter(w=>{const Se=ee.toLowerCase();return(w.displayName||w.foodName).toLowerCase().includes(Se)||w.foodName.toLowerCase().includes(Se)}).map((w,Se)=>i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("button",{onClick:()=>un(w),style:{flex:1,textAlign:"left",cursor:"pointer",background:"none",border:"none",padding:0},children:[i.jsx("div",{style:{fontWeight:600,fontSize:"16px",marginBottom:"0.25rem"},children:w.displayName||w.foodName}),i.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:[w.amount,w.unit==="g"?"g":"piece"]})]}),i.jsx("button",{onClick:ge=>{ge.stopPropagation(),hg(w),wn()},style:{padding:"0.5rem",backgroundColor:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontWeight:"500"},title:u("common.delete"),children:""})]},`${w.foodName}_${w.amount}_${w.unit}_${Se}`))})]})]}),k.historyTab&&he&&i.jsxs("div",{className:"home-screen-section",style:{marginTop:"1rem"},children:[i.jsx("h2",{className:"home-screen-section-title",children:u("home.history")}),D.length===0?i.jsx("p",{style:{textAlign:"center",color:"#6b7280",padding:"2rem"},children:u("home.noHistory")}):i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:D.map((w,Se)=>i.jsx("div",{onClick:()=>Y(w),style:{padding:"1rem",backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px",textAlign:"left",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:ge=>{ge.currentTarget.style.backgroundColor="#f3f4f6",ge.currentTarget.style.borderColor="#dc2626"},onMouseLeave:ge=>{ge.currentTarget.style.backgroundColor="#f9fafb",ge.currentTarget.style.borderColor="#e5e7eb"},children:i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{style:{flex:1,minWidth:0},children:[i.jsx("div",{style:{fontWeight:600,fontSize:"15px",marginBottom:"0.25rem",color:"#1f2937"},children:w.foodName}),i.jsxs("div",{style:{fontSize:"13px",color:"#6b7280"},children:[w.amount,w.unit==="g"?"g":"piece"]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(()=>{const ge=be.some(Pe=>Pe.foodName===w.foodName&&Pe.amount===w.amount&&Pe.unit===w.unit);return i.jsx("button",{onClick:async Pe=>{Pe.stopPropagation(),Pe.preventDefault();try{if(ge){const xe=be.find(Oe=>Oe.foodName===w.foodName&&Oe.amount===w.amount&&Oe.unit===w.unit);xe&&(hg(xe),Qt({message:u("home.removedFromMyFoods"),type:"info"}))}else Lg({foodName:w.foodName,amount:w.amount,unit:w.unit}),Qt({message:u("home.addedToMyFoods"),type:"success"});await wn()}catch{}},style:{padding:"0.25rem 0.5rem",backgroundColor:ge?"#f59e0b":"#b91c1c",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontWeight:"500",opacity:ge?1:.7},title:u(ge?"home.removeFromMyFoods":"home.addToMyFoods"),children:ge?"":""})})(),i.jsx("div",{style:{fontSize:"12px",color:"#9ca3af"},children:new Date(w.date).toLocaleDateString("ja-JP",{month:"short",day:"numeric"})})]})]})},`${w.foodName}_${w.amount}_${w.unit}_${w.date}_${Se}`))})]}),re&&dn(re)&&i.jsxs("div",{className:"home-screen-section",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("h2",{className:"home-screen-section-title",children:[u(re==="beef"?"home.beef":re==="pork"?"home.pork":re==="chicken"?"home.chicken":"home.food")," ",u("home.select")]}),i.jsxs("button",{onClick:()=>pe(null),className:"text-sm text-carnivore-zinc-600 hover:text-carnivore-red-600",children:[" ",u("common.close")]})]}),i.jsx(Cv,{initialAnimal:dn(re),onSelect:(w,Se)=>{},onPreviewChange:Sn,onFoodAdd:w=>{cn(w),xn(!0),pe(null)},currentDailyTotal:c?.calculatedMetrics?{protein:c.calculatedMetrics.effectiveProtein||0,fat:c.calculatedMetrics.fatTotal||0,zinc:c.calculatedMetrics.effectiveZinc||0,magnesium:c.calculatedMetrics.magnesiumTotal||0,iron:c.calculatedMetrics.effectiveIron||0,vitamin_b12:c.calculatedMetrics.vitaminB12Total||0,sodium:c.calculatedMetrics.sodiumTotal||0,potassium:c.calculatedMetrics.potassiumTotal||0,vitamin_a:c.calculatedMetrics.vitaminATotal||0,vitamin_d:c.calculatedMetrics.vitaminDTotal||0,vitamin_k2:c.calculatedMetrics.vitaminK2Total||0,choline:c.calculatedMetrics.cholineTotal||0,iodine:c.calculatedMetrics.iodineTotal||0,calcium:c.calculatedMetrics.calciumTotal||0,phosphorus:c.calculatedMetrics.phosphorusTotal||0,glycine:c.calculatedMetrics.glycineTotal||0,methionine:c.calculatedMetrics.methionineTotal||0,plantProtein:c.calculatedMetrics.plantProteinTotal||0,vegetableOil:c.calculatedMetrics.vegetableOilTotal||0,fiber:c.calculatedMetrics.fiberTotal||0,netCarbs:c.calculatedMetrics.netCarbs||0,phytates:c.calculatedMetrics.phytatesTotal||0,polyphenols:c.calculatedMetrics.polyphenolsTotal||0,flavonoids:c.calculatedMetrics.flavonoidsTotal||0,oxalates:c.calculatedMetrics.oxalatesTotal||0,lectins:c.calculatedMetrics.lectinsTotal||0,saponins:c.calculatedMetrics.saponinsTotal||0,goitrogens:c.calculatedMetrics.goitrogensTotal||0,tannins:c.calculatedMetrics.tanninsTotal||0}:{}})]}),k.recoveryProtocol&&c?.recoveryProtocol&&i.jsxs("div",{className:"home-screen-recovery",onClick:()=>q(!0),children:[i.jsx("div",{className:"home-screen-recovery-title",children:" Recovery Protocol Active"}),i.jsxs("div",{className:"home-screen-recovery-text",children:["Fasting: ",c?.recoveryProtocol?.fastingTargetHours,"h"]}),c?.recoveryProtocol?.dietRecommendations?.slice(0,2).map((w,Se)=>i.jsxs("div",{className:"home-screen-recovery-text",children:[" ",w]},Se)),i.jsx("div",{className:"home-screen-recovery-tap",children:"Tap to view/edit "})]}),k.recoveryProtocol&&ie&&c?.recoveryProtocol&&i.jsx(ov,{protocol:c.recoveryProtocol,onClose:()=>q(!1),onSetProtocol:w=>{v(w),q(!1)}}),B&&c&&c.calculatedMetrics&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>$(!1),children:i.jsxs("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",maxWidth:"90%",maxHeight:"90%",overflow:"auto",position:"relative"},onClick:w=>w.stopPropagation(),children:[i.jsx("button",{onClick:()=>$(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer"},children:""}),i.jsx("h2",{style:{marginBottom:"1rem"},children:"Complete Nutrient Report"}),(()=>{const w=c.calculatedMetrics;return w?i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[i.jsxs("div",{children:[i.jsx("h3",{style:{marginBottom:"0.5rem",color:"#333"},children:"Main Macronutrients"}),i.jsxs("div",{children:["Protein (Effective): ",w.effectiveProtein.toFixed(1)," /"," ",w.proteinRequirement.toFixed(1)," g"]}),i.jsxs("div",{children:["Fat: ",w.fatTotal.toFixed(1)," g"]}),i.jsxs("div",{children:["Net Carbs: ",w.netCarbs.toFixed(1)," g"," ",i.jsx("span",{style:{color:"#999",fontSize:"0.9rem"},children:"(Not needed)"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{style:{marginBottom:"0.5rem",color:"#333"},children:"Carnivore Key Nutrients"}),i.jsxs("div",{children:["Vitamin B12: ",w.vitaminB12Total?.toFixed(1)||"0.0"," g"]}),i.jsxs("div",{children:["Zinc (Effective): ",w.effectiveZinc.toFixed(1)," / 11.0 mg"]}),i.jsxs("div",{children:["Iron (Effective): ",w.effectiveIron.toFixed(1)," /"," ",w.ironRequirement.toFixed(1)," mg"]}),i.jsxs("div",{children:["Vitamin A: ",w.effectiveVitC>0?"Yes":"0"," g"]})]}),i.jsxs("div",{children:[i.jsx("h3",{style:{marginBottom:"0.5rem",color:"#333"},children:"B Vitamins"}),i.jsxs("div",{children:["Vitamin B1: ",w.vitaminB1Total?.toFixed(2)||"0.00"," mg"]}),i.jsxs("div",{children:["Vitamin B2: ",w.vitaminB2Total?.toFixed(2)||"0.00"," mg"]}),i.jsxs("div",{children:["Vitamin B3: ",w.vitaminB3Total?.toFixed(2)||"0.00"," mg"]}),i.jsxs("div",{children:["Vitamin B6: ",w.vitaminB6Total?.toFixed(2)||"0.00"," mg"]}),i.jsxs("div",{children:["Vitamin B12: ",w.vitaminB12Total?.toFixed(1)||"0.0"," g"]})]}),i.jsxs("div",{children:[i.jsx("h3",{style:{marginBottom:"0.5rem",color:"#333"},children:"Vitamins"}),i.jsxs("div",{children:["Vitamin C: ",w.effectiveVitC.toFixed(1)," /"," ",w.vitCRequirement.toFixed(1)," mg"]}),i.jsxs("div",{children:["Vitamin K (Effective): ",w.effectiveVitK.toFixed(1)," / 120.0 g"]}),i.jsxs("div",{children:["Vitamin E: ",w.vitaminETotal?.toFixed(2)||"0.00"," mg"]})]}),i.jsxs("div",{children:[i.jsx("h3",{style:{marginBottom:"0.5rem",color:"#333"},children:"Minerals"}),i.jsxs("div",{children:["Sodium: ",w.sodiumTotal.toFixed(0)," / 5000 mg"]}),i.jsxs("div",{children:["Magnesium: ",w.magnesiumTotal.toFixed(0)," / 400 mg"]}),i.jsxs("div",{children:["Calcium: ",w.calciumTotal?.toFixed(0)||"0"," mg"]}),i.jsxs("div",{children:["Phosphorus: ",w.phosphorusTotal?.toFixed(0)||"0"," mg"]}),i.jsxs("div",{children:["Selenium: ",w.seleniumTotal?.toFixed(1)||"0.0"," g"]}),i.jsxs("div",{children:["Copper: ",w.copperTotal?.toFixed(2)||"0.00"," mg"]}),i.jsxs("div",{children:["Manganese: ",w.manganeseTotal?.toFixed(2)||"0.00"," mg"]})]}),i.jsxs("div",{children:[i.jsx("h3",{style:{marginBottom:"0.5rem",color:"#333"},children:"Items to Watch"}),i.jsxs("div",{children:["Fiber: ",w.fiberTotal.toFixed(1)," g"," ",i.jsx("span",{style:{color:"#999",fontSize:"0.9rem"},children:"(0 is ideal)"})]})]})]}):null})()]})}),L&&K&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>Z(!1),children:i.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"2rem",maxWidth:"400px",width:"90%",maxHeight:"90vh",overflow:"auto"},onClick:w=>w.stopPropagation(),children:[i.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"1.5rem"},children:u("home.selectAmount")}),i.jsxs("div",{style:{marginBottom:"1.5rem"},children:[i.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:[K.foodName," (",K.amount,K.unit,")"]}),i.jsx("input",{type:"number",value:bt,onChange:w=>Te(w.target.value),placeholder:K.amount.toString(),style:{width:"100%",padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"16px"},autoFocus:!0}),i.jsxs("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"0.25rem"},children:[u("home.unit"),": ",K.unit]})]}),i.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[i.jsx("button",{onClick:()=>Z(!1),style:{padding:"0.75rem 1.5rem",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"600"},children:u("common.cancel")}),i.jsx("button",{onClick:()=>{const w=Number(bt);!isNaN(w)&&w>0&&(ne({...K,amount:w}),Z(!1),Ke(null))},style:{padding:"0.75rem 1.5rem",backgroundColor:"#b91c1c",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"600"},children:u("home.add")})]})]})}),j&&Tt&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>H(!1),children:i.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"2rem",maxWidth:"400px",width:"90%",maxHeight:"90vh",overflow:"auto"},onClick:w=>w.stopPropagation(),children:[i.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"1.5rem"},children:u("home.confirmAdd")}),i.jsxs("div",{style:{marginBottom:"1.5rem"},children:[i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"16px"},children:Tt.foodName}),i.jsxs("div",{style:{marginBottom:"1rem",fontSize:"14px",color:"#6b7280"},children:[u("home.originalAmount"),": ",Tt.amount,Tt.unit]}),i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:u("home.changeAmount")}),i.jsx("input",{type:"number",value:Ct,onChange:w=>On(w.target.value),placeholder:Tt.amount.toString(),style:{width:"100%",padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"16px"},autoFocus:!0}),i.jsxs("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"0.25rem"},children:[u("home.unit"),": ",Tt.unit]})]}),i.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[i.jsx("button",{onClick:()=>H(!1),style:{padding:"0.75rem 1.5rem",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"600"},children:u("common.cancel")}),i.jsx("button",{onClick:()=>{const w=Number(Ct);!isNaN(w)&&w>0&&(jn(Tt,w),H(!1),Mt(null))},disabled:!Ct||isNaN(Number(Ct))||Number(Ct)<=0,style:{padding:"0.75rem 1.5rem",backgroundColor:!Ct||isNaN(Number(Ct))||Number(Ct)<=0?"#d1d5db":"#b91c1c",color:"white",border:"none",borderRadius:"8px",cursor:!Ct||isNaN(Number(Ct))||Number(Ct)<=0?"not-allowed":"pointer",fontSize:"16px",fontWeight:"600",transition:"background-color 0.2s"},children:u("common.confirm")})]})]})})]}),i.jsx(Vv,{isOpen:ot,onClose:()=>Et(!1),analysisResult:rt,onConfirm:w=>{p(w),Et(!1),We(null)},dynamicTargets:I}),i.jsx("div",{style:{marginTop:"2rem",marginBottom:"6rem",textAlign:"center"},children:i.jsx("button",{onClick:()=>{const w=new CustomEvent("navigateToScreen",{detail:"feedback"});window.dispatchEvent(w)},style:{background:"none",border:"none",color:"#6b7280",textDecoration:"underline",fontSize:"12px",cursor:"pointer",padding:"1rem"},children:" Report Issue / Feedback (Beta)"})}),ht&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"1rem"},onClick:()=>ut(!1),children:i.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"1.5rem",maxWidth:"400px",width:"100%",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)"},onClick:w=>w.stopPropagation(),children:[i.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"18px",fontWeight:"600"},children:u("home.selectAddMethod")}),i.jsx("p",{style:{margin:"0 0 1.5rem 0",fontSize:"14px",color:"#6b7280"},children:u("home.selectAddMethodDesc")}),i.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end",flexWrap:"wrap"},children:[i.jsx("button",{onClick:()=>{ut(!1),window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"input"}))},style:{padding:"0.75rem 1.5rem",backgroundColor:"#e5e7eb",color:"#374151",border:"none",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontWeight:"500"},children:u("home.manualAdd")}),i.jsx("button",{onClick:()=>{ut(!1),de(!0)},style:{padding:"0.75rem 1.5rem",backgroundColor:"#e5e7eb",color:"#374151",border:"none",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontWeight:"500"},children:u("home.barcodeScan")}),i.jsx("button",{onClick:async()=>{ut(!1);const w=document.createElement("input");w.type="file",w.accept="image/*",w.capture="environment",w.style.display="none",document.body.appendChild(w),w.onchange=async Se=>{const ge=Se.target.files?.[0];if(!ge){document.body.removeChild(w);return}try{const Pe=document.createElement("div");Pe.textContent=u("home.analyzing"),Pe.style.cssText="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.8); color: white; padding: 1rem 2rem; border-radius: 8px; z-index: 10000;",document.body.appendChild(Pe);const{analyzeFoodImage:xe}=await Fe(async()=>{const{analyzeFoodImage:Ee}=await Promise.resolve().then(()=>_l);return{analyzeFoodImage:Ee}},void 0),Oe=await xe(ge);document.body.removeChild(Pe),We(Oe),Qi({}),Et(!0),document.body.removeChild(w)}catch(Pe){const xe=document.querySelector('div[style*="position: fixed"]');xe&&document.body.removeChild(xe);const{getUserFriendlyErrorMessage:Oe}=await Fe(async()=>{const{getUserFriendlyErrorMessage:Ee}=await Promise.resolve().then(()=>E0);return{getUserFriendlyErrorMessage:Ee}},void 0);alert(Oe(Pe)||u("home.analysisFailed")),document.body.removeChild(w)}},w.click()},style:{padding:"0.75rem 1.5rem",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontWeight:"500"},children:u("home.addFromPhoto")})]})]})}),i.jsx(Hg,{isOpen:Ce,onClose:()=>de(!1),onSuccess:(w,Se)=>{cn({item:w,amount:Se,unit:"g",type:"animal"}),xn(!0),de(!1)}}),Jt&&Zt&&i.jsx(Ug,{isOpen:Jt,initialFood:Zt,onClose:()=>xn(!1),onSave:async w=>{await p(w),xn(!1),cn(null),x()}}),!1]})}const cu="primal_logic_saved_tips";function pa(){try{const l=localStorage.getItem(cu);return l?JSON.parse(l):[]}catch{return[]}}function eo(l){try{const o=pa();o.includes(l)||(o.push(l),localStorage.setItem(cu,JSON.stringify(o)))}catch{}}function to(l){try{const u=pa().filter(c=>c!==l);localStorage.setItem(cu,JSON.stringify(u))}catch{}}function Bt(l){return pa().includes(l)}class Sl{recognition=null;isListening=!1;onResultCallback=null;onErrorCallback=null;onEndCallback=null;constructor(o={}){const u=window.SpeechRecognition||window.webkitSpeechRecognition;if(!u){console.warn("Web Speech API is not supported in this browser.");return}this.recognition=new u,this.recognition&&(this.recognition.lang=o.language||"ja-JP",this.recognition.continuous=o.continuous??!1,this.recognition.interimResults=o.interimResults??!0,this.recognition.maxAlternatives=o.maxAlternatives||1,this.recognition.onresult=c=>{const v=c.results[c.results.length-1],p=v[0].transcript,m=v[0].confidence||.8;this.onResultCallback&&this.onResultCallback({text:p,confidence:m,isFinal:v.isFinal})},this.recognition.onerror=c=>{const v=c.error;this.onErrorCallback&&this.onErrorCallback(v)},this.recognition.onend=()=>{this.isListening=!1,this.onEndCallback&&this.onEndCallback()})}start(){if(this.recognition){if(this.isListening){console.warn("Voice input is already listening.");return}try{this.recognition.start(),this.isListening=!0}catch{}}}stop(){if(!(!this.recognition||!this.isListening))try{this.recognition.stop(),this.isListening=!1}catch{}}onResult(o){this.onResultCallback=o}onError(o){this.onErrorCallback=o}onEnd(o){this.onEndCallback=o}setLanguage(o){this.recognition&&(this.recognition.lang=o)}static isAvailable(){const o=window;return!!(o.SpeechRecognition||o.webkitSpeechRecognition)}}function Vg({foodId:l,onClose:o,onSave:u}){const{t:c}=Ln(),{addFood:v}=Zi(),[p,m]=f.useState(""),[y,S]=f.useState(""),[x,b]=f.useState("animal"),[g,k]=f.useState({}),[T,O]=f.useState(!1),[I,ie]=f.useState(null),[q,B]=f.useState(!1),[$,re]=f.useState(!1),[pe,ce]=f.useState(!1),[Ne,V]=f.useState([]),[ve,he]=f.useState(!1),[M,be]=f.useState({}),[z,W]=f.useState(null),[me,D]=f.useState(!1),[te,X]=f.useState(!1),[ae,se]=f.useState([]),[fe,L]=f.useState(!1),Z=f.useMemo(()=>new Sl({language:"ja-JP",continuous:!1,interimResults:!0}),[]);f.useEffect(()=>(Z.onResult(j=>{m(j.text),S(j.text),j.isFinal&&L(!1)}),Z.onError(j=>{console.error("Voice input error:",j),L(!1)}),Z.onEnd(()=>{L(!1)}),()=>{Z.stop()}),[Z]);const K=()=>{fe?Z.stop():(m(""),Z.start(),L(!0))};f.useEffect(()=>{if(l){const j=Dv(l);j&&(m(j.foodName),S(j.displayName||j.foodName),b((j.type==="plant"?"animal":j.type)||"animal"),k(j.nutrients||{}))}},[l]);const Ke=async()=>{if(!p.trim()){ie(c("customFood.enterFoodName"));return}B(!0),ie(null),z&&se(H=>[...H,z]);const j=z?$a(z.id):kl();W(j),D(Bt(j.id));try{const H=await Rg(p,Object.keys(M).length>0?M:void 0);m(H.foodName),b(H.type==="plant"?"animal":H.type),k(H.nutrients||{}),H.followupQuestions&&H.followupQuestions.length>0?(V(H.followupQuestions),he(!0)):(V([]),he(!1))}catch(H){ie(H instanceof Error?H.message:c("customFood.analyzeFailed"))}finally{B(!1),W(null)}},bt=()=>{if(!p.trim()){ie(c("customFood.enterFoodName"));return}try{const j={foodName:p,displayName:y||p,amount:100,unit:"g",type:x,nutrients:g};l?Av(l,j):Mv(j),te&&(v({item:y||p,amount:100,unit:"g",type:x,nutrients:g}),setTimeout(()=>{window.dispatchEvent(new CustomEvent("dailyLogUpdated"))},200)),u?.(),o()}catch(j){ie(j instanceof Error?j.message:c("customFood.saveFailed"))}},Te=(j,H)=>{k(Tt=>({...Tt,[j]:H===void 0||H===0?void 0:H}))};return i.jsx("div",{className:"custom-food-screen",children:i.jsxs("div",{className:"custom-food-content",children:[i.jsxs("div",{className:"custom-food-header",children:[i.jsx("h2",{children:c(l?"customFood.edit":"customFood.add")}),i.jsx("button",{onClick:o,className:"close-button",style:{fontSize:"1.5rem",padding:"0.5rem 1rem"},children:""})]}),I&&i.jsx("div",{className:"error-message",style:{color:"#dc2626",padding:"0.75rem",marginBottom:"1rem",backgroundColor:"#fef2f2",borderRadius:"8px"},children:I}),i.jsxs("div",{className:"custom-food-section",children:[i.jsxs("label",{children:[i.jsx("strong",{children:c("customFood.foodName")}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"0.25rem",marginBottom:"0.5rem"},children:c("customFood.foodNameDescription")}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[i.jsxs("div",{style:{position:"relative",flex:1,display:"flex",alignItems:"center"},children:[i.jsx("input",{type:"text",value:p,onChange:j=>{const H=j.target.value;m(H),S(H)},placeholder:c("customFood.foodNamePlaceholder"),style:{width:"100%",padding:"0.75rem",paddingRight:"3rem",border:"1px solid #e5e7eb",borderRadius:"8px"}}),i.jsx("button",{onClick:K,className:`voice-input-button ${fe?"listening":""}`,style:{position:"absolute",right:"0.5rem",padding:"0.4rem",borderRadius:"50%",border:"none",backgroundColor:fe?"#ef4444":"transparent",color:fe?"white":"#9ca3af",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},title:fe?"":"",children:fe?i.jsx("span",{style:{fontSize:"1.2rem",animation:"pulse 1.5s infinite"},children:""}):i.jsx("span",{style:{fontSize:"1.2rem"},children:""})})]}),i.jsx("button",{onClick:Ke,disabled:q||!p.trim(),style:{padding:"0.75rem 1.5rem",backgroundColor:q?"#9ca3af":"#b91c1c",color:"white",border:"none",borderRadius:"8px",cursor:q?"not-allowed":"pointer",fontWeight:"600",whiteSpace:"nowrap"},children:c(q?"customFood.analyzing":"customFood.aiSuggest")})]})]}),i.jsxs("label",{style:{marginTop:"1rem",display:"block"},children:[i.jsx("strong",{children:c("customFood.displayName")}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"0.25rem",marginBottom:"0.5rem"},children:c("customFood.displayNameDescription")}),i.jsx("input",{type:"text",value:y,onChange:j=>S(j.target.value),placeholder:p||c("customFood.displayNamePlaceholder"),style:{width:"100%",padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"8px",marginTop:"0.5rem"}})]}),q&&z&&i.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"8px"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[i.jsxs("div",{style:{fontWeight:"600",color:"#92400e",flex:1},children:[" ",z.title]}),i.jsx("button",{onClick:()=>{me?to(z.id):eo(z.id),D(!me)},style:{background:me?"#fef3c7":"none",border:me?"1px solid #f59e0b":"1px solid #d1d5db",borderRadius:"4px",fontSize:"16px",cursor:"pointer",color:me?"#f59e0b":"#6b7280",padding:"0.25rem 0.5rem",minWidth:"32px",height:"32px"},children:""})]}),i.jsxs("div",{style:{fontSize:"12px",color:"#78350f",lineHeight:"1.5",marginBottom:"0.5rem"},children:[z.content.substring(0,150),"..."]}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[ae.length>0&&i.jsx("button",{onClick:()=>{const j=ae[ae.length-1];se(H=>H.slice(0,-1)),W(j),D(Bt(j.id))},style:{padding:"0.5rem 1rem",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:""}),i.jsx("button",{onClick:()=>{z&&se(H=>[...H,z]);const j=$a(z.id);W(j),D(Bt(j.id))},style:{padding:"0.5rem 1rem",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:c("customFood.nextTip")})]}),i.jsx("div",{style:{clear:"both"}})]})]}),ve&&Ne.length>0&&i.jsxs("div",{className:"custom-food-section",style:{backgroundColor:"#fef3c7",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",border:"1px solid #fbbf24"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[i.jsx("span",{style:{backgroundColor:"#f59e0b",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold"},children:"?"}),i.jsx("strong",{style:{fontSize:"16px"},children:c("customFood.additionalInfoNeeded")})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[Ne.map((j,H)=>i.jsxs("div",{children:[i.jsx("label",{style:{fontSize:"14px",color:"#374151",display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:j}),i.jsx("input",{type:"text",value:M[j]||"",onChange:Tt=>be({...M,[j]:Tt.target.value}),placeholder:c("customFood.answerPlaceholder"),style:{width:"100%",padding:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px",fontSize:"14px"}})]},H)),i.jsx("button",{onClick:Ke,disabled:q,style:{marginTop:"0.5rem",padding:"0.75rem 1.5rem",backgroundColor:q?"#9ca3af":"#f59e0b",color:"white",border:"none",borderRadius:"8px",cursor:q?"not-allowed":"pointer",fontWeight:"600"},children:c(q?"customFood.reanalyzing":"customFood.reanalyzeWithAnswer")})]})]}),i.jsxs("div",{className:"custom-food-section",style:{backgroundColor:"#f9fafb",padding:"1rem",borderRadius:"8px",marginBottom:"1rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[i.jsx("span",{style:{backgroundColor:"#3b82f6",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold"},children:"2"}),i.jsx("strong",{style:{fontSize:"16px"},children:c("customFood.foodType")})]}),i.jsx("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem",flexWrap:"wrap"},children:["animal","trash"].map(j=>i.jsx("button",{onClick:()=>b(j),style:{padding:"0.5rem 1rem",backgroundColor:x===j?"#b91c1c":"#f3f4f6",color:x===j?"white":"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px"},children:c(j==="animal"?"customFood.foodTypeAnimal":"customFood.foodTypeTrash")},j))})]}),i.jsxs("div",{className:"custom-food-section",style:{backgroundColor:"#f9fafb",padding:"1rem",borderRadius:"8px",marginBottom:"1rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[i.jsx("span",{style:{backgroundColor:"#3b82f6",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold"},children:"3"}),i.jsx("strong",{style:{fontSize:"16px"},children:c("customFood.nutrientsRequired")})]}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"0.75rem"},children:"100g"}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:0,maxHeight:"400px",overflowY:"auto",padding:"0.5rem",backgroundColor:"transparent",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.protein||0,previewAmount:0,target:100,color:Le("protein"),unit:"g"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.protein")})]}),i.jsx("input",{type:"number",value:g?.protein||"",onChange:j=>Te("protein",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.fat||0,previewAmount:0,target:100,color:Le("fat"),unit:"g"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.fat")})]}),i.jsx("input",{type:"number",value:g?.fat||"",onChange:j=>Te("fat",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.carbs||0,previewAmount:0,target:100,color:Le("carbs"),unit:"g"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.carbs")})]}),i.jsx("input",{type:"number",value:g?.carbs||"",onChange:j=>Te("carbs",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]})]})]}),i.jsxs("div",{className:"custom-food-section",style:{backgroundColor:"#f9fafb",padding:"1rem",borderRadius:"8px",marginBottom:"1rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("span",{style:{backgroundColor:"#3b82f6",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold"},children:"4"}),i.jsx("strong",{style:{fontSize:"16px"},children:c("customFood.nutrientsDetailed")})]}),i.jsx("button",{onClick:()=>re(!$),style:{padding:"0.5rem 1rem",backgroundColor:$?"#b91c1c":"#f3f4f6",color:$?"white":"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:c($?"customFood.hideDetails":"customFood.showDetails")})]}),$&&i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.sodium||0,previewAmount:0,target:5e3,color:Le("sodium"),unit:"mg",nutrientKey:"sodium"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.sodium")})]}),i.jsx("input",{type:"number",value:g?.sodium||"",onChange:j=>Te("sodium",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.magnesium||0,previewAmount:0,target:600,color:Le("magnesium"),unit:"mg",nutrientKey:"magnesium"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.magnesium")})]}),i.jsx("input",{type:"number",value:g?.magnesium||"",onChange:j=>Te("magnesium",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.potassium||0,previewAmount:0,target:4500,color:Le("potassium"),unit:"mg",nutrientKey:"potassium"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.potassium")})]}),i.jsx("input",{type:"number",value:g?.potassium||"",onChange:j=>Te("potassium",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.zinc||0,previewAmount:0,target:11,color:Le("zinc"),unit:"mg",nutrientKey:"zinc"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.zinc")})]}),i.jsx("input",{type:"number",value:g?.zinc||"",onChange:j=>Te("zinc",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.iron||0,previewAmount:0,target:8,color:Le("iron"),unit:"mg",nutrientKey:"iron"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.iron")})]}),i.jsx("input",{type:"number",value:g?.iron||"",onChange:j=>Te("iron",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.vitaminA||0,previewAmount:0,target:5e3,color:Le("vitaminA"),unit:"IU",nutrientKey:"vitamin_a"}),i.jsxs("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:[c("customFood.vitaminA")," (IU/100g)"]})]}),i.jsx("input",{type:"number",value:g?.vitaminA||"",onChange:j=>Te("vitaminA",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.vitaminD||0,previewAmount:0,target:2e3,color:Le("vitaminD"),unit:"IU",nutrientKey:"vitamin_d"}),i.jsxs("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:[c("customFood.vitaminD")," (IU/100g)"]})]}),i.jsx("input",{type:"number",value:g?.vitaminD||"",onChange:j=>Te("vitaminD",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.vitaminK2||0,previewAmount:0,target:200,color:Le("vitaminK2"),unit:"g",nutrientKey:"vitamin_k2"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.vitaminK2")})]}),i.jsx("input",{type:"number",value:g?.vitaminK2||"",onChange:j=>Te("vitaminK2",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.vitaminB12||0,previewAmount:0,target:2.4,color:Le("vitaminB12"),unit:"g",nutrientKey:"vitamin_b12"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.vitaminB12")})]}),i.jsx("input",{type:"number",value:g?.vitaminB12||"",onChange:j=>Te("vitaminB12",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.omega3||0,previewAmount:0,target:2,color:Le("omega3"),unit:"g",nutrientKey:"omega3"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.omega3")})]}),i.jsx("input",{type:"number",value:g?.omega3||"",onChange:j=>Te("omega3",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.omega6||0,previewAmount:0,target:5,color:Le("omega6"),unit:"g",nutrientKey:"omega6"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.omega6")})]}),i.jsx("input",{type:"number",value:g?.omega6||"",onChange:j=>Te("omega6",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.calcium||0,previewAmount:0,target:1e3,color:Le("calcium"),unit:"mg",nutrientKey:"calcium"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.calcium")})]}),i.jsx("input",{type:"number",value:g?.calcium||"",onChange:j=>Te("calcium",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.phosphorus||0,previewAmount:0,target:700,color:Le("phosphorus"),unit:"mg",nutrientKey:"phosphorus"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.phosphorus")})]}),i.jsx("input",{type:"number",value:g?.phosphorus||"",onChange:j=>Te("phosphorus",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.glycine||0,previewAmount:0,target:10,color:Le("glycine"),unit:"g",nutrientKey:"glycine"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.glycine")})]}),i.jsx("input",{type:"number",value:g?.glycine||"",onChange:j=>Te("glycine",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.methionine||0,previewAmount:0,target:2,color:Le("methionine"),unit:"g",nutrientKey:"methionine"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.methionine")})]}),i.jsx("input",{type:"number",value:g?.methionine||"",onChange:j=>Te("methionine",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.taurine||0,previewAmount:0,target:500,color:Le("taurine"),unit:"mg",nutrientKey:"taurine"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.taurine")})]}),i.jsx("input",{type:"number",value:g?.taurine||"",onChange:j=>Te("taurine",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("label",{children:[c("customFood.vitaminB5"),i.jsx("input",{type:"number",value:g?.vitaminB5||"",onChange:j=>Te("vitaminB5",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("label",{children:[c("customFood.vitaminB9"),i.jsx("input",{type:"number",value:g?.vitaminB9||"",onChange:j=>Te("vitaminB9",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("label",{children:[c("customFood.chromium"),i.jsx("input",{type:"number",value:g?.chromium||"",onChange:j=>Te("chromium",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("label",{children:[c("customFood.molybdenum"),i.jsx("input",{type:"number",value:g?.molybdenum||"",onChange:j=>Te("molybdenum",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("label",{children:[c("customFood.fluoride"),i.jsx("input",{type:"number",value:g?.fluoride||"",onChange:j=>Te("fluoride",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("label",{children:[c("customFood.chloride"),i.jsx("input",{type:"number",value:g?.chloride||"",onChange:j=>Te("chloride",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("label",{children:[c("customFood.boron"),i.jsx("input",{type:"number",value:g?.boron||"",onChange:j=>Te("boron",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("label",{children:[c("customFood.nickel"),i.jsx("input",{type:"number",value:g?.nickel||"",onChange:j=>Te("nickel",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.01",style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("label",{children:[c("customFood.silicon"),i.jsx("input",{type:"number",value:g?.silicon||"",onChange:j=>Te("silicon",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("label",{children:[c("customFood.vanadium"),i.jsx("input",{type:"number",value:g?.vanadium||"",onChange:j=>Te("vanadium",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.25rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]})]})]}),i.jsxs("div",{className:"custom-food-section",style:{backgroundColor:"#f9fafb",padding:"1rem",borderRadius:"8px",marginBottom:"1rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[i.jsx("span",{style:{backgroundColor:"#3b82f6",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold"},children:"5"}),i.jsx("strong",{style:{fontSize:"16px"},children:c("customFood.antiNutrients")})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.phytates||0,previewAmount:0,target:0,color:Le("phytates"),unit:"mg",nutrientKey:"phytates"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.phytates")})]}),i.jsx("input",{type:"number",value:g?.phytates||"",onChange:j=>Te("phytates",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.oxalates||0,previewAmount:0,target:0,color:Le("oxalates"),unit:"mg",nutrientKey:"oxalates"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.oxalates")})]}),i.jsx("input",{type:"number",value:g?.oxalates||"",onChange:j=>Te("oxalates",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.lectins||0,previewAmount:0,target:0,color:Le("lectins"),unit:"mg",nutrientKey:"lectins"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.lectins")})]}),i.jsx("input",{type:"number",value:g?.lectins||"",onChange:j=>Te("lectins",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]})]})]}),i.jsxs("div",{className:"custom-food-section",style:{backgroundColor:"#f9fafb",padding:"1rem",borderRadius:"8px",marginBottom:"1rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("span",{style:{backgroundColor:"#3b82f6",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold"},children:"6"}),i.jsx("strong",{style:{fontSize:"16px"},children:c("customFood.antiNutrientsDetailed")})]}),i.jsx("button",{onClick:()=>ce(!pe),style:{padding:"0.5rem 1rem",backgroundColor:pe?"#b91c1c":"#f3f4f6",color:pe?"white":"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:c(pe?"customFood.hideDetails":"customFood.showDetails")})]}),pe&&i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.polyphenols||0,previewAmount:0,target:0,color:Le("polyphenols"),unit:"mg",nutrientKey:"polyphenols"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.polyphenols")})]}),i.jsx("input",{type:"number",value:g?.polyphenols||"",onChange:j=>Te("polyphenols",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.flavonoids||0,previewAmount:0,target:0,color:Le("flavonoids"),unit:"mg",nutrientKey:"flavonoids"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.flavonoids")})]}),i.jsx("input",{type:"number",value:g?.flavonoids||"",onChange:j=>Te("flavonoids",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.saponins||0,previewAmount:0,target:0,color:Le("saponins"),unit:"mg",nutrientKey:"saponins"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.saponins")})]}),i.jsx("input",{type:"number",value:g?.saponins||"",onChange:j=>Te("saponins",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.goitrogens||0,previewAmount:0,target:0,color:Le("goitrogens"),unit:"mg",nutrientKey:"goitrogens"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.goitrogens")})]}),i.jsx("input",{type:"number",value:g?.goitrogens||"",onChange:j=>Te("goitrogens",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]}),i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx(Be,{label:"",currentDailyTotal:g?.tannins||0,previewAmount:0,target:0,color:Le("tannins"),unit:"mg",nutrientKey:"tannins"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:0},children:c("customFood.tannins")})]}),i.jsx("input",{type:"number",value:g?.tannins||"",onChange:j=>Te("tannins",j.target.value?parseFloat(j.target.value):void 0),placeholder:"0",step:"0.1",style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px"}})]})]})]}),!l&&i.jsx("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#f9fafb",borderRadius:"8px"},children:i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",checked:te,onChange:j=>X(j.target.checked),style:{width:"20px",height:"20px",cursor:"pointer"}}),i.jsx("span",{style:{fontSize:"14px",color:"#374151"},children:c("customFood.addToTodayLog")})]})}),i.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem",justifyContent:"flex-end"},children:[i.jsx("button",{onClick:o,style:{padding:"0.75rem 1.5rem",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600"},children:c("common.cancel")}),i.jsx("button",{onClick:bt,disabled:T,style:{padding:"0.75rem 1.5rem",backgroundColor:T?"#9ca3af":"#b91c1c",color:"white",border:"none",borderRadius:"8px",cursor:T?"not-allowed":"pointer",fontWeight:"600"},children:c(T?"customFood.saving":"customFood.save")})]})]})})}function ib(){const{t:l}=Ln(),{userProfile:o,loadUserProfile:u}=Zi(),{debugMode:c,toggleDebugMode:v}=Xo(),{config:p}=Dg(),[m,y]=f.useState(o?.language||Pi()),[S,x]=f.useState(!1);return f.useEffect(()=>{if(o){const b=o.language||Pi(),g=Pi();b!==g&&kg(b),y(b)}},[o]),i.jsxs("div",{className:"profile-screen-container",children:[i.jsxs("div",{className:"profile-screen-content",children:[i.jsx("h1",{className:"profile-screen-title",children:l("settings.title")}),i.jsx("div",{className:"profile-screen-section",children:i.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":l("profile.navigateToUserSettings"),onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"userSettings"}))},onKeyDown:b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"userSettings"})))},children:[i.jsxs("div",{className:"nav-item-content",children:[i.jsx("h2",{className:"nav-item-title",children:l("profile.userSettings")}),i.jsx("p",{className:"nav-item-description",children:l("profile.userSettingsDescription")})]}),i.jsx("span",{className:"nav-item-arrow",children:""})]})}),i.jsx("div",{className:"profile-screen-section",children:i.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":l("profile.navigateToLanguage"),onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"language"}))},onKeyDown:b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"language"})))},children:[i.jsxs("div",{className:"nav-item-content",children:[i.jsx("h2",{className:"nav-item-title",children:l("profile.languageSettings")}),i.jsxs("p",{className:"nav-item-description",children:[l("common.current"),":"," ",l(m==="ja"?"language.japanese":m==="en"?"language.english":m==="fr"?"language.french":m==="de"?"language.german":"language.chinese")]})]}),i.jsx("span",{className:"nav-item-arrow",children:""})]})}),i.jsxs("div",{className:"profile-screen-section",children:[i.jsx("h2",{className:"profile-screen-section-title",children:l("profile.debugMode")}),i.jsxs("div",{className:"switch-container",children:[i.jsxs("div",{className:"switch-row",children:[i.jsx("span",{className:"switch-label",children:l("profile.debugModeDescription")}),i.jsxs("label",{className:"profile-screen-switch",children:[i.jsx("input",{type:"checkbox",checked:c,onChange:v}),i.jsx("span",{className:"profile-screen-switch-slider"})]})]}),i.jsx("div",{className:"switch-status",children:l(c?"profile.debugModeOn":"profile.debugModeOff")})]})]}),i.jsx("div",{className:"profile-screen-section",children:i.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":l("profile.openCustomFood"),onClick:()=>x(!0),onKeyDown:b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),x(!0))},children:[i.jsxs("div",{className:"nav-item-content",children:[i.jsx("h2",{className:"nav-item-title",children:l("profile.customFood")}),i.jsx("p",{className:"nav-item-description",children:l("profile.customFoodDescription")})]}),i.jsx("span",{className:"nav-item-arrow",children:""})]})}),i.jsx("div",{className:"profile-screen-section",children:i.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":l("profile.navigateToUISettings"),onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"settings"}))},onKeyDown:b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"settings"})))},children:[i.jsxs("div",{className:"nav-item-content",children:[i.jsx("h2",{className:"nav-item-title",children:l("profile.uiSettings")}),i.jsx("p",{className:"nav-item-description",children:l("profile.uiSettingsDescription")})]}),i.jsx("span",{className:"nav-item-arrow",children:""})]})}),i.jsx("div",{className:"profile-screen-section",children:i.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":l("profile.navigateToSaltSettings"),onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"salt"}))},onKeyDown:b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"salt"})))},children:[i.jsxs("div",{className:"nav-item-content",children:[i.jsx("h2",{className:"nav-item-title",children:l("profile.saltSettings")}),i.jsxs("p",{className:"nav-item-description",children:[l("profile.saltType"),":"," ",p.saltType==="table_salt"?l("profile.tableSalt"):p.saltType==="sea_salt"?l("profile.seaSalt"):p.saltType==="himalayan_salt"?l("profile.himalayanSalt"):l("profile.celticSalt")," ","/ ",p.saltUnitWeight,"g/",l("profile.perShave")]})]}),i.jsx("span",{className:"nav-item-arrow",children:""})]})}),i.jsx("div",{className:"profile-screen-section",children:i.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":l("profile.navigateToCarbTargetSettings"),onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"carbTarget"}))},onKeyDown:b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"carbTarget"})))},children:[i.jsxs("div",{className:"nav-item-content",children:[i.jsx("h2",{className:"nav-item-title",children:l("profile.carbTargetSettings")}),i.jsxs("p",{className:"nav-item-description",children:[l("common.current"),": ",p.targetCarbs,"g/",l("common.perDay")]})]}),i.jsx("span",{className:"nav-item-arrow",children:""})]})}),i.jsxs("div",{style:{marginTop:"2rem",paddingTop:"2rem",borderTop:"1px solid #e5e7eb"},children:[i.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:"600",marginBottom:"1rem",color:"#1f2937"},children:l("profile.dataManagement")}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[i.jsxs("button",{onClick:async()=>{try{const b=await nu(),g=new Blob([b],{type:"application/json"}),k=URL.createObjectURL(g),T=document.createElement("a");T.href=k,T.download=`primal-logic-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(k),alert(l("profile.exportSuccess"))}catch(b){alert(l("profile.exportFailed")+": "+(b instanceof Error?b.message:""))}},style:{padding:"0.75rem 1rem",backgroundColor:"#f3f4f6",color:"#1f2937",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontWeight:"500"},children:[" ",l("profile.exportData")]}),i.jsxs("button",{onClick:()=>{const b=document.createElement("input");b.type="file",b.accept="application/json",b.onchange=async g=>{const k=g.target.files?.[0];if(k)try{const T=await k.text();window.confirm(l("profile.importConfirm"))&&(await Cg(T),await u(),alert(l("profile.importSuccess")))}catch(T){alert(l("profile.importFailed")+": "+(T instanceof Error?T.message:""))}},b.click()},style:{padding:"0.75rem 1rem",backgroundColor:"#f3f4f6",color:"#1f2937",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontWeight:"500"},children:[" ",l("profile.importData")]})]})]}),zl(),i.jsxs("div",{className:"profile-screen-section",children:[i.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":l("profile.navigateToDataExport"),onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"dataExport"}))},onKeyDown:b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"dataExport"})))},children:[i.jsxs("div",{className:"nav-item-content",children:[i.jsx("h2",{className:"nav-item-title",children:l("profile.exportData")}),i.jsx("p",{className:"nav-item-description",children:l("profile.exportDescription")})]}),i.jsx("span",{className:"nav-item-arrow",children:""})]}),i.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":l("profile.navigateToDataDelete"),onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"dataDelete"}))},onKeyDown:b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"dataDelete"})))},style:{color:"#dc2626"},children:[i.jsxs("div",{className:"nav-item-content",children:[i.jsx("h2",{className:"nav-item-title",children:l("profile.deleteData")}),i.jsx("p",{className:"nav-item-description",children:l("profile.deleteDescription")})]}),i.jsx("span",{className:"nav-item-arrow",children:""})]})]}),i.jsx("div",{className:"profile-screen-section",children:i.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":l("profile.navigateToFeedback"),onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"feedback"}))},onKeyDown:b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"feedback"})))},children:[i.jsxs("div",{className:"nav-item-content",children:[i.jsx("h2",{className:"nav-item-title",children:""}),i.jsx("p",{className:"nav-item-description",children:""})]}),i.jsx("span",{className:"nav-item-arrow",children:""})]})}),i.jsxs("div",{className:"profile-screen-section",children:[i.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":l("profile.navigateToPrivacyPolicy"),onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"privacy"}))},onKeyDown:b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"privacy"})))},children:[i.jsxs("div",{className:"nav-item-content",children:[i.jsx("h2",{className:"nav-item-title",children:""}),i.jsx("p",{className:"nav-item-description",children:""})]}),i.jsx("span",{className:"nav-item-arrow",children:""})]}),i.jsxs("div",{className:"nav-item",role:"button",tabIndex:0,"aria-label":l("profile.navigateToTermsOfService"),onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"terms"}))},onKeyDown:b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"terms"})))},children:[i.jsxs("div",{className:"nav-item-content",children:[i.jsx("h2",{className:"nav-item-title",children:""}),i.jsx("p",{className:"nav-item-description",children:""})]}),i.jsx("span",{className:"nav-item-arrow",children:""})]})]}),i.jsxs("div",{className:"profile-screen-section",children:[i.jsx("div",{className:"profile-screen-section-title",style:{marginBottom:"0.5rem",fontSize:"0.9rem",color:"#6b7280"},children:""}),i.jsxs("div",{style:{padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#6b7280"},children:[i.jsx("div",{style:{marginBottom:"0.25rem"},children:"CarnivoreOS"}),i.jsx("div",{style:{fontSize:"0.75rem",color:"#9ca3af"},children:" 0.0.0"})]})]})]}),S&&i.jsx(Vg,{onClose:()=>x(!1),onSave:()=>{}})]})}const uu=[{id:"fiber-constipation",category:"Digestion",myth:"Fiber is essential for healthy bowel movements and preventing constipation.",truth:"Fiber acts as a mechanical irritant. Removing it completely can cure idiopathic constipation.",mechanism:'Fiber increases stool bulk, which adds mechanical load to the colon. In patients with slow transit or pelvic floor dyssynergia, this extra bulk exacerbates the inability to evacuate. Removing fiber eliminates the bulk, allowing the gut to rest and function naturally without "traffic jams".',source:'Ho KS et al., "Stopping or reducing dietary fiber intake reduces constipation and its associated symptoms", World Journal of Gastroenterology (2012).',effectSize:"100% efficacy. In the study, 41 patients who stopped fiber completely had 100% resolution of constipation, bloating, and bleeding. Those who continued high fiber saw 0% improvement."},{id:"ldl-heart-disease",category:"Heart Health",myth:"High LDL cholesterol caused by red meat leads to atherosclerosis and heart disease.",truth:"LDL concentration alone is a poor predictor of CVD. In the context of low Triglycerides and high HDL (Lean Mass Hyper-Responder), high LDL is energy delivery, not pathology.",mechanism:'The "Lipid Energy Model" suggests that in a carbohydrate-restricted state, the liver exports VLDL (energy) which remodels to LDL. Unlike "Pattern B" small dense LDL (caused by insulin resistance/sugar) which penetrates arterial walls, large buoyant "Pattern A" LDL observed in carnivores is resistant to oxidation and atherogenesis.',source:`Diamond & O'Kelly (2022) "The Lipid Energy Model"; O'Kelly et al. (2024) - UCLA/Lundquist Institute Match Study (Preliminary Data).`,effectSize:"Risk stratification fails: Studies show that high LDL with optimal metabolic markers (High HDL, Low Tg) often results in a Hazard Ratio (HR) of ~1.0 (no increased risk), compared to HR >2.0 for insulin resistant phenotypes."},{id:"red-meat-cancer",category:"Cancer",myth:"Red meat is a Class 2A carcinogen that causes colorectal cancer.",truth:'The WHO classification relies on weak epidemiology riddled with "Healthy User Bias", not clinical trials.',mechanism:'Observational studies rarely separate "burger eaters" (meat + bun + seed oils + soda) from healthy meat eaters. The mechanism often cited (heme iron/N-nitroso compounds) is nullified by the presence of other nutrients in whole meat and the absence of gut-damaging inflammatory refined carbs.',source:"WHO/IARC 2015 Report; critique by Dr. David Klurfeld (IARC working group member).",effectSize:'Negligible relative risk. The reported Hazard Ratio is roughly 1.17 (17-18% relative increase). In epidemiology, an HR < 2.0 is generally considered "noise" or potential confounding, unlike smoking which has an HR of 10-30.'},{id:"vitamin-c-scurvy",category:"Micronutrients",myth:"You will get scurvy without fruit and vegetables (Vitamin C).",truth:"Vitamin C requirements drop drastically in the absence of dietary glucose.",mechanism:"Glucose and Vitamin C (Ascorbic Acid) compete for entry into cells via the same GLUT-1 receptors (Glucose-Ascorbate Antagonism). In ketosis, low blood glucose allows Vitamin C to be transported efficiently. Furthermore, hydroxyproline/glutathione sparing reduces total demand. Fresh meat also contains sufficient Vitamin C to prevent scurvy.",source:"Cahill (1970s Starvation Studies); Stefansson (1928) Bellevue Hospital Study.",effectSize:"Binary Outcome: Historical records of Arctic explorers and clinical observations of modern carnivores show 0% incidence of scurvy despite intake levels (e.g. 10mg/day) below the standard RDA (65-90mg/day)."}];function ab(l){return uu.filter(o=>o.category===l)}function ob(){return Array.from(new Set(uu.map(l=>l.category)))}function sb(){const[l,o]=f.useState(new Set),[u,c]=f.useState("All"),v=f.useMemo(()=>["All",...ob()],[]),p=f.useMemo(()=>u==="All"?uu:ab(u),[u]),m=y=>{o(S=>{const x=new Set(S);return x.has(y)?x.delete(y):x.add(y),x})};return i.jsxs("div",{className:"knowledge-screen-container",children:[i.jsxs("div",{className:"knowledge-screen-header",children:[i.jsx("h1",{className:"knowledge-screen-title",children:" Logic Armor ()"}),i.jsx("p",{className:"knowledge-screen-subtitle",children:""})]}),i.jsx("div",{className:"knowledge-category-filter",children:v.map(y=>i.jsx("button",{className:`knowledge-category-button ${u===y?"active":""}`,onClick:()=>c(y),children:y==="All"?"":y==="Digestion"?"":y==="Heart Health"?"":y==="Long-term Health"?"":y==="Nutrition"?"":""},y))}),i.jsx("div",{className:"knowledge-cards-container",children:p.map(y=>{const S=l.has(y.id);return i.jsx("div",{className:`knowledge-card ${S?"flipped":""}`,onClick:()=>m(y.id),children:i.jsxs("div",{className:"knowledge-card-inner",children:[i.jsxs("div",{className:"knowledge-card-front",children:[i.jsx("div",{className:"knowledge-card-category",children:y.category}),i.jsx("h3",{className:"knowledge-card-title",children:y.title}),i.jsxs("div",{className:"knowledge-card-myth",children:[i.jsx("div",{className:"knowledge-card-label",children:" Myth ()"}),i.jsx("p",{className:"knowledge-card-text",children:y.myth})]}),i.jsx("div",{className:"knowledge-card-hint",children:" "})]}),i.jsxs("div",{className:"knowledge-card-back",children:[i.jsx("div",{className:"knowledge-card-category",children:y.category}),i.jsx("h3",{className:"knowledge-card-title",children:y.title}),i.jsxs("div",{className:"knowledge-card-truth",children:[i.jsx("div",{className:"knowledge-card-label",children:" Truth ()"}),i.jsx("p",{className:"knowledge-card-text",children:y.truth})]}),i.jsxs("div",{className:"knowledge-card-details",children:[i.jsx("div",{className:"knowledge-card-label",children:" Details"}),i.jsx("p",{className:"knowledge-card-text",children:y.details})]}),i.jsxs("div",{className:"knowledge-card-source",children:[i.jsx("div",{className:"knowledge-card-label",children:" Source"}),i.jsx("p",{className:"knowledge-card-text",children:y.source})]}),i.jsx("div",{className:"knowledge-card-hint",children:" "})]})]})},y.id)})}),p.length===0&&i.jsx("div",{className:"knowledge-empty-state",children:i.jsx("p",{children:""})})]})}async function lb(l){throw new Error(`Replicate API
VITE_REPLICATE_API_TOKEN  .env 

:
1. https://replicate.com/ 
2. https://replicate.com/account/api-tokens API
3. .env: VITE_REPLICATE_API_TOKEN=r8_...`)}async function wl(l,o=1){return cb(l,o),lb()}async function rb(){const l=[];for(let o=1;o<=4;o++)try{const u=await wl(1,o);l.push({style:1,variation:o,url:u}),await new Promise(c=>setTimeout(c,2e3))}catch{}for(let o=1;o<=3;o++)try{const u=await wl(2,o);l.push({style:2,variation:o,url:u}),await new Promise(c=>setTimeout(c,2e3))}catch{}for(let o=1;o<=3;o++)try{const u=await wl(3,o);l.push({style:3,variation:o,url:u}),await new Promise(c=>setTimeout(c,2e3))}catch{}return l}function cb(l,o){const c={1:['Create a simple, modern app icon for a carnivore diet app called "CarnivoreGuid". Square format (1024x1024px), geometric abstract meat shape, style: Modern clean minimalist, colors: Warm reds and browns, no text, bold clear silhouette recognizable at 16x16px, rounded corners, app icon style.','Create a simple, modern app icon for a carnivore diet app called "CarnivoreGuid". Square format (1024x1024px), realistic but simplified steak silhouette, style: Modern clean minimalist, colors: Warm reds and browns, no text, bold clear silhouette recognizable at 16x16px, rounded corners, app icon style.','Create a simple, modern app icon for a carnivore diet app called "CarnivoreGuid". Square format (1024x1024px), minimalist meat cut outline, style: Modern clean minimalist, colors: Warm reds and browns, no text, bold clear silhouette recognizable at 16x16px, rounded corners, app icon style.','Create a simple, modern app icon for a carnivore diet app called "CarnivoreGuid". Square format (1024x1024px), bold flat design meat icon, style: Modern clean minimalist, colors: Warm reds and browns, no text, bold clear silhouette recognizable at 16x16px, rounded corners, app icon style.'],2:['Create a modern app icon combining "logic" and "meat" concepts for "CarnivoreGuid" app. Square format (1024x1024px), brain icon with meat texture inside, style: Modern geometric clean, colors: Cool blues (logic) + warm reds (meat), no text, recognizable at 16x16px, rounded corners, app icon style.','Create a modern app icon combining "logic" and "meat" concepts for "CarnivoreGuid" app. Square format (1024x1024px), meat cut with logic/circuit pattern overlay, style: Modern geometric clean, colors: Cool blues (logic) + warm reds (meat), no text, recognizable at 16x16px, rounded corners, app icon style.','Create a modern app icon combining "logic" and "meat" concepts for "CarnivoreGuid" app. Square format (1024x1024px), geometric brain and meat icon side by side, style: Modern geometric clean, colors: Cool blues (logic) + warm reds (meat), no text, recognizable at 16x1024px, rounded corners, app icon style.'],3:['Create a modern app icon featuring the letter "C" (for Carnivore) combined with a meat element for "CarnivoreGuid" app. Square format (1024x1024px), bold sans-serif "C" with meat icon inside, style: Modern bold typography + icon, colors: Strong vibrant colors (reds, oranges), "C" prominent and readable at small sizes, rounded corners, app icon style.','Create a modern app icon featuring the letter "C" (for Carnivore) combined with a meat element for "CarnivoreGuid" app. Square format (1024x1024px), "C" made of meat texture/pattern, style: Modern bold typography + icon, colors: Strong vibrant colors (reds, oranges), "C" prominent and readable at small sizes, rounded corners, app icon style.','Create a modern app icon featuring the letter "C" (for Carnivore) combined with a meat element for "CarnivoreGuid" app. Square format (1024x1024px), meat icon replacing part of the "C" letter, style: Modern bold typography + icon, colors: Strong vibrant colors (reds, oranges), "C" prominent and readable at small sizes, rounded corners, app icon style.']}[l],v=Math.min(o-1,c.length-1);return c[v]}async function ub(l,o="1024x1024"){if(navigator.clipboard)try{await navigator.clipboard.writeText(l)}catch{}throw new Error(` API

 : ${l}

 :
- Replicate (Stable Diffusion): https://replicate.com/
- Hugging Face: https://huggingface.co/spaces/stabilityai/stable-diffusion
- Craiyon: https://www.craiyon.com/

`)}async function db(l,o=1){const u=jl(l,o);return ub(u,"1024x1024")}function jl(l,o){const c={1:['Create a simple, modern app icon for a carnivore diet app called "CarnivoreGuid". Square format (1024x1024px), geometric abstract meat shape, style: Modern clean minimalist, colors: Warm reds and browns, no text, bold clear silhouette recognizable at 16x16px, rounded corners, app icon style.','Create a simple, modern app icon for a carnivore diet app called "CarnivoreGuid". Square format (1024x1024px), realistic but simplified steak silhouette, style: Modern clean minimalist, colors: Warm reds and browns, no text, bold clear silhouette recognizable at 16x16px, rounded corners, app icon style.','Create a simple, modern app icon for a carnivore diet app called "CarnivoreGuid". Square format (1024x1024px), minimalist meat cut outline, style: Modern clean minimalist, colors: Warm reds and browns, no text, bold clear silhouette recognizable at 16x16px, rounded corners, app icon style.','Create a simple, modern app icon for a carnivore diet app called "CarnivoreGuid". Square format (1024x1024px), bold flat design meat icon, style: Modern clean minimalist, colors: Warm reds and browns, no text, bold clear silhouette recognizable at 16x16px, rounded corners, app icon style.'],2:['Create a modern app icon combining "logic" and "meat" concepts for "CarnivoreGuid" app. Square format (1024x1024px), brain icon with meat texture inside, style: Modern geometric clean, colors: Cool blues (logic) + warm reds (meat), no text, recognizable at 16x16px, rounded corners, app icon style.','Create a modern app icon combining "logic" and "meat" concepts for "CarnivoreGuid" app. Square format (1024x1024px), meat cut with logic/circuit pattern overlay, style: Modern geometric clean, colors: Cool blues (logic) + warm reds (meat), no text, recognizable at 16x16px, rounded corners, app icon style.','Create a modern app icon combining "logic" and "meat" concepts for "CarnivoreGuid" app. Square format (1024x1024px), geometric brain and meat icon side by side, style: Modern geometric clean, colors: Cool blues (logic) + warm reds (meat), no text, recognizable at 16x16px, rounded corners, app icon style.'],3:['Create a modern app icon featuring the letter "C" (for Carnivore) combined with a meat element for "CarnivoreGuid" app. Square format (1024x1024px), bold sans-serif "C" with meat icon inside, style: Modern bold typography + icon, colors: Strong vibrant colors (reds, oranges), "C" prominent and readable at small sizes, rounded corners, app icon style.','Create a modern app icon featuring the letter "C" (for Carnivore) combined with a meat element for "CarnivoreGuid" app. Square format (1024x1024px), "C" made of meat texture/pattern, style: Modern bold typography + icon, colors: Strong vibrant colors (reds, oranges), "C" prominent and readable at small sizes, rounded corners, app icon style.','Create a modern app icon featuring the letter "C" (for Carnivore) combined with a meat element for "CarnivoreGuid" app. Square format (1024x1024px), meat icon replacing part of the "C" letter, style: Modern bold typography + icon, colors: Strong vibrant colors (reds, oranges), "C" prominent and readable at small sizes, rounded corners, app icon style.']}[l],v=Math.min(o-1,c.length-1);return c[v]}async function mb(){const l=[];for(let u=1;u<=4;u++){const c=jl(1,u);l.push({style:1,variation:u,prompt:c})}for(let u=1;u<=3;u++){const c=jl(2,u);l.push({style:2,variation:u,prompt:c})}for(let u=1;u<=3;u++){const c=jl(3,u);l.push({style:3,variation:u,prompt:c})}const o=l.map((u,c)=>`${c+1}. ${u.style} - ${u.variation}:
${u.prompt}
`).join(`
`);if(navigator.clipboard)try{await navigator.clipboard.writeText(o)}catch{}throw new Error(` API

 10:

`+o+`
 :
1. Replicate (Stable Diffusion): https://replicate.com/
   - 
2. Hugging Face: https://huggingface.co/spaces/stabilityai/stable-diffusion
   - 
3. Craiyon: https://www.craiyon.com/
   - 

10`)}function fb(){const[l,o]=f.useState(!1),[u,c]=f.useState([]),[v,p]=f.useState(null),m=async()=>{o(!0),p(null);try{const S=await rb();c(S)}catch(S){const x=S instanceof Error?S.message:"";if(x.includes("Replicate API"))try{await mb()}catch{p(x)}else p(x)}finally{o(!1)}},y=async(S,x=1)=>{o(!0),p(null);try{const b=await wl(S,x);c(g=>[...g,{style:S,variation:x,url:b}])}catch(b){const g=b instanceof Error?b.message:"";if(g.includes("Replicate API"))try{await db(S,x)}catch{p(g)}else p(g)}finally{o(!1)}};return i.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",children:""}),i.jsxs("div",{className:"mb-4 space-x-2",children:[i.jsx("button",{onClick:m,disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"...":"10"}),i.jsx("button",{onClick:()=>y(1,1),disabled:l,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:"1-1"}),i.jsx("button",{onClick:()=>y(2,1),disabled:l,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50",children:"2-1"}),i.jsx("button",{onClick:()=>y(3,1),disabled:l,className:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 disabled:opacity-50",children:"3-1"})]}),v&&i.jsxs("div",{className:"mb-4 p-4 bg-yellow-100 border border-yellow-400 text-yellow-800 rounded whitespace-pre-line",children:[i.jsx("div",{className:"font-bold mb-2",children:" "}),i.jsx("div",{className:"mb-3",children:v}),i.jsxs("div",{className:"text-sm",children:[i.jsx("p",{className:"font-bold mb-1",children:" :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsxs("li",{children:[i.jsx("a",{href:"https://replicate.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Replicate (Stable Diffusion)"})," ","- "]}),i.jsxs("li",{children:[i.jsx("a",{href:"https://huggingface.co/spaces/stabilityai/stable-diffusion",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Hugging Face"})," ","- "]}),i.jsxs("li",{children:[i.jsx("a",{href:"https://www.craiyon.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Craiyon"})," ","- "]})]}),i.jsx("p",{className:"mt-2 text-xs text-gray-600",children:""})]})]}),u.length>0&&i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:u.map((S,x)=>i.jsxs("div",{className:"border rounded p-2",children:[i.jsx("img",{src:S.url,alt:`${S.style} - ${S.variation}`,className:"w-full aspect-square object-cover rounded mb-2"}),i.jsxs("div",{className:"text-sm text-gray-600",children:["",S.style," - ",S.variation]}),i.jsx("a",{href:S.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:""})]},x))})]})}const gb={home:!0,input:!0,history:!0,profile:!0,settings:!0,aiFeatures:!0,stats:!0,diary:!0,labs:!0,recipe:!1,streakTracker:!1,healthDevice:!1,community:!1,shop:!1,gift:!1,paywall:!0,ifThenRules:!1};function pb(){return gb}function ha(l){return pb()[l]}function yg(l){const u={home:"home",input:"input",history:"history",profile:"profile",settings:"settings",stats:"stats",diary:"diary",recipe:"recipe",labs:"labs",streakTracker:"streakTracker",healthDevice:"healthDevice",community:"community",shop:"shop",gift:"gift",paywall:"paywall",ifThenRules:"ifThenRules"}[l];return u?ha(u):!0}function hb(){const{t:l}=Ln(),{tipsEnabled:o}=Xo(),[u,c]=f.useState(!1),[v,p]=f.useState(null),[m,y]=f.useState(0),[S,x]=f.useState(!1),[b,g]=f.useState(!1),[k,T]=f.useState(!1),[O,I]=f.useState("all"),[ie,q]=f.useState(0),[B,$]=f.useState([]),[re,pe]=f.useState(!1),[ce,Ne]=f.useState(null),[V,ve]=f.useState(!1);f.useEffect(()=>{const z=async()=>{const me=await Og();Ne(me)};z();const W=()=>{z()};return window.addEventListener("dailyLogUpdated",W),window.addEventListener("screenChanged",W),()=>{window.removeEventListener("dailyLogUpdated",W),window.removeEventListener("screenChanged",W)}},[]),f.useEffect(()=>{const z=localStorage.getItem("primal_logic_tip_history"),W=localStorage.getItem("primal_logic_tips_displayed"),me=pa(),D=[];if(me.length>0){const X=Lt.filter(ae=>me.includes(ae.id));D.push(...X)}if(z){const X=JSON.parse(z);D.push(...X)}if(W){const X=JSON.parse(W);D.push(...X)}const te=D.filter((X,ae,se)=>ae===se.findIndex(fe=>"id"in X&&"id"in fe&&X.id===fe.id||"symptom"in X&&"symptom"in fe&&X.symptom===fe.symptom));$(te)},[]);const he=()=>{const z=(m+1)%Lt.length;y(z);const W=Lt[z];p(W),x(Bt(W.id))},M=()=>{const z=m===0?Lt.length-1:m-1;y(z);const W=Lt[z];p(W),x(Bt(W.id))},be=async z=>{let W="";if("title"in z&&z.title?W=`Did you know? ${z.title}

${z.content} #PrimalLogic`:"symptom"in z&&(W=`Did you know? ${z.symptom} -> ${z.remedies.join(", ")} #PrimalLogic`),navigator.share)try{await navigator.share({title:"CarnivoreOS Tip",text:W})}catch{}else try{await navigator.clipboard.writeText(W),alert("Copied to clipboard!")}catch{}};return i.jsxs("div",{className:"labs-screen-container",style:{padding:"1rem",maxWidth:"600px",margin:"0 auto"},children:[i.jsx("div",{style:{marginBottom:"2rem",padding:"1rem",backgroundColor:"#f9fafb",borderRadius:"8px"},children:i.jsx("p",{style:{fontSize:"14px",color:"#78716c",lineHeight:"1.6"},children:l("labs.description")})}),i.jsx("div",{style:{marginBottom:"2rem"},children:i.jsxs("div",{onClick:z=>{z.preventDefault(),z.stopPropagation();const W=new CustomEvent("navigateToScreen",{detail:"stats"});window.dispatchEvent(W)},style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",backgroundColor:"#ecfdf5",borderRadius:"8px",border:"1px solid #10b981",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:z=>z.currentTarget.style.backgroundColor="#d1fae5",onMouseLeave:z=>z.currentTarget.style.backgroundColor="#ecfdf5",children:[i.jsxs("div",{children:[i.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"4px",color:"#065f46"},children:" Bio-Hack Terminal"}),i.jsx("p",{style:{fontSize:"12px",color:"#065f46"},children:"[Duplicate] Statistics and summary features (overlaps with Results: AnimalCounter, Achievements) [Unique] Nutrient charts, weight charts, sleep analysis charts"})]}),i.jsx("span",{style:{fontSize:"20px",color:"#065f46"},children:""})]})}),i.jsx("div",{style:{marginBottom:"2rem"},children:i.jsxs("div",{onClick:z=>{z.preventDefault(),z.stopPropagation();const W=new CustomEvent("navigateToScreen",{detail:"diary"});window.dispatchEvent(W)},style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",backgroundColor:"#ecfdf5",borderRadius:"8px",border:"1px solid #10b981",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:z=>z.currentTarget.style.backgroundColor="#d1fae5",onMouseLeave:z=>z.currentTarget.style.backgroundColor="#ecfdf5",children:[i.jsxs("div",{children:[i.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"4px",color:"#065f46"},children:" Bio-Tuner (Output & Log)"}),i.jsx("p",{style:{fontSize:"12px",color:"#065f46"},children:"Integrated recording of body output signals and system logs (observations and analysis)"})]}),i.jsx("span",{style:{fontSize:"20px",color:"#065f46"},children:""})]})}),ha("ifThenRules")&&i.jsx("div",{style:{marginBottom:"2rem"},children:i.jsxs("div",{onClick:z=>{z.preventDefault(),z.stopPropagation();const W=new CustomEvent("navigateToScreen",{detail:"ifThenRules"});window.dispatchEvent(W)},style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",backgroundColor:"#fef3c7",borderRadius:"8px",border:"1px solid #fbbf24",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:z=>z.currentTarget.style.backgroundColor="#fde68a",onMouseLeave:z=>z.currentTarget.style.backgroundColor="#fef3c7",children:[i.jsxs("div",{children:[i.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"4px",color:"#92400e"},children:" If-Then Rules"}),i.jsx("p",{style:{fontSize:"12px",color:"#92400e"},children:"Set automatic actions based on conditions such as eating out or consuming carbs"})]}),i.jsx("span",{style:{fontSize:"20px",color:"#92400e"},children:""})]})}),ha("shop")&&i.jsx("div",{style:{marginBottom:"2rem"},children:i.jsxs("div",{onClick:z=>{z.preventDefault(),z.stopPropagation();const W=new CustomEvent("navigateToScreen",{detail:"shop"});window.dispatchEvent(W)},style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",backgroundColor:"#f0f9ff",borderRadius:"8px",border:"1px solid #0ea5e9",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:z=>z.currentTarget.style.backgroundColor="#e0f2fe",onMouseLeave:z=>z.currentTarget.style.backgroundColor="#f0f9ff",children:[i.jsxs("div",{children:[i.jsxs("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"4px",color:"#0c4a6e"},children:[" ",l("labs.shop")]}),i.jsx("p",{style:{fontSize:"12px",color:"#0c4a6e"},children:l("labs.shopDescription")})]}),i.jsx("span",{style:{fontSize:"20px",color:"#0c4a6e"},children:""})]})}),ha("gift")&&i.jsx("div",{style:{marginBottom:"2rem"},children:i.jsxs("div",{onClick:z=>{z.preventDefault(),z.stopPropagation();const W=new CustomEvent("navigateToScreen",{detail:"gift"});window.dispatchEvent(W)},style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",backgroundColor:"#fef3c7",borderRadius:"8px",border:"1px solid #fbbf24",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:z=>z.currentTarget.style.backgroundColor="#fde68a",onMouseLeave:z=>z.currentTarget.style.backgroundColor="#fef3c7",children:[i.jsxs("div",{children:[i.jsxs("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"4px",color:"#78350f"},children:[" ",l("labs.gift")]}),i.jsx("p",{style:{fontSize:"12px",color:"#78350f"},children:l("labs.giftDescription")})]}),i.jsx("span",{style:{fontSize:"20px",color:"#78350f"},children:""})]})}),ha("streakTracker")&&i.jsx("div",{style:{marginBottom:"2rem"},children:i.jsxs("div",{onClick:()=>{const z=new CustomEvent("navigateToScreen",{detail:"streakTracker"});window.dispatchEvent(z)},style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e7e5e4",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:z=>z.currentTarget.style.backgroundColor="#f9fafb",onMouseLeave:z=>z.currentTarget.style.backgroundColor="white",children:[i.jsxs("div",{children:[i.jsxs("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"4px"},children:[" ",l("labs.streakTracker")]}),i.jsx("p",{style:{fontSize:"12px",color:"#78716c"},children:ce?`${ce.currentStreak}${l("common.days")} ${l("common.consecutive")} | ${ce.phase}`:l("labs.streakTrackerDescription")})]}),i.jsx("span",{style:{fontSize:"20px"},children:""})]})}),o&&i.jsxs("div",{style:{marginBottom:"2rem"},children:[i.jsxs("h3",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"1rem"},children:[" ",l("labs.tips")]}),i.jsx("button",{onClick:()=>{I("all"),T(!0)},style:{padding:"0.75rem 1.5rem",backgroundColor:"#fbbf24",border:"none",borderRadius:"8px",fontSize:"14px",cursor:"pointer",color:"#78350f",fontWeight:"bold",width:"100%"},children:l("labs.viewTipsList")})]}),u&&v&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>c(!1),children:i.jsxs("div",{style:{backgroundColor:"white",padding:"1.5rem",borderRadius:"8px",maxHeight:"80%",overflow:"auto",position:"relative",width:"100%",maxWidth:"400px"},onClick:z=>z.stopPropagation(),children:[i.jsx("button",{onClick:()=>c(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer"},children:""}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[i.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",margin:0,flex:1},children:v.title}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("button",{onClick:()=>{S?to(v.id):eo(v.id),x(!S)},style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",padding:"4px"},title:l(S?"labs.tipSaved":"labs.tipSave"),children:S?"":""}),i.jsxs("span",{style:{fontSize:"12px",color:"#6b7280"},children:[m+1," / ",Lt.length]})]})]}),i.jsx("p",{style:{fontSize:"14px",lineHeight:"1.6",color:"#374151",marginBottom:"1rem"},children:v.content}),v.category&&i.jsx("div",{style:{marginBottom:"1rem"},children:i.jsx("span",{style:{padding:"4px 8px",backgroundColor:"#f3f4f6",borderRadius:"4px",fontSize:"12px",color:"#6b7280"},children:v.category})}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"space-between",marginTop:"1.5rem"},children:[i.jsx("button",{onClick:M,style:{padding:"8px 16px",backgroundColor:"#f3f4f6",border:"none",borderRadius:"4px",fontSize:"14px",cursor:"pointer",color:"#374151",flex:1},children:l("labs.tipBack")}),i.jsx("button",{onClick:he,style:{padding:"8px 16px",backgroundColor:"#f3f4f6",border:"none",borderRadius:"4px",fontSize:"14px",cursor:"pointer",color:"#374151",flex:1},children:l("labs.tipNext")})]}),i.jsx("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:i.jsx("button",{onClick:()=>be(v),style:{padding:"8px 16px",backgroundColor:"#fee2e2",border:"none",borderRadius:"4px",fontSize:"14px",cursor:"pointer",color:"#dc2626",flex:1},children:l("labs.tipShare")})})]})}),b&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>g(!1),children:i.jsxs("div",{style:{backgroundColor:"white",padding:"1.5rem",borderRadius:"8px",maxHeight:"80%",overflow:"auto",position:"relative",width:"100%",maxWidth:"400px"},onClick:z=>z.stopPropagation(),children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[i.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold"},children:l("labs.tipsHistory")}),i.jsx("button",{onClick:()=>g(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer"},children:""})]}),B.length===0?i.jsx("p",{style:{fontSize:"14px",color:"#78716c",textAlign:"center",padding:"2rem 0"},children:l("labs.noTipsHistory")}):i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:B.map((z,W)=>i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f9fafb",border:"1px solid #e7e5e4",borderRadius:"8px"},children:["title"in z?i.jsxs(i.Fragment,{children:[i.jsx("h4",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"4px"},children:z.title}),i.jsx("p",{style:{fontSize:"12px",color:"#374151",marginBottom:"8px",lineHeight:"1.5"},children:z.content}),z.category&&i.jsx("div",{style:{marginBottom:"8px"},children:i.jsx("span",{style:{padding:"2px 6px",backgroundColor:"#e5e7eb",borderRadius:"4px",fontSize:"10px",color:"#6b7280"},children:z.category})})]}):i.jsxs(i.Fragment,{children:[i.jsx("h4",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"4px"},children:z.symptom}),i.jsx("p",{style:{fontSize:"12px",color:"#78716c",marginBottom:"8px"},children:z.logic}),i.jsx("ul",{style:{fontSize:"12px",color:"#374151",listStyle:"disc",paddingLeft:"1.5rem",marginBottom:"8px"},children:z.remedies.map((me,D)=>i.jsx("li",{children:me},D))})]}),i.jsx("button",{onClick:()=>be(z),style:{padding:"4px 8px",backgroundColor:"#fee2e2",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",color:"#dc2626"},children:" Share"})]},W))})]})}),k&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>T(!1),children:i.jsxs("div",{style:{backgroundColor:"white",padding:"1.5rem",borderRadius:"8px",maxHeight:"80%",overflow:"auto",position:"relative",width:"100%",maxWidth:"600px"},onClick:z=>z.stopPropagation(),children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",position:"relative",paddingRight:"2rem"},children:[i.jsxs("h3",{style:{fontSize:"18px",fontWeight:"bold",margin:0},children:[l("labs.tipsList")," (",O==="all"?Lt.length:pa().length,l("common.items"),")"]}),i.jsx("button",{onClick:()=>T(!1),style:{position:"absolute",top:0,right:0,background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",padding:"0.25rem",zIndex:10},children:""})]}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem",borderBottom:"2px solid #e7e5e4"},children:[i.jsxs("button",{onClick:()=>I("all"),style:{padding:"0.5rem 1rem",background:"none",border:"none",borderBottom:O==="all"?"2px solid #fbbf24":"2px solid transparent",fontSize:"14px",fontWeight:O==="all"?"bold":"normal",color:O==="all"?"#78350f":"#6b7280",cursor:"pointer",marginBottom:"-2px"},children:[l("labs.tipsListAll")," (",Lt.length,")"]}),i.jsxs("button",{onClick:()=>I("saved"),style:{padding:"0.5rem 1rem",background:"none",border:"none",borderBottom:O==="saved"?"2px solid #fbbf24":"2px solid transparent",fontSize:"14px",fontWeight:O==="saved"?"bold":"normal",color:O==="saved"?"#78350f":"#6b7280",cursor:"pointer",marginBottom:"-2px"},children:[l("labs.tipsListSaved")," (",pa().length,")"]})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[(O==="all"?Lt:Lt.filter(z=>Bt(z.id))).map((z,W)=>{const me=Lt.findIndex(D=>D.id===z.id);return i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f9fafb",border:"1px solid #e7e5e4",borderRadius:"8px",transition:"background-color 0.2s"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[i.jsxs("h4",{onClick:()=>{y(me>=0?me:0),p(z),x(Bt(z.id)),T(!1),c(!0)},style:{fontSize:"14px",fontWeight:"bold",margin:0,flex:1,cursor:"pointer"},children:[me>=0?me+1:W+1,". ",z.title]}),i.jsx("button",{onClick:D=>{D.stopPropagation(),Bt(z.id)?to(z.id):eo(z.id),q(X=>X+1)},style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",padding:"4px",marginLeft:"0.5rem"},title:Bt(z.id)?l("labs.tipSaved"):l("labs.tipSave"),children:Bt(z.id)?"":""})]}),i.jsxs("p",{onClick:()=>{y(me>=0?me:0),p(z),x(Bt(z.id)),T(!1),c(!0)},style:{fontSize:"12px",color:"#374151",marginBottom:"0.5rem",lineHeight:"1.5",cursor:"pointer"},children:[z.content.substring(0,100),"..."]}),z.category&&i.jsx("span",{style:{padding:"2px 6px",backgroundColor:"#e5e7eb",borderRadius:"4px",fontSize:"10px",color:"#6b7280"},children:z.category})]},z.id)}),O==="saved"&&pa().length===0&&i.jsx("p",{style:{fontSize:"14px",color:"#78716c",textAlign:"center",padding:"2rem 0"},children:l("labs.noSavedTips")})]},ie)]})}),re&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>pe(!1),children:i.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"1.5rem",width:"100%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto",position:"relative"},onClick:z=>z.stopPropagation(),children:[i.jsx("button",{onClick:()=>pe(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6b7280"},children:""}),i.jsx(sb,{})]})}),V&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>ve(!1),children:i.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"2rem",width:"100%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto",position:"relative"},onClick:z=>z.stopPropagation(),children:[i.jsx("button",{onClick:()=>ve(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6b7280"},children:""}),i.jsxs("h2",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"1.5rem",textAlign:"center"},children:[" ",l("labs.appIconGenerator")]}),i.jsx(fb,{})]})})]})}function fa({text:l,children:o,position:u="bottom"}){const[c,v]=f.useState(!1),[p,m]=f.useState({x:0,y:0}),y=g=>{g.stopPropagation(),g.preventDefault();const k=g.currentTarget.getBoundingClientRect();m({x:k.left,y:k.top}),v(!c)},S=g=>{g.stopPropagation(),g.preventDefault();const k=g.currentTarget.getBoundingClientRect();m({x:k.left,y:k.top}),v(!0)},x=g=>{const k=g.currentTarget.getBoundingClientRect();m({x:k.left,y:k.top}),v(!0)},b=()=>{const g={position:"fixed",left:`${p.x}px`,backgroundColor:"#1f2937",color:"white",padding:"8px 12px",borderRadius:"6px",fontSize:"12px",maxWidth:"250px",zIndex:1e3,pointerEvents:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",whiteSpace:"pre-wrap"};switch(u){case"top":return{...g,bottom:`${window.innerHeight-p.y+20}px`};case"bottom":return{...g,top:`${p.y+20}px`};case"left":return{...g,right:`${window.innerWidth-p.x+20}px`,top:`${p.y}px`,left:"auto"};case"right":return{...g,left:`${p.x+20}px`,top:`${p.y}px`};default:return{...g,top:`${p.y+20}px`}}};return i.jsxs("span",{className:"help-tooltip-trigger",onClick:y,onTouchStart:S,onMouseEnter:x,onMouseLeave:()=>v(!1),style:{userSelect:"none",WebkitTapHighlightColor:"transparent"},children:[o||"",c&&i.jsx("div",{className:"help-tooltip-content",style:b(),children:l})]})}const vb="/api/feedback";function Qc(l){if(typeof window<"u"&&window.showToast){window.showToast(l);return}alert(l)}async function bb(l){if((l.headers.get("content-type")||"").includes("text/html"))return"Failed to relay the request (dev server/proxy). Please reload the page, and if it persists, restart the dev server.";try{const u=await l.json(),c=typeof u?.message=="string"?u.message:"",v=typeof u?.hint=="string"?u.hint:"",p=`${c}
${v}`.trim();if(p.includes("workflow must be active")||p.includes("must be active"))return"The destination (n8n) is not running. Please activate the workflow on the n8n side.";if(p.includes("proxy_error"))return"Failed to relay the request (dev server/proxy). Please check the dev server logs.";if(p)return p}catch{}return`Failed to send (HTTP ${l.status})`}function yb({open:l,onClose:o,title:u="Feedback & Bug Report",placeholder:c="Please write freely about what you noticed (e.g., screen goes blank, nutrients are off, I want this feature...)"}){const v=f.useMemo(()=>vb,[]),[p,m]=f.useState(""),[y,S]=f.useState(!1);f.useEffect(()=>{l&&(m(""),S(!1))},[l]);const x=f.useMemo(()=>p.trim().length>0&&!y,[p,y]),b=f.useCallback(async()=>{const T=p.trim();if(T){S(!0);try{const O=await fetch(v,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feedback:T})});if(!O.ok){const I=await bb(O);Qc(I);return}try{const ie=parseInt(localStorage.getItem("primal_logic_feedback_count")||"0",10)+1;localStorage.setItem("primal_logic_feedback_count",ie.toString());const q=`feedback_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,B=JSON.parse(localStorage.getItem("primal_logic_feedback_ids")||"[]");B.push({id:q,text:T,timestamp:new Date().toISOString()}),localStorage.setItem("primal_logic_feedback_ids",JSON.stringify(B)),window.dispatchEvent(new CustomEvent("feedbackCountUpdated",{detail:ie}))}catch(I){console.warn("Failed to save feedback count:",I)}Qc("Sent"),o()}catch{Qc("Failed to send")}finally{S(!1)}}},[v,p,o]),g=f.useCallback(T=>{T.target===T.currentTarget&&o()},[o]),k=f.useCallback(T=>{T.key==="Escape"&&o()},[o]);return l?i.jsx("div",{role:"dialog","aria-modal":"true",onClick:g,onKeyDown:k,style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.55)",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px",zIndex:1e3},children:i.jsxs("div",{style:{width:"min(560px, 100%)",borderRadius:12,border:"1px solid var(--color-border)",background:"var(--color-bg-primary)",color:"var(--color-text-primary)",padding:16,boxShadow:"0 12px 40px rgba(0,0,0,0.35)"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[i.jsx("div",{style:{fontSize:16,fontWeight:700},children:u}),i.jsx("button",{type:"button",onClick:o,"aria-label":"Close",style:{border:"1px solid var(--color-border)",background:"var(--color-bg-secondary)",color:"var(--color-text-primary)",borderRadius:8,padding:"8px 10px",cursor:"pointer"},children:""})]}),i.jsx("div",{style:{marginTop:12},children:i.jsx("textarea",{value:p,onChange:T=>m(T.target.value),placeholder:c,rows:8,style:{width:"100%",resize:"vertical",borderRadius:10,border:"1px solid var(--color-border)",background:"var(--color-bg-secondary)",color:"var(--color-text-primary)",padding:12,fontSize:14,lineHeight:1.5,outline:"none"}})}),i.jsxs("div",{style:{marginTop:12,display:"flex",gap:10,justifyContent:"flex-end"},children:[i.jsx("button",{type:"button",onClick:o,disabled:y,style:{border:"1px solid var(--color-border)",background:"var(--color-bg-secondary)",color:"var(--color-text-primary)",borderRadius:10,padding:"10px 12px",cursor:y?"not-allowed":"pointer",opacity:y?.6:1},children:"Cancel"}),i.jsx("button",{type:"button",onClick:b,disabled:!x,style:{border:"1px solid var(--color-accent)",background:"var(--color-accent)",color:"#fff",borderRadius:10,padding:"10px 12px",cursor:x?"pointer":"not-allowed",opacity:x?1:.5,fontWeight:700},children:y?"Sending...":"Send"})]})]})}):null}function xb({onShowOnboarding:l}={}){const{t:o}=Ln(),{showKnowledge:u,toggleKnowledge:c,showNutrientPreview:v,toggleNutrientPreview:p,fontSize:m,setFontSize:y,darkMode:S,toggleDarkMode:x,tipsEnabled:b,toggleTips:g,debugMode:k,toggleDebugMode:T,nutrientDisplayMode:O,setNutrientDisplayMode:I}=Xo(),[ie,q]=f.useState(m||"medium"),[B,$]=f.useState("default"),[re,pe]=f.useState(()=>{const he=localStorage.getItem("settings_notification_enabled");return he?JSON.parse(he):!1}),[ce,Ne]=f.useState(!1);f.useEffect(()=>{m&&q(m)},[m]),f.useEffect(()=>{"Notification"in window&&$(Notification.permission)},[]);const V=async()=>{if(!("Notification"in window)){alert("");return}re?(pe(!1),localStorage.setItem("settings_notification_enabled",JSON.stringify(!1))):await iu()?(pe(!0),$(Notification.permission),localStorage.setItem("settings_notification_enabled",JSON.stringify(!0))):alert("")},ve=he=>{q(he),y(he)};return i.jsxs("div",{className:"settings-screen-container",children:[i.jsxs("div",{className:"settings-screen-content",children:[i.jsx("h1",{className:"settings-screen-title",children:o("settings.title")}),i.jsxs("div",{className:"settings-screen-section",children:[i.jsx("h2",{className:"settings-screen-section-title",children:o("settings.fontSize")}),i.jsxs("div",{className:"settings-screen-button-row",children:[i.jsx("button",{className:`settings-screen-option-button ${ie==="small"?"active":""}`,onClick:()=>ve("small"),children:o("settings.fontSizeSmall")}),i.jsx("button",{className:`settings-screen-option-button ${ie==="medium"?"active":""}`,onClick:()=>ve("medium"),children:o("settings.fontSizeMedium")}),i.jsx("button",{className:`settings-screen-option-button ${ie==="large"?"active":""}`,onClick:()=>ve("large"),children:o("settings.fontSizeLarge")}),i.jsx("button",{className:`settings-screen-option-button ${ie==="xlarge"?"active":""}`,onClick:()=>ve("xlarge"),children:o("settings.fontSizeExtraLarge")})]})]}),i.jsxs("div",{className:"settings-screen-section",children:[i.jsx("h2",{className:"settings-screen-section-title",children:o("settings.nutrientDisplay")}),i.jsxs("div",{style:{marginBottom:"1rem"},children:[i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"600",color:"#374151"},children:[o("settings.displayMode"),i.jsx(fa,{text:o("settings.displayModeHelp")})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[i.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",padding:"0.75rem",backgroundColor:O==="simple"?"#dbeafe":"transparent",borderRadius:"8px",cursor:"pointer",border:O==="simple"?"2px solid #3b82f6":"2px solid #e5e7eb"},children:[i.jsx("input",{type:"radio",name:"nutrientDisplayMode",checked:O==="simple",onChange:()=>I("simple"),style:{marginTop:"0.25rem",cursor:"pointer"}}),i.jsxs("div",{style:{flex:1},children:[i.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937",marginBottom:"0.25rem"},children:o("settings.simpleMode")}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",lineHeight:"1.4"},children:Zc("simple")})]})]}),i.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",padding:"0.75rem",backgroundColor:O==="standard"?"#dbeafe":"transparent",borderRadius:"8px",cursor:"pointer",border:O==="standard"?"2px solid #3b82f6":"2px solid #e5e7eb"},children:[i.jsx("input",{type:"radio",name:"nutrientDisplayMode",checked:O==="standard",onChange:()=>I("standard"),style:{marginTop:"0.25rem",cursor:"pointer"}}),i.jsxs("div",{style:{flex:1},children:[i.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937",marginBottom:"0.25rem"},children:o("settings.standardMode")}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",lineHeight:"1.4"},children:Zc("standard")})]})]}),i.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",padding:"0.75rem",backgroundColor:O==="detailed"?"#dbeafe":"transparent",borderRadius:"8px",cursor:"pointer",border:O==="detailed"?"2px solid #3b82f6":"2px solid #e5e7eb"},children:[i.jsx("input",{type:"radio",name:"nutrientDisplayMode",checked:O==="detailed",onChange:()=>I("detailed"),style:{marginTop:"0.25rem",cursor:"pointer"}}),i.jsxs("div",{style:{flex:1},children:[i.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937",marginBottom:"0.25rem"},children:o("settings.detailedMode")}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",lineHeight:"1.4"},children:Zc("detailed")})]})]})]})]})]}),i.jsxs("div",{className:"settings-screen-section",children:[i.jsx("h2",{className:"settings-screen-section-title",children:o("settings.otherDisplay")}),i.jsxs("div",{className:"settings-screen-switch-row",children:[i.jsxs("div",{className:"settings-screen-switch-label-group",children:[i.jsxs("label",{className:"settings-screen-switch-label",children:[o("settings.showKnowledge"),i.jsx(fa,{text:o("settings.showKnowledgeHelp")})]}),i.jsx("div",{className:"settings-screen-switch-description",children:o("settings.showKnowledgeDesc")})]}),i.jsxs("label",{className:"settings-screen-switch",children:[i.jsx("input",{type:"checkbox",checked:u,onChange:c}),i.jsx("span",{className:"settings-screen-switch-slider"})]})]}),i.jsxs("div",{className:"settings-screen-switch-row",children:[i.jsxs("div",{className:"settings-screen-switch-label-group",children:[i.jsxs("label",{className:"settings-screen-switch-label",children:[o("settings.showNutrientPreview"),i.jsx(fa,{text:o("settings.showNutrientPreviewHelp")})]}),i.jsx("div",{className:"settings-screen-switch-description",children:o("settings.showNutrientPreviewDesc")})]}),i.jsxs("label",{className:"settings-screen-switch",children:[i.jsx("input",{type:"checkbox",checked:v,onChange:p}),i.jsx("span",{className:"settings-screen-switch-slider"})]})]}),i.jsxs("div",{className:"settings-screen-switch-row",children:[i.jsxs("div",{className:"settings-screen-switch-label-group",children:[i.jsxs("label",{className:"settings-screen-switch-label",children:[o("settings.darkMode"),i.jsx(fa,{text:o("settings.darkModeHelp")})]}),i.jsx("div",{className:"settings-screen-switch-description",children:o("settings.darkModeDesc")})]}),i.jsxs("label",{className:"settings-screen-switch",children:[i.jsx("input",{type:"checkbox",checked:S,onChange:x}),i.jsx("span",{className:"settings-screen-switch-slider"})]})]}),i.jsxs("div",{className:"settings-screen-switch-row",children:[i.jsxs("div",{className:"settings-screen-switch-label-group",children:[i.jsxs("label",{className:"settings-screen-switch-label",children:[o("settings.showTips"),i.jsx(fa,{text:o("settings.showTipsHelp")})]}),i.jsx("div",{className:"settings-screen-switch-description",children:o("settings.showTipsDesc")})]}),i.jsxs("label",{className:"settings-screen-switch",children:[i.jsx("input",{type:"checkbox",checked:b,onChange:g}),i.jsx("span",{className:"settings-screen-switch-slider"})]})]}),i.jsxs("div",{className:"settings-screen-switch-row",children:[i.jsxs("div",{className:"settings-screen-switch-label-group",children:[i.jsxs("label",{className:"settings-screen-switch-label",children:[o("settings.debugMode"),i.jsx(fa,{text:o("settings.debugModeHelp")})]}),i.jsx("div",{className:"settings-screen-switch-description",children:o("settings.debugModeDesc")})]}),i.jsxs("label",{className:"settings-screen-switch",children:[i.jsx("input",{type:"checkbox",checked:k,onChange:T}),i.jsx("span",{className:"settings-screen-switch-slider"})]})]})]}),i.jsxs("div",{className:"settings-screen-section",children:[i.jsx("h2",{className:"settings-screen-section-title",children:o("settings.notificationSettings")}),i.jsxs("div",{className:"settings-screen-switch-row",children:[i.jsxs("div",{className:"settings-screen-switch-label-group",children:[i.jsxs("label",{className:"settings-screen-switch-label",children:[o("settings.enableNotifications"),i.jsx(fa,{text:o("settings.enableNotificationsHelp")})]}),i.jsx("div",{className:"settings-screen-switch-description",children:o(B==="granted"?"settings.notificationGranted":B==="denied"?"settings.notificationDenied":"settings.notificationRequest")})]}),i.jsxs("label",{className:"settings-screen-switch",children:[i.jsx("input",{type:"checkbox",checked:re&&B==="granted",onChange:V,disabled:B==="denied"}),i.jsx("span",{className:"settings-screen-switch-slider"})]})]}),B==="denied"&&i.jsx("div",{style:{marginTop:"0.5rem",padding:"0.75rem",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"6px",fontSize:"0.875rem",color:"#991b1b"},children:o("settings.notificationDeniedWarning")})]}),i.jsxs("div",{className:"settings-screen-section",children:[i.jsx("h2",{className:"settings-screen-section-title",children:o("settings.dataManagement")}),i.jsxs("div",{className:"settings-screen-button-row",children:[i.jsx("button",{className:"settings-screen-option-button",onClick:()=>{const he=new CustomEvent("navigateToScreen",{detail:"dataExport"});window.dispatchEvent(he)},children:o("settings.dataExport")}),i.jsx("button",{className:"settings-screen-option-button",onClick:()=>{const he=new CustomEvent("navigateToScreen",{detail:"dataImport"});window.dispatchEvent(he)},children:o("settings.dataImport")})]})]}),i.jsxs("div",{className:"settings-screen-section",children:[i.jsx("h2",{className:"settings-screen-section-title",children:o("settings.appInfo")}),i.jsxs("div",{className:"settings-screen-button-row",children:[i.jsx("button",{className:"settings-screen-option-button",onClick:()=>{l&&(localStorage.removeItem("primal_logic_onboarding_completed"),l())},children:o("settings.showOnboarding")}),i.jsx("button",{className:"settings-screen-option-button",onClick:()=>{const he=new CustomEvent("navigateToScreen",{detail:"terms"});window.dispatchEvent(he)},children:o("settings.termsOfService")}),i.jsx("button",{className:"settings-screen-option-button",onClick:()=>{const he=new CustomEvent("navigateToScreen",{detail:"privacy"});window.dispatchEvent(he)},children:o("settings.privacyPolicy")}),i.jsx("button",{className:"settings-screen-option-button",onClick:()=>Ne(!0),children:""})]})]})]}),i.jsx(yb,{open:ce,onClose:()=>Ne(!1)})]})}function Sb({onAuthSuccess:l}){const{t:o}=Ln(),[u,c]=f.useState("login"),[v,p]=f.useState(""),[m,y]=f.useState(""),[S,x]=f.useState(""),[b,g]=f.useState(!1),[k,T]=f.useState(null),[O,I]=f.useState(null),[ie,q]=f.useState(null);f.useEffect(()=>{},[l]);const B=async()=>{};return ie?i.jsx("div",{className:"auth-screen",children:i.jsxs("div",{className:"auth-container",children:[i.jsx("h2",{className:"auth-title",children:o("auth.loggedIn")}),i.jsxs("p",{className:"auth-message",children:[o("auth.emailLabel"),": ",ie.user.email]}),i.jsx("button",{onClick:B,className:"auth-button auth-button-secondary",children:o("auth.logout")})]})}):i.jsx("div",{className:"auth-screen",children:i.jsxs("div",{className:"auth-container",children:[i.jsx("h2",{className:"auth-title",children:o("auth.guestMode")}),i.jsx("p",{className:"auth-message",children:o("auth.guestModeMessage")}),l&&i.jsx("button",{onClick:l,className:"auth-button auth-button-primary",children:o("auth.continue")})]})})}function wb({onAccept:l,onDecline:o}){const[u,c]=f.useState(!1),[v,p]=f.useState(!1),m=()=>{u&&v&&(localStorage.setItem("primal_logic_consent_accepted","true"),localStorage.setItem("primal_logic_consent_date",new Date().toISOString()),l())},y=()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"privacy"}))},S=()=>{window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"terms"}))};return i.jsx("div",{className:"consent-screen-container",children:i.jsxs("div",{className:"consent-screen-content",children:[i.jsx("h1",{className:"consent-screen-title",children:"CarnivoreOS"}),i.jsx("p",{className:"consent-screen-description",children:""}),i.jsxs("div",{className:"consent-screen-checkboxes",children:[i.jsxs("label",{className:"consent-screen-checkbox",children:[i.jsx("input",{type:"checkbox",checked:u,onChange:x=>c(x.target.checked)}),i.jsxs("span",{children:[i.jsx("a",{href:"#",onClick:x=>{x.preventDefault(),y()},children:""}),""]})]}),i.jsxs("label",{className:"consent-screen-checkbox",children:[i.jsx("input",{type:"checkbox",checked:v,onChange:x=>p(x.target.checked)}),i.jsxs("span",{children:[i.jsx("a",{href:"#",onClick:x=>{x.preventDefault(),S()},children:""}),""]})]})]}),i.jsxs("div",{className:"consent-screen-buttons",children:[i.jsx("button",{className:"consent-screen-button consent-screen-button-decline",onClick:o,children:""}),i.jsx("button",{className:"consent-screen-button consent-screen-button-accept",onClick:m,disabled:!u||!v,children:""})]})]})})}const bl=[{titleKey:"onboarding.step1.title",descriptionKey:"onboarding.step1.description",icon:"",isLanguageStep:!0},{titleKey:"onboarding.step2.title",descriptionKey:"onboarding.step2.description",icon:"",isPersonaStep:!0},{titleKey:"onboarding.step3.title",descriptionKey:"onboarding.step3.description",icon:"",isNotificationStep:!0}];function jb({onComplete:l}){const{t:o}=Ln(),[u,c]=f.useState(0),[v,p]=f.useState(Pi()),[m,y]=f.useState(!1),[S,x]=f.useState(null),[,b]=f.useState(0);f.useEffect(()=>{window.__onboardingCurrentStep=u,window.dispatchEvent(new CustomEvent("onboardingStepChanged"))},[u]);const g=[{code:"ja",name:"Japanese",nativeName:""},{code:"en",name:"English",nativeName:"English"},{code:"fr",name:"French",nativeName:"Franais"},{code:"de",name:"German",nativeName:"Deutsch"},{code:"zh",name:"Chinese",nativeName:""}],k=B=>{p(B),kg(B),b(re=>re+1);const $=new CustomEvent("languageChanged",{detail:B});window.dispatchEvent($)},T=async()=>{if(q.isPersonaStep&&S){const B=zv(S);Fg(B)}if(q.isNotificationStep){const{requestNotificationPermission:B}=await Fe(async()=>{const{requestNotificationPermission:$}=await Promise.resolve().then(()=>zg);return{requestNotificationPermission:$}},void 0);await B()}if(u<bl.length-1){const B=u+1;c(B),window.__onboardingCurrentStep=B,window.dispatchEvent(new CustomEvent("onboardingStepChanged"))}else ie()},O=()=>{if(u>0){const B=u-1;c(B),window.__onboardingCurrentStep=B,window.dispatchEvent(new CustomEvent("onboardingStepChanged"))}},I=()=>{ie()},ie=()=>{localStorage.setItem("primal_logic_onboarding_completed","true"),l()},q=bl[u];return f.useEffect(()=>{if(q.isAISpotlightStep&&!m){const B=()=>{y(!0)};return window.addEventListener("onboardingAIClicked",B),()=>{window.removeEventListener("onboardingAIClicked",B)}}},[q.isAISpotlightStep,m]),i.jsx("div",{className:"onboarding-screen-container",children:i.jsxs("div",{className:"onboarding-screen-content",children:[i.jsx("div",{className:"onboarding-screen-icon",children:q.icon}),i.jsx("h1",{className:"onboarding-screen-title",children:o(q.titleKey)}),i.jsx("p",{className:"onboarding-screen-description",children:o(q.descriptionKey)}),q.isLanguageStep&&i.jsx("div",{className:"onboarding-language-selector",children:g.map(B=>i.jsxs("button",{className:`onboarding-language-button ${v===B.code?"active":""}`,onClick:()=>k(B.code),children:[i.jsx("div",{className:"onboarding-language-name",children:B.nativeName}),i.jsx("div",{className:"onboarding-language-subtitle",children:B.name}),v===B.code&&i.jsx("span",{className:"onboarding-language-check",children:""})]},B.code))}),q.isPersonaStep&&i.jsxs("div",{className:"onboarding-persona-selector",children:[i.jsxs("button",{className:`onboarding-persona-button ${S==="carnivore_practitioner"?"active":""}`,onClick:()=>x("carnivore_practitioner"),style:{padding:"1.25rem",marginBottom:"0.75rem",border:S==="carnivore_practitioner"?"2px solid #3b82f6":"2px solid #e5e7eb",borderRadius:"12px",backgroundColor:S==="carnivore_practitioner"?"#dbeafe":"white",cursor:"pointer",textAlign:"left",width:"100%"},children:[i.jsx("div",{style:{fontSize:"24px",marginBottom:"0.5rem"},children:""}),i.jsx("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"0.25rem"},children:o("onboarding.persona.practitioner")}),i.jsx("div",{style:{fontSize:"13px",color:"#6b7280",lineHeight:"1.4"},children:o("onboarding.persona.practitionerDesc")}),i.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"12px",color:"#3b82f6",fontWeight:"500"},children:[" ",o("onboarding.persona.practitionerMode")]})]}),i.jsxs("button",{className:`onboarding-persona-button ${S==="beginner"?"active":""}`,onClick:()=>x("beginner"),style:{padding:"1.25rem",marginBottom:"0.75rem",border:S==="beginner"?"2px solid #3b82f6":"2px solid #e5e7eb",borderRadius:"12px",backgroundColor:S==="beginner"?"#dbeafe":"white",cursor:"pointer",textAlign:"left",width:"100%"},children:[i.jsx("div",{style:{fontSize:"24px",marginBottom:"0.5rem"},children:""}),i.jsx("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"0.25rem"},children:o("onboarding.persona.beginner")}),i.jsx("div",{style:{fontSize:"13px",color:"#6b7280",lineHeight:"1.4"},children:o("onboarding.persona.beginnerDesc")}),i.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"12px",color:"#3b82f6",fontWeight:"500"},children:[" ",o("onboarding.persona.beginnerMode")]})]}),i.jsxs("button",{className:`onboarding-persona-button ${S==="data_focused"?"active":""}`,onClick:()=>x("data_focused"),style:{padding:"1.25rem",border:S==="data_focused"?"2px solid #3b82f6":"2px solid #e5e7eb",borderRadius:"12px",backgroundColor:S==="data_focused"?"#dbeafe":"white",cursor:"pointer",textAlign:"left",width:"100%"},children:[i.jsx("div",{style:{fontSize:"24px",marginBottom:"0.5rem"},children:""}),i.jsx("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"0.25rem"},children:o("onboarding.persona.dataFocused")}),i.jsx("div",{style:{fontSize:"13px",color:"#6b7280",lineHeight:"1.4"},children:o("onboarding.persona.dataFocusedDesc")}),i.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"12px",color:"#3b82f6",fontWeight:"500"},children:[" ",o("onboarding.persona.dataFocusedMode")]})]})]}),q.isAISpotlightStep&&i.jsx("div",{className:"onboarding-ai-spotlight-guide",children:i.jsxs("div",{className:"onboarding-ai-instruction",children:[i.jsx("p",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"1rem"},children:" AI"}),i.jsxs("p",{style:{fontSize:"14px",color:"var(--color-text-secondary)",lineHeight:"1.6"},children:["AI",i.jsx("br",{}),""]})]})}),q.isChoiceStep&&m&&i.jsxs("div",{className:"onboarding-choice-selector",children:[i.jsxs("button",{className:"onboarding-choice-button onboarding-choice-button-spotlight",onClick:T,children:[i.jsx("div",{className:"onboarding-choice-icon",children:""}),i.jsx("div",{className:"onboarding-choice-title",children:"See Other Features"}),i.jsx("div",{className:"onboarding-choice-description",children:"Check remaining feature descriptions"})]}),i.jsxs("button",{className:"onboarding-choice-button onboarding-choice-button-primary onboarding-choice-button-spotlight",onClick:ie,children:[i.jsx("div",{className:"onboarding-choice-icon",children:""}),i.jsx("div",{className:"onboarding-choice-title",children:"Try the App"}),i.jsx("div",{className:"onboarding-choice-description",children:"Start using the app now"})]})]}),i.jsx("div",{className:"onboarding-screen-progress",children:bl.map((B,$)=>i.jsx("div",{className:`onboarding-screen-progress-dot ${$===u?"active":$<u?"completed":""}`},$))}),!q.isChoiceStep&&i.jsxs("div",{className:"onboarding-screen-buttons",children:[u>0&&i.jsx("button",{className:"onboarding-screen-button onboarding-screen-button-back",onClick:O,children:o("onboarding.back")}),i.jsx("button",{className:"onboarding-screen-button onboarding-screen-button-secondary",onClick:I,children:o("onboarding.skip")}),i.jsx("button",{className:"onboarding-screen-button onboarding-screen-button-primary",onClick:T,disabled:q.isPersonaStep&&!S,style:{opacity:q.isPersonaStep&&!S?.5:1,cursor:q.isPersonaStep&&!S?"not-allowed":"pointer"},children:u<bl.length-1?o("onboarding.next"):q.isNotificationStep?o("onboarding.notification.enable"):o("onboarding.start")})]})]})})}function Tb({onOpenFatTab:l,onAddFood:o}={}){const{addFood:u,userProfile:c}=Zi(),{aiMode:v}=Xo(),[p,m]=f.useState(()=>{const _=localStorage.getItem("ai_chat_ui_mode");return _==="reading"||_==="fullscreen"?_:"fullscreen"}),[y,S]=f.useState(()=>{const _=localStorage.getItem("ai_chat_bubble_position");if(_)try{return JSON.parse(_)}catch{return{x:window.innerWidth-280-20,y:window.innerHeight-400-100}}return{x:window.innerWidth-280-20,y:window.innerHeight-400-100}}),[x,b]=f.useState(()=>{const _=localStorage.getItem("ai_chat_bubble_size");if(_)try{const J=JSON.parse(_),oe=180,De=220,we=window.innerWidth,le=window.innerHeight;return{width:Math.max(oe,Math.min(we,J.width||280)),height:Math.max(De,Math.min(le,J.height||400))}}catch{return{width:280,height:400}}return{width:280,height:400}}),[g,k]=f.useState(!1),[T,O]=f.useState(!1),[I,ie]=f.useState(null),[q,B]=f.useState({x:0,y:0}),[$,re]=f.useState({x:0,y:0}),pe=f.useRef(null),[ce,Ne]=f.useState(()=>{const _=localStorage.getItem("ai_chat_fab_position");if(_)try{return JSON.parse(_)}catch{return{x:window.innerWidth-80,y:window.innerHeight-100}}return{x:window.innerWidth-80,y:window.innerHeight-100}}),[V,ve]=f.useState(!1),[he,M]=f.useState({x:0,y:0}),[be,z]=f.useState({x:0,y:0}),W=f.useRef(!1),me=f.useRef(null),[D,te]=f.useState(!1),[X,ae]=f.useState(null),[se,fe]=f.useState(!1),[L,Z]=f.useState(!1),[K,Ke]=f.useState({saltUsed:!1,saltType:"Nuchimasu",saltAmount:0,fatTrimmed:0,cookingMethod:"grilled",butterUsed:!1,additionalFoods:[]}),[bt,Te]=f.useState(!1),[j,H]=f.useState(""),[Tt,Mt]=f.useState(0),[Ct,On]=f.useState("g"),[ee,ue]=f.useState(!1),[Ce,de]=f.useState(null),[ht,ut]=f.useState(!1),ot=f.useRef(null),[Et,rt]=f.useState(!1);f.useEffect(()=>{const _=J=>{ot.current&&!ot.current.contains(J.target)&&ut(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const We=async()=>{ut(!1);try{const _=document.createElement("input");_.type="file",_.accept="image/*",_.onchange=async J=>{const oe=J.target.files?.[0];oe&&await vi(oe)},_.click()}catch{alert("Failed to select album.")}},_t=async()=>{ut(!1);try{const _=document.createElement("input");_.type="file",_.accept=".csv,.txt,.json",_.onchange=async J=>{const oe=J.target.files?.[0];oe&&alert(`File upload feature will be implemented in the future.
Selected file: ${oe.name}`)},_.click()}catch{alert("Failed to select file.")}},Qi=()=>{ut(!1),rt(!0)},vi=async _=>{ue(!0),de(null);try{const{analyzeFoodImage:J}=await Fe(async()=>{const{analyzeFoodImage:Ve}=await Promise.resolve().then(()=>_l);return{analyzeFoodImage:Ve}},void 0),oe=await J(_),{getFoodMasterItem:De}=await Fe(async()=>{const{getFoodMasterItem:Ve}=await Promise.resolve().then(()=>mg);return{getFoodMasterItem:Ve}},void 0),{searchFoodMasterByName:we}=await Fe(async()=>{const{searchFoodMasterByName:Ve}=await Promise.resolve().then(()=>mg);return{searchFoodMasterByName:Ve}},void 0);let le=we(oe.foodName);le||(oe.type==="ruminant"||oe.type==="animal"?le=De("beef","ribeye"):oe.type==="dairy"?le=De("dairy","butter"):le=De("beef","ribeye"));const ke=oe.estimatedWeight/100,Ze={protein:"protein",fat:"fat",carbs:"carbs",fiber:"fiber",sodium:"sodium",potassium:"potassium",magnesium:"magnesium",zinc:"zinc",iron:"iron",calcium:"calcium",phosphorus:"phosphorus",selenium:"selenium",copper:"copper",manganese:"manganese",vitaminA:"vitaminA",vitaminD:"vitaminD",vitaminE:"vitaminE",vitaminK:"vitaminK",vitaminK2:"vitaminK2",vitaminB1:"vitaminB1",vitaminB2:"vitaminB2",vitaminB3:"vitaminB3",vitaminB5:"vitaminB5",vitaminB6:"vitaminB6",vitaminB7:"vitaminB7",vitaminB9:"vitaminB9",vitaminB12:"vitaminB12",vitaminC:"vitaminC",choline:"choline",taurine:"taurine",iodine:"iodine",omega3:"omega3",omega6:"omega6",glycine:"glycine",methionine:"methionine",chromium:"chromium",molybdenum:"molybdenum",boron:"boron",vanadium:"vanadium"},Yt=le?{protein:(le.protein?.value||0)*ke,fat:(le.fat?.value||0)*ke,carbs:(le.carbs?.value||0)*ke,netCarbs:(le.carbs?.value||0)*ke,zinc:(le.zinc?.value||0)*ke,sodium:(le.sodium?.value||0)*ke,magnesium:(le.magnesium?.value||0)*ke,hemeIron:(le.iron?.value||0)*ke,nonHemeIron:0,vitaminB12:(le.vitamin_b12?.value||0)*ke,potassium:(le.potassium?.value||0)*ke,calcium:(le.calcium?.value||0)*ke,phosphorus:(le.phosphorus?.value||0)*ke,vitaminA:(le.vitamin_a?.value||0)*ke,vitaminD:(le.vitamin_d?.value||0)*ke,vitaminK2:(le.vitamin_k2?.value||0)*ke,omega3:(le.omega_3?.value||0)*ke,omega6:(le.omega_6?.value||0)*ke,choline:(le.choline?.value||0)*ke,iodine:(le.iodine?.value||0)*ke,vitaminB7:(le.vitamin_b7?.value||0)*ke,glycine:(le.glycine?.value||0)*ke,methionine:(le.methionine?.value||0)*ke}:{},Vt={};oe.nutrients&&Object.entries(oe.nutrients).forEach(([Ve,kt])=>{const Je=Ze[Ve]||Ve;Je&&typeof kt=="number"&&(Vt[Je]=kt*ke)});const Ie={item:oe.foodName,amount:oe.estimatedWeight,unit:"g",type:"ruminant",nutrients:{...Yt,...Vt}};if(le){const Ve=oe.estimatedWeight/100;Ie.nutrients={protein:(le.protein?.value||0)*Ve,fat:(le.fat?.value||0)*Ve,carbs:0,netCarbs:0,zinc:(le.zinc?.value||0)*Ve,sodium:(le.sodium?.value||0)*Ve,magnesium:(le.magnesium?.value||0)*Ve,hemeIron:(le.iron?.value||0)*Ve,nonHemeIron:0,vitaminB12:(le.vitamin_b12?.value||0)*Ve}}if(!o){alert("Error: Food addition feature is not available. Please reload the page.");return}ae(Ie),Z(!0),ue(!1)}catch(J){ue(!1);const oe=Ki(J)||"Failed to analyze image.";de(oe),confirm(`${oe}

Retry?`)&&setTimeout(()=>{Wn()},100)}},Wn=async()=>{ut(!1),de(null);try{const _=document.createElement("input");_.type="file",_.accept="image/*",_.capture="environment",_.onchange=async J=>{const oe=J.target.files?.[0];oe&&await vi(oe)},_.click()}catch(_){const J=Ki(_)||"Failed to get photo.";de(J),alert(J)}},[Jt,xn]=f.useState(!1),[Zt,cn]=f.useState([]),[Jn,Qt]=f.useState(""),[dt,Ot]=f.useState(!1),[ct,Sn]=f.useState(!1),It=f.useRef(null),wn=()=>{xn(!0)};f.useEffect(()=>(Sl.isAvailable()&&(It.current=new Sl({language:"ja-JP",continuous:!1,interimResults:!0}),It.current.onResult(_=>{_.isFinal?(Qt(_.text),Sn(!1),It.current?.stop()):Qt(_.text)}),It.current.onError(_=>{Sn(!1);const J=Ki(_)||`Voice input error: ${_}`;alert(J)}),It.current.onEnd(()=>{Sn(!1)})),()=>{It.current&&It.current.stop()}),[]);const Kn=()=>{if(!It.current){alert("Voice input is not supported in your browser.");return}if(ct)It.current.stop(),Sn(!1);else try{It.current.start(),Sn(!0)}catch(_){const J=Ki(_)||"Failed to start voice input.";alert(J)}},[Y,ne]=f.useState([]),[un,jn]=f.useState(null),[gt,dn]=f.useState(null),[Ht,w]=f.useState([]),[Se,ge]=f.useState(!1);f.useEffect(()=>{if(Jt&&!gt){const _=kl();dn(_),ge(Bt(_.id))}},[Jt]);const Pe=async _=>{const J=`Did you know? ${_.title}

${_.content} #PrimalLogic`;if(navigator.share)try{await navigator.share({title:"CarnivoreOS Tip",text:J})}catch{}else try{await navigator.clipboard.writeText(J),alert("Copied to clipboard!")}catch{alert("Failed to copy to clipboard.")}},xe=({tip:_,onNextTip:J,onPrevTip:oe,onToggleSave:De,isSaved:we,canGoBack:le})=>{const ke=Lt.findIndex(Yt=>Yt.id===_.id),Ze=ke>=0?ke+1:0;return i.jsxs("div",{className:"ai-chat-tips-card",children:[i.jsxs("div",{className:"ai-chat-tips-header",children:[i.jsxs("div",{className:"ai-chat-tips-title",children:[" ",_.title,i.jsxs("span",{style:{fontSize:"12px",color:"#6b7280",marginLeft:"0.5rem",fontWeight:"normal"},children:["(",Ze," / ",Lt.length,")"]})]}),i.jsx("button",{onClick:()=>De(_.id,we),className:`ai-chat-tips-save-button ${we?"saved":""}`,title:we?"Saved":"Save",children:we?"":""})]}),i.jsx("div",{className:"ai-chat-tips-content",children:_.content}),i.jsxs("div",{className:"ai-chat-tips-footer",children:[le&&i.jsx("button",{onClick:oe,style:{padding:"6px 12px",backgroundColor:"#f3f4f6",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",color:"#374151",marginRight:"0.5rem"},children:" Back"}),i.jsx("button",{onClick:J,className:"ai-chat-tips-next-button",children:"Next Tips "}),i.jsx("button",{onClick:()=>Pe(_),style:{padding:"6px 12px",backgroundColor:"#fee2e2",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",color:"#dc2626",marginLeft:"0.5rem"},title:"Share on SNS",children:" Share"})]})]})},Oe=async()=>{if(!Jn.trim()||dt)return;const _=Jn.trim();Qt(""),cn(oe=>[...oe,{role:"user",content:_}]),Ot(!0);const J=gt?$a(gt.id):kl();jn(J),dn(J),ge(Bt(J.id));try{const{getDailyLogs:oe}=await Fe(async()=>{const{getDailyLogs:Ie}=await Promise.resolve().then(()=>Jc);return{getDailyLogs:Ie}},void 0),we={logs:(await oe()).map(Ie=>({date:Ie.date,diary:Ie.diary,foods:Ie.fuel.map(Ve=>Ve.item)}))},{chatWithAIStructured:le}=await Fe(async()=>{const{chatWithAIStructured:Ie}=await Promise.resolve().then(()=>_l);return{chatWithAIStructured:Ie}},void 0),ke=await le(_,Zt,!1,!0,v,we,c?{height:c.height,weight:c.weight,age:c.age,gender:c.gender}:void 0);if(Ot(!1),jn(null),cn(Ie=>[...Ie,{role:"assistant",content:ke.answer}]),ke.todos&&ke.todos.length>0){ne(Xt=>[...Xt,{id:`todos_${Date.now()}`,todos:ke.todos}]);const{getDailyLogByDate:Ie,saveDailyLog:Ve}=await Fe(async()=>{const{getDailyLogByDate:Xt,saveDailyLog:Tn}=await Promise.resolve().then(()=>Jc);return{getDailyLogByDate:Xt,saveDailyLog:Tn}},void 0),kt=new Date().toISOString().split("T")[0];let Je=!1;for(const Xt of ke.todos)try{if(Xt.actionType==="update_input"&&Xt.actionParams){const Tn=await Ie(kt),In=Tn?.status||{},Pn=Xt.actionParams,es={...In,...Pn},ts=Tn?{...Tn,status:es}:{date:kt,status:es,fuel:[],diary:"",calculatedMetrics:{protein:0,fat:0,carbs:0,energy:0,pfr:0}};await Ve(ts),Je=!0}if(Xt.actionType==="add_food"&&Xt.actionParams){const{item:Tn,amount:In,unit:Pn}=Xt.actionParams;await u({item:Tn,amount:In||0,unit:Pn||"g",type:"ruminant",nutrients:{}}),Je=!0}}catch(Tn){console.error("Omni-Input execution failed:",Tn)}Je&&(window.dispatchEvent(new CustomEvent("externalDiaryUpdate")),cn(Xt=>[...Xt,{role:"assistant",content:" Data updated (Omni-Input Active)"}]))}const{getRemedyBySymptom:Ze}=await Fe(async()=>{const{getRemedyBySymptom:Ie}=await import("./remedyLogic-C_fEHs2F.js");return{getRemedyBySymptom:Ie}},[]);if(["headache","cramp","constipation","joint pain","keto flu","fatigue"].some(Ie=>_.includes(Ie))){const Ie=localStorage.getItem("primal_logic_tip_history"),Ve=Ie?JSON.parse(Ie):[],kt={id:`chat_${Date.now()}`,title:_.substring(0,50),content:ke.answer,category:"Symptom",viewed_at:new Date().toISOString()};Ve.unshift(kt),localStorage.setItem("primal_logic_tip_history",JSON.stringify(Ve.slice(0,50)))}}catch(oe){Ot(!1),jn(null);let De="A server error occurred. Please try again later.";oe instanceof Error&&(oe.message.includes("API key")?De="Gemini API key is not set. Please set the API key from the settings screen.":oe.message.includes("network")||oe.message.includes("fetch")?De="A network error occurred. Please check your internet connection.":oe.message.includes("timeout")?De="Request timed out. Please try again later.":(oe.message.includes("quota")||oe.message.includes("rate limit"))&&(De="API usage limit reached. Please try again later.")),cn(we=>[...we,{role:"assistant",content:De}])}},Ee=_=>{if(_.preventDefault(),_.stopPropagation(),pe.current){const J=pe.current.getBoundingClientRect(),oe="touches"in _?_.touches[0].clientX:_.clientX,De="touches"in _?_.touches[0].clientY:_.clientY;B({x:oe-J.left,y:De-J.top}),k(!0)}};f.useEffect(()=>{if(!g)return;const _=oe=>{oe.preventDefault();const De="touches"in oe?oe.touches[0].clientX:oe.clientX,we="touches"in oe?oe.touches[0].clientY:oe.clientY,le=Math.max(0,Math.min(window.innerWidth-x.width,De-q.x)),ke=Math.max(0,Math.min(window.innerHeight-x.height,we-q.y));S({x:le,y:ke})},J=()=>{k(!1)};return window.addEventListener("mousemove",_),window.addEventListener("mouseup",J),window.addEventListener("touchmove",_,{passive:!1}),window.addEventListener("touchend",J),()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",J),window.removeEventListener("touchmove",_),window.removeEventListener("touchend",J)}},[g,q,x]);const yt=_=>{if(_.preventDefault(),_.stopPropagation(),me.current){const J=me.current.getBoundingClientRect(),oe="touches"in _?_.touches[0].clientX:_.clientX,De="touches"in _?_.touches[0].clientY:_.clientY;M({x:oe-J.left,y:De-J.top}),z({x:oe,y:De}),W.current=!1,ve(!0)}};f.useEffect(()=>{if(!V)return;const _=oe=>{oe.preventDefault();const De="touches"in oe?oe.touches[0].clientX:oe.clientX,we="touches"in oe?oe.touches[0].clientY:oe.clientY,le=Math.abs(De-be.x),ke=Math.abs(we-be.y);Math.sqrt(le*le+ke*ke)>5&&(W.current=!0);const Yt=59,Vt=Math.max(0,Math.min(window.innerWidth-Yt,De-he.x)),Ie=Math.max(0,Math.min(window.innerHeight-Yt,we-he.y));Ne({x:Vt,y:Ie})},J=()=>{ve(!1)};return window.addEventListener("mousemove",_),window.addEventListener("mouseup",J),window.addEventListener("touchmove",_,{passive:!1}),window.addEventListener("touchend",J),()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",J),window.removeEventListener("touchmove",_),window.removeEventListener("touchend",J)}},[V,he]),f.useEffect(()=>{!V&&ce&&localStorage.setItem("ai_chat_fab_position",JSON.stringify(ce))},[ce,V]),f.useEffect(()=>{localStorage.setItem("ai_chat_ui_mode",p)},[p]),f.useEffect(()=>{!g&&y&&localStorage.setItem("ai_chat_bubble_position",JSON.stringify(y))},[y,g]),f.useEffect(()=>{!T&&x&&localStorage.setItem("ai_chat_bubble_size",JSON.stringify(x))},[x,T]);const st=_=>J=>{if(J.preventDefault(),J.stopPropagation(),pe.current){const oe=pe.current.getBoundingClientRect(),De="touches"in J?J.touches[0].clientX:J.clientX,we="touches"in J?J.touches[0].clientY:J.clientY;re(_==="top-left"?{x:De-oe.left,y:we-oe.top}:_==="top-right"?{x:De-oe.right,y:we-oe.top}:_==="bottom-left"?{x:De-oe.left,y:we-oe.bottom}:{x:De-oe.right,y:we-oe.bottom}),ie(_),O(!0)}};f.useEffect(()=>{if(!T||!I)return;const _=oe=>{oe.preventDefault();const De="touches"in oe?oe.touches[0].clientX:oe.clientX,we="touches"in oe?oe.touches[0].clientY:oe.clientY;if(pe.current){const le=pe.current.getBoundingClientRect(),ke=180,Ze=220,Yt=window.innerWidth,Vt=window.innerHeight;let Ie=x.width,Ve=x.height,kt=y.x,Je=y.y;I==="top-left"?(Ie=Math.max(ke,Math.min(Yt,le.right-De+$.x)),Ve=Math.max(Ze,Math.min(Vt,le.bottom-we+$.y)),kt=De-$.x,Je=we-$.y):I==="top-right"?(Ie=Math.max(ke,Math.min(Yt,De-le.left+$.x)),Ve=Math.max(Ze,Math.min(Vt,le.bottom-we+$.y)),Je=we-$.y):I==="bottom-left"?(Ie=Math.max(ke,Math.min(Yt,le.right-De+$.x)),Ve=Math.max(Ze,Math.min(Vt,we-le.top+$.y)),kt=De-$.x):(Ie=Math.max(ke,Math.min(Yt,De-le.left+$.x)),Ve=Math.max(Ze,Math.min(Vt,we-le.top+$.y))),kt=Math.max(0,Math.min(window.innerWidth-Ie,kt)),Je=Math.max(0,Math.min(window.innerHeight-Ve,Je)),b({width:Ie,height:Ve}),S({x:kt,y:Je})}},J=()=>{O(!1),ie(null)};return window.addEventListener("mousemove",_),window.addEventListener("mouseup",J),window.addEventListener("touchmove",_,{passive:!1}),window.addEventListener("touchend",J),()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",J),window.removeEventListener("touchmove",_),window.removeEventListener("touchend",J)}},[T,I,$,x,y]);const $t=()=>{for(let _=Zt.length-1;_>=0;_--)if(Zt[_].role==="assistant")return Zt[_].content;return""},Ut=()=>{p==="fullscreen"?(document.body.classList.remove("ai-chat-fullscreen-mode"),m("reading"),localStorage.setItem("ai_chat_ui_mode","reading")):(document.body.classList.add("ai-chat-fullscreen-mode"),m("fullscreen"),localStorage.setItem("ai_chat_ui_mode","fullscreen"))};return f.useEffect(()=>()=>{document.body.classList.remove("ai-chat-fullscreen-mode")},[]),i.jsxs(i.Fragment,{children:[Jt&&i.jsx(i.Fragment,{children:p==="reading"&&!document.body.classList.contains("ai-chat-fullscreen-mode")?i.jsx(i.Fragment,{children:i.jsxs("div",{ref:pe,className:"ai-reading-float",style:{position:"fixed",left:`${y.x}px`,top:`${y.y}px`,width:`${x.width}px`,height:`${x.height}px`,backgroundColor:"rgba(30, 30, 30, 0.95)",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",zIndex:9999,display:"flex",flexDirection:"column",overflow:"hidden",cursor:g?"grabbing":"default",transition:g||T?"none":"all 0.2s ease"},children:[i.jsxs("div",{onMouseDown:Ee,onTouchStart:Ee,style:{padding:"8px 12px",backgroundColor:"rgba(255, 255, 255, 0.1)",cursor:g?"grabbing":"grab",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",flexShrink:0},children:[i.jsx("span",{style:{fontSize:"12px",color:"#aaa",userSelect:"none"},children:"AI Response"}),i.jsxs("div",{style:{display:"flex",gap:"4px",alignItems:"center"},children:[i.jsx("button",{onClick:Ut,style:{padding:"4px 8px",backgroundColor:"var(--color-accent, #2196F3)",color:"white",border:"none",borderRadius:"4px",fontSize:"11px",cursor:"pointer",minWidth:"48px",minHeight:"32px"},children:"Fullscreen"}),i.jsx("button",{onClick:()=>{xn(!1),document.body.classList.remove("ai-chat-fullscreen-mode")},style:{padding:"4px 8px",backgroundColor:"rgba(255, 255, 255, 0.2)",color:"white",border:"none",borderRadius:"4px",fontSize:"11px",cursor:"pointer",minWidth:"32px",minHeight:"32px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Close",children:""})]})]}),i.jsx("div",{style:{flex:1,padding:"12px",overflowY:"auto",fontSize:"14px",lineHeight:"1.6",color:"#fff",whiteSpace:"pre-wrap"},children:$t()||"No AI response yet. Switch to fullscreen mode to chat."}),i.jsx("div",{onMouseDown:st("bottom-right"),onTouchStart:st("bottom-right"),style:{position:"absolute",right:0,bottom:0,width:"20px",height:"20px",cursor:"nwse-resize",background:"linear-gradient(135deg, transparent 50%, rgba(255,255,255,0.3) 50%)",zIndex:10}}),i.jsx("div",{onMouseDown:st("bottom-left"),onTouchStart:st("bottom-left"),style:{position:"absolute",left:0,bottom:0,width:"20px",height:"20px",cursor:"nesw-resize",background:"linear-gradient(225deg, transparent 50%, rgba(255,255,255,0.3) 50%)",zIndex:10}}),i.jsx("div",{onMouseDown:st("top-right"),onTouchStart:st("top-right"),style:{position:"absolute",right:0,top:0,width:"20px",height:"20px",cursor:"nesw-resize",background:"linear-gradient(45deg, transparent 50%, rgba(255,255,255,0.3) 50%)",zIndex:10}}),i.jsx("div",{onMouseDown:st("top-left"),onTouchStart:st("top-left"),style:{position:"absolute",left:0,top:0,width:"20px",height:"20px",cursor:"nwse-resize",background:"linear-gradient(315deg, transparent 50%, rgba(255,255,255,0.3) 50%)",zIndex:10}})]})}):i.jsx(i.Fragment,{children:i.jsxs("div",{className:"ai-chat-modal ai-chat-modal-fullscreen",role:"dialog","aria-label":"AI Chat","aria-modal":"true",children:[i.jsxs("div",{className:"ai-chat-header",children:[i.jsx("h3",{className:"ai-chat-header-title",children:"AI Chat"}),i.jsxs("div",{className:"ai-chat-header-actions",children:[i.jsx("button",{onClick:Ut,className:"ai-chat-ui-toggle-button",title:"Switch to Reading Mode",children:" Reading"}),i.jsx("button",{onClick:()=>{xn(!1),document.body.classList.remove("ai-chat-fullscreen-mode")},className:"ai-chat-close-button",children:""})]})]}),i.jsx("div",{className:"ai-chat-messages",children:Zt.length===0?i.jsxs("div",{className:"ai-chat-empty-state",children:[i.jsx("p",{className:"ai-chat-empty-state-text",children:"Ask questions about the carnivore diet"}),i.jsx("p",{className:"ai-chat-empty-state-text",style:{fontSize:"11px",color:"#6b7280",marginTop:"0.5rem",lineHeight:"1.5"},children:"You can also ask about how to use the app"}),gt&&i.jsx(xe,{tip:gt,onNextTip:()=>{gt&&w(J=>[...J,gt]);const _=$a(gt.id);dn(_),ge(Bt(_.id))},onPrevTip:()=>{if(Ht.length>0){const _=Ht[Ht.length-1];w(J=>J.slice(0,-1)),dn(_),ge(Bt(_.id))}},onToggleSave:(_,J)=>{J?to(_):eo(_),ge(!J)},isSaved:Se,canGoBack:Ht.length>0})]}):i.jsxs("div",{className:"ai-chat-message-list",children:[Zt.map((_,J)=>{Y.find(we=>we.id===`todos_${J}`)?.todos;const oe=J===Zt.length-1&&_.role==="assistant",De=oe?Y[Y.length-1]?.todos||[]:[];return i.jsxs("div",{className:`ai-chat-message ${_.role==="user"?"ai-chat-message-user":"ai-chat-message-assistant"}`,children:[i.jsx("div",{className:"ai-chat-message-bubble",children:_.content}),oe&&De.length>0&&i.jsx("div",{className:"ai-chat-message ai-chat-message-assistant",children:De.map(we=>i.jsxs("div",{className:"ai-chat-todo-card",children:[i.jsx("div",{className:"ai-chat-todo-title",children:we.title}),we.description&&i.jsx("div",{className:"ai-chat-todo-description",children:we.description}),we.action&&i.jsx("button",{onClick:()=>{if(we.action?.type==="add_food"&&we.action.params){const{item:le,amount:ke,unit:Ze}=we.action.params;u&&le&&ke&&(u({item:le,amount:Number(ke),unit:Ze||"g",type:"animal"}),alert(`Added ${le} ${ke}${Ze||"g"}`))}else if(we.action?.type==="timer"&&we.action.params){const{hours:le}=we.action.params;alert(`Started ${le}-hour fasting timer (notification feature will be implemented in the future)`)}else if(we.action?.type==="set_protocol")window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:"labs"})),alert("Navigated to recovery protocol screen. Please set the protocol manually.");else if(we.action?.type==="open_screen"&&we.action.params){const{screen:le}=we.action.params;le?window.dispatchEvent(new CustomEvent("navigateToScreen",{detail:le})):alert("Opening screen (to be implemented)")}},className:"ai-chat-todo-action-button",children:"Execute"})]},we.id))}),!dt&&gt&&oe&&i.jsx("div",{className:"ai-chat-message ai-chat-message-assistant",children:i.jsx(xe,{tip:gt,onNextTip:()=>{gt&&w(le=>[...le,gt]);const we=$a(gt.id);dn(we),ge(Bt(we.id))},onPrevTip:()=>{if(Ht.length>0){const we=Ht[Ht.length-1];w(le=>le.slice(0,-1)),dn(we),ge(Bt(we.id))}},onToggleSave:(we,le)=>{le?to(we):eo(we),ge(!le)},isSaved:Se,canGoBack:Ht.length>0})})]},J)}),dt&&i.jsxs("div",{className:"ai-chat-message ai-chat-message-assistant",children:[i.jsxs("div",{className:"ai-chat-loading",children:[i.jsx("div",{className:"ai-chat-loading-spinner"}),i.jsx("span",{children:"Thinking..."})]}),un&&i.jsx(xe,{tip:un,onNextTip:()=>{const _=$a(un.id);jn(_),dn(_),ge(Bt(_.id))},onPrevTip:()=>{if(Ht.length>0){const _=Ht[Ht.length-1];w(J=>J.slice(0,-1)),jn(_),dn(_),ge(Bt(_.id))}},onToggleSave:(_,J)=>{J?to(_):eo(_),ge(!J)},isSaved:Se,canGoBack:Ht.length>0})]})]})}),i.jsx("div",{className:"ai-chat-input-container",children:i.jsxs("div",{className:"ai-chat-input-wrapper",style:{position:"relative"},children:[i.jsxs("div",{ref:ot,style:{position:"relative",display:"flex",alignItems:"flex-end"},children:[i.jsx("button",{onClick:()=>ut(!ht),style:{padding:"8px 12px",backgroundColor:ht?"#e5e7eb":"transparent",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"20px",transition:"background-color 0.2s",marginRight:"4px"},title:"File Upload",children:"+"}),ht&&i.jsxs("div",{style:{position:"absolute",bottom:"100%",left:0,marginBottom:"8px",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",minWidth:"220px",zIndex:1e3,overflow:"hidden"},children:[i.jsxs("button",{onClick:Wn,style:{width:"100%",padding:"12px 16px",backgroundColor:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"14px",transition:"background-color 0.2s",display:"flex",alignItems:"center",gap:"8px"},onMouseOver:_=>_.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:_=>_.currentTarget.style.backgroundColor="transparent",children:[i.jsx("span",{children:""})," Add from Photo"]}),i.jsxs("button",{onClick:We,style:{width:"100%",padding:"12px 16px",backgroundColor:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"14px",transition:"background-color 0.2s",display:"flex",alignItems:"center",gap:"8px"},onMouseOver:_=>_.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:_=>_.currentTarget.style.backgroundColor="transparent",children:[i.jsx("span",{children:""})," Select from Album"]}),i.jsxs("button",{onClick:_t,style:{width:"100%",padding:"12px 16px",backgroundColor:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"14px",transition:"background-color 0.2s",display:"flex",alignItems:"center",gap:"8px"},onMouseOver:_=>_.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:_=>_.currentTarget.style.backgroundColor="transparent",children:[i.jsx("span",{children:""})," File Upload"]}),i.jsxs("button",{onClick:Qi,style:{width:"100%",padding:"12px 16px",backgroundColor:"transparent",border:"none",textAlign:"left",cursor:"pointer",fontSize:"14px",transition:"background-color 0.2s",display:"flex",alignItems:"center",gap:"8px"},onMouseOver:_=>_.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:_=>_.currentTarget.style.backgroundColor="transparent",children:[i.jsx("span",{children:""})," Barcode Scanner"]})]})]}),i.jsx("textarea",{value:Jn,onChange:_=>Qt(_.target.value),placeholder:"Enter question...",id:"chat-input-field",className:"ai-chat-textarea",rows:1,style:{flex:1},onKeyDown:_=>{_.key==="Enter"&&!_.shiftKey&&!dt&&(_.preventDefault(),Oe())},onInput:_=>{const J=_.target;J.style.height="auto",J.style.height=`${Math.min(J.scrollHeight,120)}px`}}),Sl.isAvailable()&&i.jsx("button",{onClick:Kn,className:`ai-chat-voice-button ${ct?"active":""}`,title:ct?"Stop Voice Input":"Start Voice Input",children:ct?"":""}),i.jsx("button",{onClick:Oe,disabled:!Jn.trim()||dt,className:"ai-chat-send-button",children:"Send"})]})})]})})}),ee&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10003,padding:"1rem"},children:i.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"2rem",maxWidth:"300px",width:"100%",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)",textAlign:"center"},children:[i.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTop:"4px solid #dc2626",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),i.jsx("p",{style:{margin:0,fontSize:"16px",fontWeight:"500",color:"#374151"},children:"Analyzing image..."}),i.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"14px",color:"#6b7280"},children:"Please wait a moment"})]})}),Ce&&!ee&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10003,padding:"1rem"},onClick:()=>de(null),children:i.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"1.5rem",maxWidth:"400px",width:"100%",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)"},onClick:_=>_.stopPropagation(),children:[i.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"18px",fontWeight:"600",color:"#dc2626"},children:" Error"}),i.jsx("p",{style:{margin:"0 0 1.5rem 0",fontSize:"14px",color:"#374151"},children:Ce}),i.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[i.jsx("button",{onClick:()=>de(null),style:{padding:"0.75rem 1.5rem",backgroundColor:"#e5e7eb",color:"#374151",border:"none",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontWeight:"500"},children:"Close"}),i.jsx("button",{onClick:()=>{de(null),Wn()},style:{padding:"0.75rem 1.5rem",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontWeight:"500"},children:"Retry"})]})]})}),L&&X&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10002,padding:"1rem"},onClick:_=>{_.target===_.currentTarget&&(Z(!1),ae(null))},children:i.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"1.5rem",maxWidth:"400px",width:"100%",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)",maxHeight:"80vh",overflowY:"auto"},onClick:_=>_.stopPropagation(),children:[i.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"18px",fontWeight:"600"},children:" AI Confirmation"}),i.jsxs("p",{style:{margin:"0 0 1rem 0",fontSize:"14px",color:"#666"},children:["Detected: ",X.item," (",X.amount,"g)"]}),i.jsxs("div",{style:{marginBottom:"1rem"},children:[i.jsx("label",{style:{display:"block",marginBottom:"0.75rem",fontSize:"14px",fontWeight:"600",color:"#374151"},children:"Additional Information (Optional)"}),i.jsxs("div",{style:{marginBottom:"0.75rem",padding:"0.75rem",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",checked:K.saltUsed,onChange:_=>Ke({...K,saltUsed:_.target.checked}),style:{width:"18px",height:"18px",cursor:"pointer"}}),i.jsx("span",{style:{fontSize:"14px",fontWeight:"500"},children:"Added Salt"})]}),K.saltUsed&&i.jsxs("div",{style:{marginTop:"0.5rem",marginLeft:"26px"},children:[i.jsxs("select",{value:K.saltType,onChange:_=>Ke({...K,saltType:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px",marginBottom:"0.5rem"},children:[i.jsx("option",{value:"Nuchimasu",children:"Nuchimasu"}),i.jsx("option",{value:"Sea Salt",children:"Sea Salt"}),i.jsx("option",{value:"Rock Salt",children:"Rock Salt"}),i.jsx("option",{value:"Other",children:"Other"})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",width:"100%"},children:[i.jsx("button",{onClick:()=>Ke({...K,saltAmount:Math.max(0,K.saltAmount-.5)}),style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#e5e7eb",borderRadius:"6px",border:"none",cursor:"pointer",fontSize:"18px",fontWeight:"bold"},children:""}),i.jsx("input",{type:"number",value:K.saltAmount||"",onChange:_=>Ke({...K,saltAmount:parseFloat(_.target.value)||0}),style:{flex:1,padding:"0.5rem",border:"2px solid #d1d5db",borderRadius:"6px",fontSize:"16px",textAlign:"center",fontWeight:"bold"},min:"0",step:"0.1"}),i.jsx("button",{onClick:()=>Ke({...K,saltAmount:K.saltAmount+.5}),style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#e5e7eb",borderRadius:"6px",border:"none",cursor:"pointer",fontSize:"18px",fontWeight:"bold"},children:"+"}),i.jsx("span",{style:{fontSize:"14px",color:"#6b7280",minWidth:"20px"},children:"g"})]})]})]}),i.jsxs("div",{style:{marginBottom:"0.75rem",padding:"0.75rem",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[i.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"500"},children:["Fat Trimmed: ",K.fatTrimmed,"%"]}),i.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:K.fatTrimmed,onChange:_=>Ke({...K,fatTrimmed:parseInt(_.target.value,10)}),style:{width:"100%",height:"6px",borderRadius:"3px",backgroundColor:"#e5e7eb",outline:"none",cursor:"pointer"}}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"#6b7280",marginTop:"0.25rem"},children:[i.jsx("span",{children:"0%"}),i.jsx("span",{children:"50%"}),i.jsx("span",{children:"100%"})]})]}),i.jsxs("div",{style:{marginBottom:"0.75rem",padding:"0.75rem",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"500"},children:"Cooking Method"}),i.jsxs("select",{value:K.cookingMethod,onChange:_=>Ke({...K,cookingMethod:_.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px"},children:[i.jsx("option",{value:"raw",children:"Raw"}),i.jsx("option",{value:"grilled",children:"Grilled"}),i.jsx("option",{value:"boiled",children:"Boiled"}),i.jsx("option",{value:"other",children:"Other"})]})]}),i.jsxs("div",{style:{marginBottom:"0.75rem",padding:"0.75rem",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"600",color:"#374151"},children:"Add Foods Not Recognized in Photo"}),i.jsxs("button",{onClick:()=>{H(""),Mt(0),On("g"),Te(!0)},style:{width:"100%",padding:"0.75rem",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("span",{children:""}),i.jsx("span",{children:"Add Food"})]}),K.additionalFoods.length>0&&i.jsx("div",{style:{marginTop:"0.5rem",fontSize:"12px",color:"#6b7280"},children:K.additionalFoods.map((_,J)=>i.jsxs("div",{style:{marginTop:"0.25rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("span",{children:[_.name,": ",_.amount,_.unit==="g"?"g":"piece"]}),i.jsx("button",{onClick:()=>{Ke({...K,additionalFoods:K.additionalFoods.filter((oe,De)=>De!==J)})},style:{background:"none",border:"none",color:"#dc2626",cursor:"pointer",fontSize:"14px",padding:"0.25rem"},children:""})]},J))})]})]}),i.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end",marginTop:"1rem"},children:[i.jsx("button",{onClick:()=>{Z(!1),ae(null)},style:{padding:"0.75rem 1.5rem",backgroundColor:"#e5e7eb",color:"#374151",border:"none",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontWeight:"500"},children:"Skip"}),i.jsx("button",{onClick:()=>{const _={...X,metadata:{saltUsed:K.saltUsed,saltType:K.saltType,saltAmount:K.saltAmount,fatTrimmed:K.fatTrimmed,cookingMethod:K.cookingMethod,additionalFoods:K.additionalFoods}};ae(_),Z(!1),te(!0),K.additionalFoods.length>0&&o&&K.additionalFoods.forEach((J,oe)=>{const{searchFoods:De}=require("../../data/foodsDatabase"),we=De(J.name),le=we.length>0?we[0]:null,ke={item:J.name,amount:J.amount,unit:J.unit,type:le?.type||"animal",nutrients:{}};if(le){const Ze=J.unit==="piece"&&le.pieceWeight?J.amount*le.pieceWeight/100:J.amount/100;ke.nutrients={protein:(le.nutrientsRaw.protein||0)*Ze,fat:(le.nutrientsRaw.fat||0)*Ze,carbs:(le.nutrientsRaw.carbs||0)*Ze,netCarbs:(le.nutrientsRaw.carbs||0)*Ze,fiber:(le.nutrientsRaw.fiber||0)*Ze,hemeIron:(le.nutrientsRaw.hemeIron||0)*Ze,nonHemeIron:(le.nutrientsRaw.nonHemeIron||0)*Ze,zinc:(le.nutrientsRaw.zinc||0)*Ze,sodium:(le.nutrientsRaw.sodium||0)*Ze,magnesium:(le.nutrientsRaw.magnesium||0)*Ze,vitaminC:(le.nutrientsRaw.vitaminC||0)*Ze,vitaminK:(le.nutrientsRaw.vitaminK||0)*Ze,vitaminB12:(le.nutrientsRaw.vitaminB12||0)*Ze}}else ke.nutrients={protein:0,fat:0,carbs:0,netCarbs:0,fiber:0,hemeIron:0,nonHemeIron:0,zinc:0,sodium:0,magnesium:0,vitaminC:0,vitaminK:0,vitaminB12:0};setTimeout(()=>{o&&o(ke)},200*(oe+1))})},style:{padding:"0.75rem 1.5rem",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontWeight:"500"},children:"Save"})]})]})}),D&&X&&i.jsx(Ug,{isOpen:D,initialFood:X,onClose:()=>{te(!1),ae(null)},onSave:async _=>{o&&(await o(_),cn(J=>[...J,{role:"assistant",content:`Recorded: ${_.item} (${_.amount}g)
P:F balance recorded.`}]),te(!1),ae(null))}}),i.jsx(Hg,{isOpen:Et,onClose:()=>rt(!1),onSuccess:async(_,J)=>{o&&(await o({item:_,amount:J,unit:"g",type:"animal",nutrients:{}}),rt(!1))}}),!Jt&&i.jsx("button",{ref:me,className:"ai-chat-fab-button",onClick:_=>{if(W.current){_.preventDefault(),_.stopPropagation(),W.current=!1;return}wn(),W.current=!1},onMouseDown:yt,onTouchStart:yt,title:"AI Chat (Drag to move)",style:{position:"fixed",left:`${ce.x}px`,top:`${ce.y}px`,cursor:V?"grabbing":"grab",transition:V?"none":"left 0.2s ease, top 0.2s ease"},children:""})]})}const Xc={ja:"...",en:"Loading...",fr:"Chargement...",de:"Laden...",zh:"..."};function Cb(){try{const l=localStorage.getItem("primal_logic_language")||"ja";return Xc[l]||Xc.en}catch{return Xc.en}}function vt(){return i.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"var(--text-secondary)"},children:Cb()})}function _b({onAgree:l}){const[o,u]=f.useState(!1);return f.useEffect(()=>{const c=setTimeout(()=>{u(!0)},2e3);return()=>clearTimeout(c)},[]),i.jsx("div",{className:"disclaimer-overlay",children:i.jsxs("div",{className:"disclaimer-content",children:[i.jsx("h2",{className:"disclaimer-title",children:" DISCLAIMER"}),i.jsxs("div",{className:"disclaimer-body",children:[i.jsx("p",{children:i.jsx("strong",{children:"This app is NOT a doctor."})}),i.jsx("p",{children:"CarnivOS provides data tracking and analysis based on nutritional logic, but it does not provide medical advice, diagnosis, or treatment."}),i.jsx("p",{children:"By using this app, you acknowledge that any changes to your diet are your own responsibility. Always consult a physician before making significant lifestyle changes."}),i.jsx("p",{className:"disclaimer-highlight",children:"Your body is your asset. Protect it with logic, not just faith."})]}),i.jsx("button",{className:`disclaimer-button ${o?"active":""}`,onClick:l,disabled:!o,children:o?"I UNDERSTAND & AGREE":"Reading..."})]})})}const kb=f.lazy(()=>Fe(()=>import("./HistoryScreen-DdZ8W0rk.js"),__vite__mapDeps([4,1,2,5]))),Nb=f.lazy(()=>Fe(()=>import("./UserSettingsScreen-zG91x_Z3.js"),__vite__mapDeps([6,1,2]))),zb=f.lazy(()=>Fe(()=>import("./StreakTrackerScreen-CMmrvWmi.js"),__vite__mapDeps([7,1,2,8]))),Db=f.lazy(()=>Fe(()=>import("./CommunityScreen-DTvX5VNg.js"),__vite__mapDeps([9,1,2,10]))),Ab=f.lazy(()=>Fe(()=>import("./DiaryScreen-C9Oyr79O.js"),__vite__mapDeps([11,1,2,12]))),Mb=f.lazy(()=>Fe(()=>import("./StatsScreen-B3c9VGLz.js"),__vite__mapDeps([13,1,2,14]))),Eb=f.lazy(()=>Fe(()=>import("./PrivacyPolicyScreen-Cs220wZL.js"),__vite__mapDeps([15,1,2,16]))),Rb=f.lazy(()=>Fe(()=>import("./TermsOfServiceScreen-D04q7O20.js"),__vite__mapDeps([17,1,2,18]))),Bb=f.lazy(()=>Fe(()=>import("./DataExportScreen-ChM2BcRL.js"),__vite__mapDeps([19,1,2,20]))),Fb=f.lazy(()=>Fe(()=>import("./DataImportScreen-hUe6OqVk.js"),__vite__mapDeps([21,1,2,22]))),Lb=f.lazy(()=>Fe(()=>import("./DataDeleteScreen-BTD58bhD.js"),__vite__mapDeps([23,1,2,24]))),Ob=f.lazy(()=>Fe(()=>import("./FeedbackScreen-DPobDizf.js"),__vite__mapDeps([25,1,2]))),Ib=f.lazy(()=>Fe(()=>import("./LanguageSettingsScreen-Cpw7xOlZ.js"),__vite__mapDeps([26,1,2,27]))),Hb=f.lazy(()=>Fe(()=>import("./SaltSettingsScreen-D2AVzy3f.js"),__vite__mapDeps([28,1,2,29]))),Ub=f.lazy(()=>Fe(()=>import("./CarbTargetSettingsScreen-DsZ9DdHz.js"),__vite__mapDeps([30,1,2,31]))),Vb=f.lazy(()=>Fe(()=>import("./NutrientTargetCustomizationScreen-CLi3qABK.js"),__vite__mapDeps([32,1,2,33]))),Gb=f.lazy(()=>Fe(()=>import("./GiftScreen-CMQDxlAT.js"),__vite__mapDeps([34,1,2,35,36]))),qb=f.lazy(()=>Fe(()=>import("./ShopScreen-TdwG3xHk.js"),__vite__mapDeps([37,1,2,35,38]))),Kb=f.lazy(()=>Fe(()=>import("./RecipeScreen-DwStfOdi.js"),__vite__mapDeps([39,1,2,40]))),Pb=f.lazy(()=>Fe(()=>import("./HealthDeviceScreen-CspJRacG.js"),__vite__mapDeps([41,1,2,42]))),Yb=f.lazy(()=>Fe(()=>import("./InputScreen-BVVzuP1d.js"),__vite__mapDeps([43,1,2,44]))),Zb=f.lazy(()=>Fe(()=>import("./PaywallScreen-Bt-c4-Ul.js"),__vite__mapDeps([45,1,2,35,46]))),Qb=f.lazy(()=>Fe(()=>import("./IfThenRulesScreen-Cfm5ZKBW.js"),__vite__mapDeps([47,1,2])));function Xb(){const{t:l}=Ln(),{syncLocalStorageToSupabase:o,error:u,clearError:c,isLoading:v}=Zi(),p=["home","profile","history","labs","settings","userSettings","streakTracker","customFood","community","diary","stats","auth","privacy","terms","dataExport","dataImport","dataDelete","feedback","consent","onboarding","language","salt","carbTarget","nutrientCustom","gift","shop","recipe","healthDevice","input","ifThenRules","paywall"],[m,y]=f.useState(()=>{const M=window.location.hash.slice(1);if(M&&p.includes(M)&&yg(M))return M;const be=localStorage.getItem("primal_logic_consent_accepted"),z=localStorage.getItem("primal_logic_onboarding_completed");return be?z?"home":"onboarding":"consent"}),[S,x]=f.useState(null),[b,g]=f.useState(()=>localStorage.getItem("primal_logic_disclaimer_agreed")==="true"),[k,T]=f.useState(null),[O,I]=f.useState(null),[ie,q]=f.useState(!1),[B,$]=f.useState(()=>localStorage.getItem("primal_logic_dot_ui_enabled")==="true"),[re,pe]=f.useState(null),ce=()=>{localStorage.setItem("primal_logic_disclaimer_agreed","true"),g(!0)};f.useEffect(()=>(window.showToast=M=>{pe(M)},()=>{delete window.showToast}),[]),f.useEffect(()=>{},[]),f.useEffect(()=>{B?document.documentElement.setAttribute("data-pixel-art","true"):document.documentElement.removeAttribute("data-pixel-art")},[B]),f.useEffect(()=>{const M=()=>{const be=localStorage.getItem("primal_logic_dot_ui_enabled")==="true";$(be)};return window.addEventListener("dotUIChanged",M),()=>{window.removeEventListener("dotUIChanged",M)}},[]),f.useEffect(()=>{o()},[o,O]);const[Ne,V]=f.useState(0);f.useEffect(()=>{const M=be=>{V(z=>z+1),setTimeout(()=>{window.location.reload()},100)};return window.addEventListener("languageChanged",M),()=>{window.removeEventListener("languageChanged",M)}},[]),f.useEffect(()=>{const M=be=>{const z=be.detail;["home","profile","history","labs","settings","userSettings","streakTracker","customFood","community","diary","stats","auth","privacy","terms","dataExport","dataImport","dataDelete","feedback","consent","onboarding","language","salt","carbTarget","nutrientCustom","gift","shop","recipe","healthDevice","input","ifThenRules","paywall"].includes(z)&&(y(z),window.dispatchEvent(new CustomEvent("screenChanged")))};return window.addEventListener("navigateToScreen",M),()=>{window.removeEventListener("navigateToScreen",M)}},[]),f.useEffect(()=>{m!=="consent"&&m!=="onboarding"&&window.history.replaceState(null,"",`#${m}`)},[m]),f.useEffect(()=>{const M=()=>{const be=window.location.hash.slice(1);be&&p.includes(be)&&yg(be)&&be!==m&&y(be)};return window.addEventListener("hashchange",M),()=>{window.removeEventListener("hashchange",M)}},[m,p]);const ve=f.useCallback(M=>{x(()=>M)},[]),he=f.useCallback(M=>{T(()=>M)},[]);return i.jsxs(i.Fragment,{children:[!b&&i.jsx(_b,{onAgree:ce}),u&&i.jsxs("div",{style:{position:"fixed",top:"1rem",left:"50%",transform:"translateX(-50%)",backgroundColor:"#fee2e2",color:"#dc2626",padding:"1rem 1.5rem",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",zIndex:2e3,maxWidth:"90%",display:"flex",alignItems:"center",gap:"1rem"},children:[i.jsxs("span",{children:[" ",u]}),i.jsx("button",{onClick:c,style:{background:"none",border:"none",color:"#dc2626",fontSize:"20px",cursor:"pointer",padding:"0",lineHeight:"1"},children:""})]}),v&&i.jsxs("div",{style:{position:"fixed",top:"1rem",right:"1rem",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white",padding:"0.75rem 1rem",borderRadius:"8px",zIndex:2e3,fontSize:"14px",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("span",{className:"animate-spin",children:""}),i.jsx("span",{children:"Processing..."})]}),re&&i.jsx(tb,{message:re,onClose:()=>pe(null)}),i.jsxs("div",{className:"app-container",children:[i.jsxs("div",{className:"app-content",children:[m==="consent"&&i.jsx(wb,{onAccept:()=>y("onboarding"),onDecline:()=>{alert("You must agree to the Privacy Policy and Terms of Service.")}}),m==="onboarding"&&i.jsx(jb,{onComplete:()=>{y("paywall")}}),m==="home"&&i.jsx(nb,{onOpenFatTabReady:ve,onAddFoodReady:he}),m==="profile"&&i.jsx(ib,{}),m==="settings"&&i.jsx(xb,{onShowOnboarding:()=>y("onboarding")}),m==="userSettings"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(Nb,{})}),m==="history"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(kb,{})}),m==="labs"&&i.jsx(hb,{}),m==="streakTracker"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(zb,{onBack:()=>y("labs")})}),m==="customFood"&&i.jsx(Vg,{onClose:()=>y("home"),onSave:()=>{y("home")}}),m==="community"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(Db,{onBack:()=>y("labs")})}),m==="diary"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(Ab,{onBack:()=>y("labs")})}),m==="stats"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(Mb,{})}),m==="auth"&&i.jsx(Sb,{onAuthSuccess:()=>y("home")}),m==="privacy"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(Eb,{})}),m==="terms"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(Rb,{})}),m==="dataExport"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(Bb,{})}),m==="dataImport"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(Fb,{onBack:()=>y("settings")})}),m==="dataDelete"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(Lb,{})}),m==="feedback"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(Ob,{})}),m==="language"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(Ib,{onBack:()=>y("profile")})}),m==="salt"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(Hb,{onBack:()=>y("profile")})}),m==="carbTarget"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(Ub,{onBack:()=>y("profile")})}),m==="nutrientCustom"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(Vb,{onBack:()=>y("profile")})}),m==="gift"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(Gb,{onBack:()=>y("labs")})}),m==="shop"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(qb,{onBack:()=>y("labs")})}),m==="recipe"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(Kb,{onBack:()=>y("home")})}),m==="healthDevice"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(Pb,{onBack:()=>y("labs")})}),m==="input"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(Yb,{onClose:()=>y("home")})}),m==="ifThenRules"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(Qb,{})}),m==="paywall"&&i.jsx(f.Suspense,{fallback:i.jsx(vt,{}),children:i.jsx(Zb,{isOverlay:!0,onUiAction:M=>{(M==="close"||M==="subscribe")&&y("home")}})})]},`screen-${m}`),i.jsxs("nav",{className:"app-navigation",role:"navigation","aria-label":l("nav.mainNavigationAriaLabel"),children:[i.jsxs("button",{className:`app-nav-button ${m==="home"?"active":""}`,onClick:()=>y("home"),"aria-label":l("nav.homeAriaLabel"),"aria-current":m==="home"?"page":void 0,children:[i.jsx("span",{style:{fontSize:"20px"},"aria-hidden":"true",children:""}),i.jsx("span",{children:l("nav.home")})]}),i.jsxs("button",{className:`app-nav-button ${m==="history"?"active":""}`,onClick:()=>y("history"),"aria-label":l("nav.historyAriaLabel"),"aria-current":m==="history"?"page":void 0,children:[i.jsx("span",{style:{fontSize:"20px"},"aria-hidden":"true",children:""}),i.jsx("span",{children:l("nav.history")})]}),ha("labs")&&i.jsxs("button",{className:`app-nav-button ${m==="labs"?"active":""}`,onClick:()=>y("labs"),"aria-label":l("nav.labsAriaLabel"),"aria-current":m==="labs"?"page":void 0,children:[i.jsx("span",{style:{fontSize:"20px"},"aria-hidden":"true",children:""}),i.jsx("span",{children:l("nav.labs")})]}),i.jsxs("button",{className:`app-nav-button ${m==="profile"?"active":""}`,onClick:()=>y("profile"),"aria-label":l("nav.profileAriaLabel"),"aria-current":m==="profile"?"page":void 0,children:[i.jsx("span",{style:{fontSize:"20px"},"aria-hidden":"true",children:""}),i.jsx("span",{children:l("nav.profile")})]})]})]},Ne),Qo().aiSpeedDial&&ha("aiFeatures")&&i.jsx(Tb,{onOpenFatTab:S||void 0,onAddFood:k||void 0})]})}function Wb(){return i.jsx(V0,{children:i.jsx(q0,{children:i.jsx(Xb,{})})})}class Jb extends f.Component{state={hasError:!1,error:null,errorInfo:null};static getDerivedStateFromError(o){return{hasError:!0,error:o,errorInfo:null}}componentDidCatch(o,u){console.error("Uncaught error:",o,u),this.setState({errorInfo:u})}render(){return this.state.hasError?i.jsxs("div",{style:{padding:"2rem",backgroundColor:"#1a1a1a",color:"#ff4444",height:"100vh",overflow:"auto",fontFamily:"monospace"},children:[i.jsx("h1",{children:" Critical Startup Error"}),i.jsxs("h2",{style:{color:"white"},children:[this.state.error?.name,": ",this.state.error?.message]}),i.jsxs("details",{style:{whiteSpace:"pre-wrap",marginTop:"1rem",color:"#ccc"},children:[i.jsx("summary",{style:{cursor:"pointer",color:"#4da6ff"},children:"Show Component Stack"}),this.state.errorInfo?.componentStack]}),i.jsx("hr",{style:{margin:"1rem 0",borderColor:"#444"}}),i.jsx("h3",{style:{color:"white"},children:"Stack Trace:"}),i.jsx("pre",{style:{backgroundColor:"#000",padding:"1rem",borderRadius:"4px"},children:this.state.error?.stack}),i.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"1rem",padding:"0.5rem 1rem",fontSize:"1.2rem",cursor:"pointer",backgroundColor:"#444",color:"white",border:"none",borderRadius:"4px"},children:"Reload App"})]}):this.props.children}}o0.createRoot(document.getElementById("root")).render(i.jsx(f.StrictMode,{children:i.jsx(Jb,{children:i.jsx(Wb,{})})}));export{Rg as $,Zo as A,iy as B,ny as C,u0 as D,ly as E,Cl as F,sy as G,fa as H,oy as I,Og as J,eu as K,ha as L,Be as M,qn as N,zl as O,Nl as P,yb as Q,Pi as R,kg as S,tb as T,c0 as U,Dg as V,to as W,eo as X,Bt as Y,$a as Z,kl as _,Zi as a,Sl as a0,ry as a1,og as a2,Fe as a3,ga as a4,Jc as a5,Xo as b,Yi as c,Jo as d,Re as e,hl as f,Qo as g,Le as h,my as i,i as j,cy as k,Bn as l,M0 as m,fy as n,dy as o,I0 as p,Ki as q,uy as r,Dl as s,vg as t,Ln as u,r0 as v,au as w,jg as x,ty as y,ay as z};
