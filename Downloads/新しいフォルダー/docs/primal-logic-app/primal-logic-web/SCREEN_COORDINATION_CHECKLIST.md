# 画面連携チェックリスト

## 目的
複数画面の連携が正しく動作しているかを確認するためのチェックリストです。
AIが自動的にチェックできる項目をまとめています。

## チェック項目

### 1. 画面遷移の確認

#### ナビゲーションボタンからの遷移
- [ ] ホーム画面 → 履歴画面
- [ ] ホーム画面 → その他画面
- [ ] ホーム画面 → プロフィール画面
- [ ] 履歴画面 → ホーム画面（戻る）
- [ ] その他画面 → ホーム画面（戻る）
- [ ] プロフィール画面 → ホーム画面（戻る）

#### 設定画面からの遷移
- [ ] プロフィール画面 → ユーザー設定画面
- [ ] プロフィール画面 → 言語設定画面
- [ ] プロフィール画面 → 塩ミル設定画面
- [ ] プロフィール画面 → 炭水化物ターゲット設定画面
- [ ] プロフィール画面 → 栄養素目標値カスタマイズ画面
- [ ] 各設定画面 → プロフィール画面（戻る）

#### その他画面からの遷移
- [ ] その他画面 → 日記画面
- [ ] その他画面 → 統計画面
- [ ] その他画面 → コミュニティ画面
- [ ] その他画面 → 習慣トラッカー画面
- [ ] その他画面 → Gift画面
- [ ] その他画面 → ショップ画面
- [ ] 各画面 → その他画面（戻る）

#### カスタムイベントによる遷移
- [ ] `navigateToScreen` イベントが正しく発火しているか
- [ ] `screenChanged` イベントが正しく発火しているか
- [ ] 各画面で `navigateToScreen` イベントをリッスンしているか

### 2. データの連携確認

#### データの保存と読み込み
- [ ] ホーム画面で食品を追加 → 履歴画面に反映されるか
- [ ] 履歴画面で食品を再追加 → ホーム画面に反映されるか
- [ ] プロフィール設定を変更 → ホーム画面の目標値が更新されるか
- [ ] 言語設定を変更 → 全画面の言語が更新されるか

#### 状態管理の確認
- [ ] `AppContext` のデータが全画面で共有されているか
- [ ] `dailyLog` の更新が全画面に反映されるか
- [ ] `userProfile` の更新が全画面に反映されるか

### 3. イベントの連携確認

#### カスタムイベント
- [ ] `navigateToScreen`: 画面遷移イベント
- [ ] `screenChanged`: 画面変更通知イベント
- [ ] `languageChanged`: 言語変更イベント
- [ ] `dotUIChanged`: ドット絵UI変更イベント
- [ ] `dailyLogUpdated`: 日次ログ更新イベント

### 4. コールバックの連携確認

#### コールバック関数
- [ ] `onOpenFatTabReady`: 脂質タブを開くコールバック
- [ ] `onAddFoodReady`: 食品を追加するコールバック
- [ ] `onBack`: 戻るボタンのコールバック

### 5. エラーハンドリングの確認

#### 画面遷移時のエラー
- [ ] 存在しない画面への遷移を試みた場合のエラーハンドリング
- [ ] データが読み込めない場合のエラーハンドリング
- [ ] 画面遷移中にエラーが発生した場合の処理

---

## チェック方法

### AIが自動チェックできる項目
- コード内の `navigateToScreen` イベントの発火箇所
- 各画面の `onBack` コールバックの実装
- `AppContext` の使用状況
- カスタムイベントのリスナー登録

### 人間が確認が必要な項目
- 実際の画面遷移の動作確認
- データの反映タイミング
- UIの表示状態

---

最終更新: 2025-12-29

