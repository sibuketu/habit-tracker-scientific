# Visual Regression Test結果の確認方法

> 作成日: 2026-01-03
> Visual Regression Testの成功/失敗を確認する方法

---

## 📊 現在の状況

Visual Regression Testは実行されましたが、成功/失敗の情報を確認する必要があります。

### 実行結果
- **総実行時間**: 5.7分
- **テスト数**: 約40件（全ブラウザ・全画面）
- **スナップショット**: 27個のファイルが存在

---

## 🔍 結果確認方法

### 方法1: HTMLレポートを開く（推奨）

1. **エクスプローラーを開く**（Windowsキー+E）
2. **アドレスバーに以下を貼り付けてEnter:**
   ```
   C:\Users\susam\Downloads\新しいフォルダー\docs\primal-logic-app\primal-logic-web\playwright-report
   ```
3. **`index.html` をダブルクリック**
   - ブラウザでPlaywright Test Reportが開きます
4. **Visual Regression Testsセクションを確認**
   - 左側のリストから「Visual Regression Tests - UI見た目テスト」を探す
   - 各テストの横に✅（成功）または❌（失敗）のマークが表示されます

### 方法2: バッチファイルから開く

1. **エクスプローラーを開く**
2. **以下に移動:**
   ```
   C:\Users\susam\Downloads\新しいフォルダー\docs\primal-logic-app\primal-logic-web
   ```
3. **`open-test-report.bat` をダブルクリック**

---

## 📋 確認すべき情報

### 成功したテスト
- ✅ マークが表示されているテスト
- スナップショットが一致しているテスト

### 失敗したテスト
- ❌ マークが表示されているテスト
- エラーメッセージ（例: "Screenshot mismatch"）
- 差分画像（diff画像）が表示される場合

---

## 🔧 失敗した場合の対処

### 1. 初回実行の場合（ベースライン未作成）

**症状**: 全てのテストが失敗する

**対処**: ベースラインを作成
```bash
cd "C:\Users\susam\Downloads\新しいフォルダー\docs\primal-logic-app\primal-logic-web"
npm run test:visual:update
```

または、バッチファイルから:
```
create-visual-baseline.bat をダブルクリック
```

### 2. 意図的なUI変更の場合

**症状**: 特定のテストのみ失敗（意図的にUIを変更した）

**対処**: ベースラインを更新
```bash
npm run test:visual:update
```

### 3. 意図しないUI変更の場合

**症状**: 意図していないUI変更が検出された

**対処**: 
1. 差分画像を確認
2. コードを確認して原因を特定
3. 修正後、再度テストを実行

---

## 📸 失敗したテストの共有方法

### スクリーンショットを撮る

1. **HTMLレポートで失敗したテストをクリック**
2. **エラーメッセージと差分画像を表示**
3. **Windowsキー + Shift + S**（Snipping Tool）でスクリーンショットを撮る
4. **チャットに貼り付け**

### 共有すべき情報

1. **失敗したテストの数**
2. **失敗したテストの名前**（例: "ホーム画面 - デスクトップ表示"）
3. **エラーメッセージ**
4. **差分画像**（あれば）

---

## 🎯 次のステップ

1. **HTMLレポートを開いて結果を確認**
2. **失敗したテストがあれば、スクリーンショットを共有**
3. **初回実行の場合は、ベースラインを作成**

---

最終更新: 2026-01-03

