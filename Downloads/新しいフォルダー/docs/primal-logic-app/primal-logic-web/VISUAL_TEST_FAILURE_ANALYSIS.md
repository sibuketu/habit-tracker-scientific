# Visual Regression Test螟ｱ謨怜・譫撰ｼ・026-01-03・・

> 29莉ｶ縺ｮ螟ｱ謨励・蜴溷屏蛻・梵縺ｨ蟇ｾ蜃ｦ譁ｹ豕・

---

## 投 迴ｾ蝨ｨ縺ｮ迥ｶ豕・

- **蜈ｨ繝・せ繝・*: 54莉ｶ
- **謌仙粥**: 25莉ｶ 笨・
- **螟ｱ謨・*: 29莉ｶ 笶・
- **謌仙粥邇・*: 46%

---

## 剥 螟ｱ謨励・繝代ち繝ｼ繝ｳ蛻・梵

### 謌仙粥縺励※縺・ｋ繝・せ繝茨ｼ・5莉ｶ・・
- 荳ｻ縺ｫchromium繝悶Λ繧ｦ繧ｶ縺ｧ謌仙粥
- 荳驛ｨ縺ｮwebkit繝・せ繝医ｂ謌仙粥

### 螟ｱ謨励＠縺ｦ縺・ｋ繝・せ繝茨ｼ・9莉ｶ・・
- **firefox**: 螟壹￥縺ｮ繝・せ繝医′螟ｱ謨・
- **webkit**: 荳驛ｨ縺ｮ繝・せ繝医′螟ｱ謨・
- **chromium**: 荳驛ｨ縺ｮ繝・せ繝医′螟ｱ謨暦ｼ域・､顔ｴ繧ｲ繝ｼ繧ｸ縲、rgument Card縺ｪ縺ｩ・・

---

## 識 螟ｱ謨励・蜴溷屏・域耳貂ｬ・・

### 1. 繝吶・繧ｹ繝ｩ繧､繝ｳ縺御ｸ榊ｮ悟・
- **逞・憾**: 荳驛ｨ縺ｮ繝悶Λ繧ｦ繧ｶ繝ｻ逕ｻ髱｢縺ｮ繝吶・繧ｹ繝ｩ繧､繝ｳ縺御ｽ懈・縺輔ｌ縺ｦ縺・↑縺・
- **險ｼ諡**: firefox縺ｨwebkit縺ｧ螟壹￥縺ｮ螟ｱ謨・
- **蟇ｾ蜃ｦ**: 蜀榊ｺｦ `npm run test:visual:update` 繧貞ｮ溯｡後＠縺ｦ縲∝・繝悶Λ繧ｦ繧ｶ縺ｮ繝吶・繧ｹ繝ｩ繧､繝ｳ繧剃ｽ懈・

### 2. 繝悶Λ繧ｦ繧ｶ蝗ｺ譛峨・謠冗判縺ｮ驕輔＞
- **逞・憾**: 蜷後§逕ｻ髱｢縺ｧ縲…hromium縺ｯ謌仙粥縲’irefox縺ｯ螟ｱ謨・
- **蜴溷屏**: 繝悶Λ繧ｦ繧ｶ髢薙〒繝輔か繝ｳ繝医Ξ繝ｳ繝繝ｪ繝ｳ繧ｰ縲，SS隗｣驥医′逡ｰ縺ｪ繧・
- **蟇ｾ蜃ｦ**: `maxDiffPixels`繧定ｪｿ謨ｴ縺吶ｋ縺九√ヶ繝ｩ繧ｦ繧ｶ蝗ｺ譛峨・險ｱ螳ｹ隱､蟾ｮ繧定ｨｭ螳・

### 3. 繧ｿ繧､繝溘Φ繧ｰ縺ｮ蝠城｡・
- **逞・憾**: 繧｢繝九Γ繝ｼ繧ｷ繝ｧ繝ｳ繧・Ο繝ｼ繝・ぅ繝ｳ繧ｰ縺ｮ繧ｿ繧､繝溘Φ繧ｰ縺檎焚縺ｪ繧・
- **蟇ｾ蜃ｦ**: 繝・せ繝医さ繝ｼ繝峨・蠕・ｩ滓凾髢薙ｒ隱ｿ謨ｴ

---

## 肌 謗ｨ螂ｨ縺輔ｌ繧句ｯｾ蜃ｦ譁ｹ豕・

### 譁ｹ豕・: 繝吶・繧ｹ繝ｩ繧､繝ｳ繧貞・菴懈・・域耳螂ｨ・・

蜈ｨ縺ｦ縺ｮ繝悶Λ繧ｦ繧ｶ縺ｧ繝吶・繧ｹ繝ｩ繧､繝ｳ繧剃ｽ懈・縺礼峩縺励∪縺呻ｼ・

```bash
cd "C:\Users\susam\Downloads\譁ｰ縺励＞繝輔か繝ｫ繝繝ｼ\docs\primal-logic-app\primal-logic-web"
npm run test:visual:update
```

縺ｾ縺溘・縲√ヰ繝・メ繝輔ぃ繧､繝ｫ縺九ｉ:
```
create-visual-baseline.bat 繧偵ム繝悶Ν繧ｯ繝ｪ繝・け
```

### 譁ｹ豕・: 險ｱ螳ｹ隱､蟾ｮ繧定ｪｿ謨ｴ

`playwright.config.ts`縺ｮ`maxDiffPixels`繧貞｢励ｄ縺呻ｼ・

```typescript
expect: {
  toHaveScreenshot: {
    maxDiffPixels: 200, // 100 竊・200縺ｫ蠅励ｄ縺・
  },
}
```

### 譁ｹ豕・: 繝悶Λ繧ｦ繧ｶ蝗ｺ譛峨・險ｭ螳・

迚ｹ螳壹・繝悶Λ繧ｦ繧ｶ縺ｧ縺ｮ縺ｿ險ｱ螳ｹ隱､蟾ｮ繧貞｢励ｄ縺呻ｼ・

```typescript
test('譬・､顔ｴ繧ｲ繝ｼ繧ｸ - 隧ｳ邏ｰ陦ｨ遉ｺ', async ({ page, browserName }) => {
  const maxDiff = browserName === 'firefox' ? 200 : 100;
  await expect(page).toHaveScreenshot('nutrient-gauge-section.png', {
    maxDiffPixels: maxDiff,
  });
});
```

---

## 搭 谺｡縺ｮ繧ｹ繝・ャ繝・

### 蜊ｳ蠎ｧ縺ｫ螳溯｡後☆縺ｹ縺阪％縺ｨ

1. **繝吶・繧ｹ繝ｩ繧､繝ｳ繧貞・菴懈・**
   ```bash
   npm run test:visual:update
   ```

2. **繝・せ繝医ｒ蜀榊ｮ溯｡・*
   ```bash
   npm run test:visual
   ```

3. **邨先棡繧堤｢ｺ隱・*
   - 謌仙粥謨ｰ縺悟｢励∴縺ｦ縺・ｋ縺狗｢ｺ隱・
   - 縺ｾ縺螟ｱ謨励＠縺ｦ縺・ｋ繝・せ繝医′縺ゅｌ縺ｰ縲∝次蝗繧堤音螳・

### 縺昴ｌ縺ｧ繧ょ､ｱ謨励☆繧句ｴ蜷・

1. **螟ｱ謨励＠縺溘ユ繧ｹ繝医・繧ｹ繧ｯ繝ｪ繝ｼ繝ｳ繧ｷ繝ｧ繝・ヨ繧堤｢ｺ隱・*
   - HTML繝ｬ繝昴・繝医〒螟ｱ謨励＠縺溘ユ繧ｹ繝医ｒ繧ｯ繝ｪ繝・け
   - 蟾ｮ蛻・判蜒上ｒ遒ｺ隱・

2. **險ｱ螳ｹ隱､蟾ｮ繧定ｪｿ謨ｴ**
   - `maxDiffPixels`繧貞｢励ｄ縺・
   - 縺ｾ縺溘・縲√ヶ繝ｩ繧ｦ繧ｶ蝗ｺ譛峨・險ｭ螳壹ｒ霑ｽ蜉

3. **繝・せ繝医さ繝ｼ繝峨ｒ隱ｿ謨ｴ**
   - 蠕・ｩ滓凾髢薙ｒ蠅励ｄ縺・
   - 繧ｻ繝ｬ繧ｯ繧ｿ繧呈隼蝟・

---

## 識 逶ｮ讓・

- **謌仙粥邇・*: 90%莉･荳奇ｼ・0莉ｶ莉･荳頑・蜉滂ｼ・
- **螟ｱ謨・*: 5莉ｶ莉･荳具ｼ郁ｨｱ螳ｹ隱､蟾ｮ蜀・・蟾ｮ蛻・・縺ｿ・・

---

譛邨よ峩譁ｰ: 2026-01-03


