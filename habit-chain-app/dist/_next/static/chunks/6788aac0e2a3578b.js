(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44845,74295,e=>{"use strict";e.s([],44845),e.s(["loadStripe",()=>x],74295);var t,a="basil",i="https://js.stripe.com",s="".concat(i,"/").concat(a,"/stripe.js"),r=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,n=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,l=function(){for(var e=document.querySelectorAll('script[src^="'.concat(i,'"]')),t=0;t<e.length;t++){var a,s=e[t];if(a=s.src,r.test(a)||n.test(a))return s}return null},o=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",a=document.createElement("script");a.src="".concat(s).concat(t);var i=document.head||document.body;if(!i)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(a),a},d=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})},c=null,u=null,m=null,h=function(e,t,i){if(null===e)return null;var s,r=t[0].match(/^pk_test/),n=3===(s=e.version)?"v3":s;r&&n!==a&&console.warn("Stripe.js@".concat(n," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=e.apply(void 0,t);return d(l,i),l},p=!1,g=function(){return t?t:t=(null!==c?c:(c=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document)return void e(null);if(window.Stripe,window.Stripe)return void e(window.Stripe);try{var a,i=l();i?i&&null!==m&&null!==u&&(i.removeEventListener("load",m),i.removeEventListener("error",u),null==(a=i.parentNode)||a.removeChild(i),i=o(null)):i=o(null),m=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},u=function(e){t(Error("Failed to load Stripe.js",{cause:e}))},i.addEventListener("load",m),i.addEventListener("error",u)}catch(e){t(e);return}})).catch(function(e){return c=null,Promise.reject(e)})).catch(function(e){return t=null,Promise.reject(e)})};Promise.resolve().then(function(){return g()}).catch(function(e){p||console.warn(e)});var x=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];p=!0;var i=Date.now();return g().then(function(e){return h(e,t,i)})}},25138,43972,e=>{"use strict";e.s(["useTranslation",()=>o],25138);var t=e.i(62893);e.s(["LOCALE_NAMES",()=>i,"SUPPORTED_LOCALES",()=>a,"detectLocale",()=>n,"getRegionalTerm",()=>r],43972);let a=["fr","de","en","ja","zh"],i={fr:"FranÃ§ais",de:"Deutsch",en:"English",ja:"æ—¥æœ¬èªž",zh:"ä¸­æ–‡"},s={timeAttack:{ja:"ã‚¿ã‚¤ãƒ ã‚¢ã‚¿ãƒƒã‚¯",default:"ã‚¹ãƒ”ãƒ¼ãƒ‰ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°"}};function r(e,t){let a=s[e];return"ja"===t?a.ja:a.default}function n(){let e=navigator.language.split("-")[0];return a.includes(e)?e:"fr"}let l={fr:{nav:{home:"Accueil",record:"Enregistrement",settings:"ParamÃ¨tres",timeAttack:"Course de Vitesse",routine:"Routine"},home:{title:"ChaÃ®ne d'Habitudes",welcomeMessage:"Bienvenue dans votre application de routines",startRoutine:"Commencer la Routine",viewResults:"Voir les RÃ©sultats DÃ©taillÃ©s"},routine:{title:"Ma Routine",weeklySchedule:"Planning Hebdomadaire",thisWeek:"Cette Semaine",addRoutine:"Ajouter une Routine",editRoutine:"Modifier la Routine",deleteRoutine:"Supprimer la Routine",copyMondayToOthers:"Copier Lundi vers Autres Jours",copyWeeklyToThisWeek:"Copier la Semaine Habituelle",colorExplanation:"Explication des Couleurs",tapToEdit:"Appuyez pour Modifier"},categories:{existing:"Habitudes Existantes",new:"Nouvelles Habitudes",schedule:"Planification",fun:"Divertissement",custom1:"PersonnalisÃ© 1",custom2:"PersonnalisÃ© 2",custom3:"PersonnalisÃ© 3",custom4:"PersonnalisÃ© 4"},time:{timeRange:"Plage Horaire",startTime:"Heure de DÃ©but",endTime:"Heure de Fin"},weekdays:{monday:"Lundi",tuesday:"Mardi",wednesday:"Mercredi",thursday:"Jeudi",friday:"Vendredi",saturday:"Samedi",sunday:"Dimanche"},common:{cancel:"Annuler",save:"Enregistrer",delete:"Supprimer",edit:"Modifier",add:"Ajouter",day:"Jour"}},de:{nav:{home:"Startseite",record:"Aufzeichnung",settings:"Einstellungen",timeAttack:"Schnelllauf",routine:"Routine"},home:{title:"Gewohnheitskette",welcomeMessage:"Willkommen in Ihrer Routine-App",startRoutine:"Routine Starten",viewResults:"Detaillierte Ergebnisse Anzeigen"},routine:{title:"Meine Routine",weeklySchedule:"Wochenplan",thisWeek:"Diese Woche",addRoutine:"Routine HinzufÃ¼gen",editRoutine:"Routine Bearbeiten",deleteRoutine:"Routine LÃ¶schen",copyMondayToOthers:"Montag zu Anderen Tagen Kopieren",copyWeeklyToThisWeek:"GewÃ¶hnliche Woche Kopieren",colorExplanation:"Farben ErklÃ¤rung",tapToEdit:"Tippen zum Bearbeiten"},categories:{existing:"Bestehende Gewohnheiten",new:"Neue Gewohnheiten",schedule:"Terminplanung",fun:"VergnÃ¼gen",custom1:"Benutzerdefiniert 1",custom2:"Benutzerdefiniert 2",custom3:"Benutzerdefiniert 3",custom4:"Benutzerdefiniert 4"},time:{timeRange:"Zeitbereich",startTime:"Startzeit",endTime:"Endzeit"},weekdays:{monday:"Montag",tuesday:"Dienstag",wednesday:"Mittwoch",thursday:"Donnerstag",friday:"Freitag",saturday:"Samstag",sunday:"Sonntag"},common:{cancel:"Abbrechen",save:"Speichern",delete:"LÃ¶schen",edit:"Bearbeiten",add:"HinzufÃ¼gen",day:"Tag"}},en:{nav:{home:"Home",record:"Record",settings:"Settings",timeAttack:"Speed Running",routine:"Routine"},home:{title:"Habit Chain",welcomeMessage:"Welcome to your routine app",startRoutine:"Start Routine",viewResults:"View Detailed Results"},routine:{title:"My Routine",weeklySchedule:"Weekly Schedule",thisWeek:"This Week",addRoutine:"Add Routine",editRoutine:"Edit Routine",deleteRoutine:"Delete Routine",copyMondayToOthers:"Copy Monday to Other Days",copyWeeklyToThisWeek:"Copy Regular Week",colorExplanation:"Color Explanation",tapToEdit:"Tap to Edit"},categories:{existing:"Existing Habits",new:"New Habits",schedule:"Schedule",fun:"Fun",custom1:"Custom 1",custom2:"Custom 2",custom3:"Custom 3",custom4:"Custom 4"},time:{timeRange:"Time Range",startTime:"Start Time",endTime:"End Time"},weekdays:{monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"},common:{cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",add:"Add",day:"Day"}},ja:{nav:{home:"ãƒ›ãƒ¼ãƒ ",record:"è¨˜éŒ²",settings:"è¨­å®š",timeAttack:"ã‚¿ã‚¤ãƒ ã‚¢ã‚¿ãƒƒã‚¯",routine:"ãƒ«ãƒ¼ãƒ†ã‚£ãƒ¼ãƒ³"},home:{title:"ç¿’æ…£ãƒã‚§ãƒ¼ãƒ³",welcomeMessage:"ãƒ«ãƒ¼ãƒ†ã‚£ãƒ¼ãƒ³ã‚¢ãƒ—ãƒªã¸ã‚ˆã†ã“ã",startRoutine:"ãƒ«ãƒ¼ãƒ†ã‚£ãƒ¼ãƒ³ã‚’é–‹å§‹",viewResults:"è©³ç´°çµæžœã‚’è¦‹ã‚‹"},routine:{title:"Myãƒ«ãƒ¼ãƒ†ã‚£ãƒ¼ãƒ³",weeklySchedule:"é€±é–“ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«",thisWeek:"ä»Šé€±",addRoutine:"ãƒ«ãƒ¼ãƒ†ã‚£ãƒ¼ãƒ³ã‚’è¿½åŠ ",editRoutine:"ãƒ«ãƒ¼ãƒ†ã‚£ãƒ¼ãƒ³ç·¨é›†",deleteRoutine:"ãƒ«ãƒ¼ãƒ†ã‚£ãƒ¼ãƒ³ã‚’å‰Šé™¤",copyMondayToOthers:"æœˆæ›œæ—¥ã‚’ä»–ã®æ›œæ—¥ã«ã‚³ãƒ”ãƒ¼",copyWeeklyToThisWeek:"æ™®æ®µã®1é€±é–“ã‚’ã‚³ãƒ”ãƒ¼",colorExplanation:"è‰²åˆ†ã‘ã®èª¬æ˜Ž",tapToEdit:"ã‚¿ãƒƒãƒ—ã§ç·¨é›†"},categories:{existing:"æ—¢å­˜ã®ç¿’æ…£",new:"æ–°ã—ã„ç¿’æ…£",schedule:"äºˆå®š",fun:"æ¥½ã—ã¿",custom1:"ã‚«ã‚¹ã‚¿ãƒ 1",custom2:"ã‚«ã‚¹ã‚¿ãƒ 2",custom3:"ã‚«ã‚¹ã‚¿ãƒ 3",custom4:"ã‚«ã‚¹ã‚¿ãƒ 4"},time:{timeRange:"æ™‚é–“ç¯„å›²",startTime:"é–‹å§‹æ™‚é–“",endTime:"çµ‚äº†æ™‚é–“"},weekdays:{monday:"æœˆ",tuesday:"ç«",wednesday:"æ°´",thursday:"æœ¨",friday:"é‡‘",saturday:"åœŸ",sunday:"æ—¥"},common:{cancel:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«",save:"ä¿å­˜",delete:"å‰Šé™¤",edit:"ç·¨é›†",add:"è¿½åŠ ",day:"æ›œæ—¥"}},zh:{nav:{home:"é¦–é¡µ",record:"è®°å½•",settings:"è®¾ç½®",timeAttack:"é€Ÿåº¦è·‘",routine:"ä¾‹è¡Œç¨‹åº"},home:{title:"ä¹ æƒ¯é“¾",welcomeMessage:"æ¬¢è¿Žä½¿ç”¨æ‚¨çš„ä¾‹è¡Œç¨‹åºåº”ç”¨",startRoutine:"å¼€å§‹ä¾‹è¡Œç¨‹åº",viewResults:"æŸ¥çœ‹è¯¦ç»†ç»“æžœ"},routine:{title:"æˆ‘çš„ä¾‹è¡Œç¨‹åº",weeklySchedule:"å‘¨è®¡åˆ’",thisWeek:"æœ¬å‘¨",addRoutine:"æ·»åŠ ä¾‹è¡Œç¨‹åº",editRoutine:"ç¼–è¾‘ä¾‹è¡Œç¨‹åº",deleteRoutine:"åˆ é™¤ä¾‹è¡Œç¨‹åº",copyMondayToOthers:"å°†å‘¨ä¸€å¤åˆ¶åˆ°å…¶ä»–æ—¥å­",copyWeeklyToThisWeek:"å¤åˆ¶å¸¸è§„å‘¨",colorExplanation:"é¢œè‰²è¯´æ˜Ž",tapToEdit:"ç‚¹å‡»ç¼–è¾‘"},categories:{existing:"çŽ°æœ‰ä¹ æƒ¯",new:"æ–°ä¹ æƒ¯",schedule:"è®¡åˆ’",fun:"å¨±ä¹",custom1:"è‡ªå®šä¹‰1",custom2:"è‡ªå®šä¹‰2",custom3:"è‡ªå®šä¹‰3",custom4:"è‡ªå®šä¹‰4"},time:{timeRange:"æ—¶é—´èŒƒå›´",startTime:"å¼€å§‹æ—¶é—´",endTime:"ç»“æŸæ—¶é—´"},weekdays:{monday:"å‘¨ä¸€",tuesday:"å‘¨äºŒ",wednesday:"å‘¨ä¸‰",thursday:"å‘¨å››",friday:"å‘¨äº”",saturday:"å‘¨å…­",sunday:"å‘¨æ—¥"},common:{cancel:"å–æ¶ˆ",save:"ä¿å­˜",delete:"åˆ é™¤",edit:"ç¼–è¾‘",add:"æ·»åŠ ",day:"å¤©"}}};function o(){let[e,a]=(0,t.useState)(()=>n()),[i,s]=(0,t.useState)(()=>l[e]);return(0,t.useEffect)(()=>{s(l[e])},[e]),{t:i,locale:e,changeLocale:e=>{a(e),localStorage.setItem("preferred-locale",e)},getRegionalTermLocalized:t=>r(t,e)}}},33004,e=>{"use strict";e.s(["default",()=>n],33004);var t=e.i(62893);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=(0,t.forwardRef)((e,a)=>{let{color:r="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:u,...m}=e;return(0,t.createElement)("svg",{ref:a,...s,width:n,height:n,stroke:r,strokeWidth:o?24*Number(l)/Number(n):l,className:i("lucide",d),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[a,i]=e;return(0,t.createElement)(a,i)}),...Array.isArray(c)?c:[c]])}),n=(e,s)=>{let n=(0,t.forwardRef)((n,l)=>{let{className:o,...d}=n;return(0,t.createElement)(r,{ref:l,iconNode:s,className:i("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...d})});return n.displayName=a(e),n}},86009,e=>{"use strict";e.s(["TrendingUp",()=>t],86009);let t=(0,e.i(33004).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},1696,e=>{"use strict";e.s(["ArrowLeft",()=>t],1696);let t=(0,e.i(33004).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},56968,e=>{"use strict";e.s(["useMiniAppStore",()=>d,"useNavigationStore",()=>o],56968);var t=e.i(62893);let a=e=>{let t,a=new Set,i=(e,i)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=i?i:"object"!=typeof s||null===s)?s:Object.assign({},t,s),a.forEach(a=>a(t,e))}},s=()=>t,r={setState:i,getState:s,getInitialState:()=>n,subscribe:e=>(a.add(e),()=>a.delete(e))},n=t=e(i,s,r);return r},i=e=>e,s=e=>{let s=(e=>e?a(e):a)(e),r=e=>(function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,s=t.default.useSyncExternalStore(e.subscribe,t.default.useCallback(()=>a(e.getState()),[e,a]),t.default.useCallback(()=>a(e.getInitialState()),[e,a]));return t.default.useDebugValue(s),s})(s,e);return Object.assign(r,s),r},r=e=>e?s(e):s,n=e=>t=>{try{let a=e(t);if(a instanceof Promise)return a;return{then:e=>n(e)(a),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>n(t)(e)}}},l=(e,t)=>(a,i,s)=>{let r,l={storage:function(e,t){let a;try{a=e()}catch(e){return}return{getItem:e=>{var t;let i=e=>null===e?null:JSON.parse(e,void 0),s=null!=(t=a.getItem(e))?t:null;return s instanceof Promise?s.then(i):i(s)},setItem:(e,t)=>a.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>a.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1,d=new Set,c=new Set,u=l.storage;if(!u)return e(function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];console.warn("[zustand persist middleware] Unable to update item '".concat(l.name,"', the given storage is currently unavailable.")),a(...t)},i,s);let m=()=>{let e=l.partialize({...i()});return u.setItem(l.name,{state:e,version:l.version})},h=s.setState;s.setState=(e,t)=>(h(e,t),m());let p=e(function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return a(...t),m()},i,s);s.getInitialState=()=>p;let g=()=>{var e,t;if(!u)return;o=!1,d.forEach(e=>{var t;return e(null!=(t=i())?t:p)});let s=(null==(t=l.onRehydrateStorage)?void 0:t.call(l,null!=(e=i())?e:p))||void 0;return n(u.getItem.bind(u))(l.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===l.version)return[!1,e.state];else{if(l.migrate){let t=l.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[s,n]=e;if(a(r=l.merge(n,null!=(t=i())?t:p),!0),s)return m()}).then(()=>{null==s||s(r,void 0),r=i(),o=!0,c.forEach(e=>e(r))}).catch(e=>{null==s||s(void 0,e)})};return s.persist={setOptions:e=>{l={...l,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:e=>(d.add(e),()=>{d.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},l.skipHydration||g(),r||p};r()(l(e=>({user:null,settings:{notification_enabled:!0,ui_color:"blue",sound_enabled:!0},setUser:t=>e({user:t}),updateSettings:t=>e(e=>({settings:{...e.settings,...t}}))}),{name:"user-store"})),r((e,t)=>({habits:[],activeHabits:[],setHabits:t=>e({habits:t,activeHabits:t.filter(e=>e.is_active)}),addHabit:t=>e(e=>({habits:[...e.habits,t],activeHabits:t.is_active?[...e.activeHabits,t]:e.activeHabits})),updateHabit:(t,a)=>e(e=>{let i=e.habits.map(e=>e.id===t?{...e,...a}:e);return{habits:i,activeHabits:i.filter(e=>e.is_active)}}),deleteHabit:t=>e(e=>({habits:e.habits.filter(e=>e.id!==t),activeHabits:e.activeHabits.filter(e=>e.id!==t)})),getActiveHabits:()=>t().activeHabits})),r((e,t)=>({habitRecords:[],simpleRecords:[],addHabitRecord:t=>e(e=>({habitRecords:[...e.habitRecords,t]})),updateHabitRecord:(t,a)=>e(e=>({habitRecords:e.habitRecords.map(e=>e.id===t?{...e,...a}:e)})),addSimpleRecord:t=>e(e=>({simpleRecords:[...e.simpleRecords,t]})),getTodayRecords:()=>{let e=new Date().toISOString().split("T")[0],{habitRecords:a,simpleRecords:i}=t();return{habitRecords:a.filter(t=>t.start_time.startsWith(e)),simpleRecords:i.filter(t=>t.created_at.startsWith(e))}}})),r((e,t)=>({state:{isRunning:!1,elapsedTime:0,targetTime:0,splitTimes:[],isAlternative:!1},currentHabit:null,startTimeAttack:t=>e({currentHabit:t,state:{isRunning:!0,startTime:new Date,elapsedTime:0,targetTime:t.target_duration_seconds,splitTimes:[],isAlternative:!1}}),pauseTimeAttack:()=>e(e=>({state:{...e.state,isRunning:!1}})),resumeTimeAttack:()=>e(e=>({state:{...e.state,isRunning:!0}})),stopTimeAttack:()=>e(e=>({state:{...e.state,isRunning:!1}})),addSplitTime:()=>e(e=>({state:{...e.state,splitTimes:[...e.state.splitTimes,e.state.elapsedTime]}})),setAlternative:t=>e(e=>({state:{...e.state,isAlternative:t}})),resetTimeAttack:()=>e({state:{isRunning:!1,elapsedTime:0,targetTime:0,splitTimes:[],isAlternative:!1},currentHabit:null})}));let o=r(e=>({currentTab:"home",setCurrentTab:t=>e({currentTab:t})}));r((e,t)=>({rewards:[],unclaimedRewards:[],addReward:t=>e(e=>({rewards:[...e.rewards,t],unclaimedRewards:t.claimed?e.unclaimedRewards:[...e.unclaimedRewards,t]})),claimReward:t=>e(e=>({rewards:e.rewards.map(e=>e.id===t?{...e,is_claimed:!0,claimed_at:new Date().toISOString()}:e),unclaimedRewards:e.unclaimedRewards.filter(e=>e.id!==t)})),checkRewards:()=>{}}));let d=r()(l((e,t)=>({miniApps:[{id:"extended_record",type:"extended_record",name:"æ‹¡å¼µè¨˜éŒ²",description:"ã‚ˆã‚Šè©³ç´°ãªè¨˜éŒ²ã¨åˆ†æž",icon:"ðŸ“Š",isEnabled:!0,isUnlocked:!0,concept:"è¨˜éŒ²ã‚’ã‚ˆã‚Šè©³ç´°ã«åˆ†æžã—ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ã‚’å‘ä¸Šã•ã›ã‚‹",activationMethod:"è¨˜éŒ²ç”»é¢ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹"},{id:"time_attack_chain",type:"time_attack_chain",name:"ã‚¿ã‚¤ãƒ ã‚¢ã‚¿ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³",description:"é€£ç¶šã—ãŸã‚¿ã‚¤ãƒ ã‚¢ã‚¿ãƒƒã‚¯è¨˜éŒ²",icon:"â±ï¸",isEnabled:!0,isUnlocked:!0,concept:"è¤‡æ•°ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¿ãƒƒã‚¯ã‚’é€£ç¶šã—ã¦å®Ÿè¡Œ",activationMethod:"ã‚¿ã‚¤ãƒ ã‚¢ã‚¿ãƒƒã‚¯ç”»é¢ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹"},{id:"community",type:"community",name:"ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£",description:"ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®è¨˜éŒ²å…±æœ‰",icon:"ðŸ‘¥",isEnabled:!1,isUnlocked:!1,unlockConditions:{type:"total_records",value:50},concept:"ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨è¨˜éŒ²ã‚’å…±æœ‰ã—ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å‘ä¸Š",activationMethod:"ãƒ›ãƒ¼ãƒ ç”»é¢ã®ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚«ãƒ¼ãƒ‰ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹"},{id:"analytics",type:"analytics",name:"è©³ç´°åˆ†æž",description:"é«˜åº¦ãªçµ±è¨ˆã¨åˆ†æžæ©Ÿèƒ½",icon:"ðŸ“ˆ",isEnabled:!1,isUnlocked:!1,unlockConditions:{type:"streak_days",value:30},concept:"ç¿’æ…£ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ã‚’è©³ç´°ã«åˆ†æž",activationMethod:"åˆ†æžç”»é¢ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹"}],enabledMiniApps:[],extendedRecords:[],timeAttackChains:[],setMiniApps:t=>e({miniApps:t,enabledMiniApps:t.filter(e=>e.isEnabled&&e.isUnlocked)}),toggleMiniApp:t=>e(e=>{let a=e.miniApps.map(e=>e.id===t?{...e,isEnabled:!e.isEnabled}:e);return{miniApps:a,enabledMiniApps:a.filter(e=>e.isEnabled&&e.isUnlocked)}}),unlockMiniApp:t=>e(e=>{let a=e.miniApps.map(e=>e.id===t?{...e,isUnlocked:!0}:e);return{miniApps:a,enabledMiniApps:a.filter(e=>e.isEnabled&&e.isUnlocked)}}),addExtendedRecord:t=>e(e=>({extendedRecords:[...e.extendedRecords,t]})),updateExtendedRecord:(t,a)=>e(e=>({extendedRecords:e.extendedRecords.map(e=>e.id===t?{...e,...a}:e)})),addTimeAttackChain:t=>e(e=>({timeAttackChains:[...e.timeAttackChains,t]})),updateTimeAttackChain:(t,a)=>e(e=>({timeAttackChains:e.timeAttackChains.map(e=>e.id===t?{...e,...a}:e)})),checkUnlockConditions:()=>{let{habits:e}=t(),{miniApps:a}=t();a.forEach(e=>{if(!e.isUnlocked&&e.unlockConditions){let a=!1;switch(e.unlockConditions.type){case"total_records":case"streak_days":case"premium_user":a=!0}a&&t().unlockMiniApp(e.id)}})}}),{name:"miniapp-store"}))},4588,e=>{"use strict";e.s(["CheckCircle",()=>t],4588);let t=(0,e.i(33004).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},62466,50407,48264,e=>{"use strict";e.s(["Heart",()=>a],62466);var t=e.i(33004);let a=(0,t.default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);e.s(["CreditCard",()=>i],50407);let i=(0,t.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["MessageSquare",()=>s],48264);let s=(0,t.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]])},33376,15412,e=>{"use strict";e.s(["Users",()=>a],33376);var t=e.i(33004);let a=(0,t.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Shield",()=>i],15412);let i=(0,t.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},59682,e=>{"use strict";e.s(["default",()=>h]);var t=e.i(68306),a=e.i(36095),i=e.i(62893),s=e.i(1696),r=e.i(62466),n=e.i(50407),l=e.i(48264),o=e.i(4588),d=e.i(33376),c=e.i(86009),u=e.i(15412),m=e.i(56968);function h(){let{setCurrentTab:h}=(0,m.useNavigationStore)(),[p,g]=(0,i.useState)(0),[x,y]=(0,i.useState)(""),[f,v]=(0,i.useState)(""),[b,w]=(0,i.useState)("stripe"),[j,k]=(0,i.useState)(!1),[N,R]=(0,i.useState)({total:12450,goal:5e4,donors:23,averageAmount:541}),S=async()=>{if(!(p<=0)){k(!0);try{if(!navigator.onLine){console.log("Offline mode: Using mock donation"),setTimeout(()=>{alert("å¯„ä»˜ãŒå®Œäº†ã—ã¾ã—ãŸï¼ï¼ˆãƒ¢ãƒƒã‚¯ï¼‰\nÂ¥".concat(p.toLocaleString(),"ã®å¯„ä»˜ã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸã€‚\nå®Ÿéš›ã®ç’°å¢ƒã§ã¯Stripe Checkoutã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã¾ã™ã€‚")),k(!1)},1e3);return}let a=await fetch("/api/create-donation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:p,message:f,paymentMethod:b,currency:"jpy"})}),{sessionId:i,error:s}=await a.json();if(s)throw Error(s);let r=await e.A(5096),n=await r.loadStripe(t.default.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY);n&&await n.redirectToCheckout({sessionId:i})}catch(e){console.error("å¯„ä»˜å‡¦ç†ã‚¨ãƒ©ãƒ¼:",e),setTimeout(()=>{alert("å¯„ä»˜ãŒå®Œäº†ã—ã¾ã—ãŸï¼ï¼ˆãƒ¢ãƒƒã‚¯ï¼‰\nÂ¥".concat(p.toLocaleString(),"ã®å¯„ä»˜ã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸã€‚\nå®Ÿéš›ã®ç’°å¢ƒã§ã¯Stripe Checkoutã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã¾ã™ã€‚")),k(!1)},1e3)}finally{navigator.onLine&&k(!1)}}},T=N.total/N.goal*100;return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,a.jsx)("div",{className:"px-4 pt-4 pb-2 border-b border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{onClick:()=>h("home"),className:"w-8 h-8 flex items-center justify-center hover:bg-gray-800 rounded-lg transition-colors",children:(0,a.jsx)(s.ArrowLeft,{size:20,className:"text-gray-300"})}),(0,a.jsx)("h1",{className:"text-xl font-bold text-white",children:"Giftå¯„ä»˜"})]})}),(0,a.jsxs)("div",{className:"px-4 py-6 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-pink-900 via-purple-900 to-indigo-900 rounded-xl p-6 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white bg-opacity-5 rounded-full -translate-y-16 translate-x-16"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)(r.Heart,{className:"w-8 h-8 text-pink-400"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"é–‹ç™ºã‚’å¿œæ´ã™ã‚‹"})]}),(0,a.jsx)("p",{className:"text-gray-300 text-sm leading-relaxed mb-4",children:"ã‚ãªãŸã®å¯„ä»˜ãŒã€ã‚ˆã‚Šè‰¯ã„ç¿’æ…£ãƒã‚§ãƒ¼ãƒ³ã‚¢ãƒ—ãƒªã®é–‹ç™ºã‚’æ”¯ãˆã¾ã™ã€‚ æ–°ã—ã„æ©Ÿèƒ½ã®è¿½åŠ ã‚„æ”¹å–„ã«æ´»ç”¨ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-400",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(u.Shield,{size:14}),(0,a.jsx)("span",{children:"å®‰å…¨ãªæ±ºæ¸ˆ"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(d.Users,{size:14}),(0,a.jsxs)("span",{children:[N.donors,"åã®å¯„ä»˜è€…"]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"ä»Šæœˆã®å¯„ä»˜çµ±è¨ˆ"}),(0,a.jsx)(c.TrendingUp,{className:"w-6 h-6 text-green-400"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-3xl font-bold text-yellow-400",children:["Â¥",N.total.toLocaleString()]}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"å¯„ä»˜ç·é¡"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-400",children:N.donors}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"å¯„ä»˜è€…æ•°"})]})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"ç›®æ¨™é”æˆçŽ‡"}),(0,a.jsxs)("span",{className:"text-white font-medium",children:[T.toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-3",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 h-3 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(T,100),"%")}})}),(0,a.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["ç›®æ¨™: Â¥",N.goal.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"text-center text-sm text-gray-400",children:["å¹³å‡å¯„ä»˜é¡: Â¥",N.averageAmount.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"å¯„ä»˜é‡‘é¡ã‚’é¸æŠž"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[500,1e3,2e3,5e3,1e4].map(e=>(0,a.jsxs)("button",{onClick:()=>{g(e),y("")},className:"py-3 px-4 rounded-lg border-2 transition-all ".concat(p===e?"border-pink-500 bg-pink-500 bg-opacity-20 text-pink-400 shadow-lg":"border-gray-600 text-gray-300 hover:border-gray-500 hover:bg-gray-700"),children:["Â¥",e.toLocaleString()]},e))}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"ã‚«ã‚¹ã‚¿ãƒ é‡‘é¡"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"Â¥"}),(0,a.jsx)("input",{type:"number",value:x,onChange:e=>{y(e.target.value),g(parseInt(e.target.value)||0)},placeholder:"é‡‘é¡ã‚’å…¥åŠ›",className:"w-full bg-gray-700 border border-gray-600 rounded-lg pl-8 pr-4 py-3 text-white focus:ring-2 focus:ring-pink-500 focus:border-transparent"})]}),p>0&&(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-400",children:["é¸æŠžé‡‘é¡: Â¥",p.toLocaleString()]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,a.jsx)(l.MessageSquare,{className:"w-5 h-5 text-blue-400"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"ã‚µãƒãƒ¼ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆä»»æ„ï¼‰"})]}),(0,a.jsx)("textarea",{value:f,onChange:e=>v(e.target.value),placeholder:"é–‹ç™ºè€…ã¸ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚„è¦æœ›ãŒã‚ã‚Œã°...",rows:4,maxLength:200,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),(0,a.jsxs)("div",{className:"text-xs text-gray-400 mt-1 text-right",children:[f.length,"/200æ–‡å­—"]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"æ±ºæ¸ˆæ–¹æ³•"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 cursor-pointer transition-all ".concat("stripe"===b?"border-blue-500 bg-blue-500 bg-opacity-10":"border-gray-600 hover:border-gray-500"),children:[(0,a.jsx)("input",{type:"radio",name:"payment",value:"stripe",checked:"stripe"===b,onChange:e=>w(e.target.value),className:"text-blue-500"}),(0,a.jsx)(n.CreditCard,{className:"w-5 h-5 text-blue-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-white font-medium",children:"ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰"}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Visa, Mastercard, JCBå¯¾å¿œ"})]})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 cursor-pointer transition-all ".concat("paypal"===b?"border-blue-500 bg-blue-500 bg-opacity-10":"border-gray-600 hover:border-gray-500"),children:[(0,a.jsx)("input",{type:"radio",name:"payment",value:"paypal",checked:"paypal"===b,onChange:e=>w(e.target.value),className:"text-blue-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-white font-medium",children:"PayPal"}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"PayPalã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§æ±ºæ¸ˆ"})]})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 cursor-pointer transition-all ".concat("apple_pay"===b?"border-blue-500 bg-blue-500 bg-opacity-10":"border-gray-600 hover:border-gray-500"),children:[(0,a.jsx)("input",{type:"radio",name:"payment",value:"apple_pay",checked:"apple_pay"===b,onChange:e=>w(e.target.value),className:"text-blue-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-white font-medium",children:"Apple Pay"}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Touch ID / Face IDå¯¾å¿œ"})]})]})]})]}),(0,a.jsx)("button",{onClick:S,disabled:p<=0||j,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-4 rounded-xl font-semibold text-lg disabled:opacity-50 disabled:cursor-not-allowed hover:from-pink-600 hover:to-purple-700 transition-all duration-200 shadow-lg relative",children:j?(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:"å‡¦ç†ä¸­..."})]}):p>0?"Â¥".concat(p.toLocaleString()," ã‚’å¯„ä»˜ã™ã‚‹"):"é‡‘é¡ã‚’é¸æŠžã—ã¦ãã ã•ã„"}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"æœ€è¿‘ã®å¯„ä»˜è€…"}),(0,a.jsx)(d.Users,{className:"w-5 h-5 text-blue-400"})]}),(0,a.jsx)("div",{className:"space-y-3",children:[{name:"ç¿’æ…£ãƒžã‚¹ã‚¿ãƒ¼",amount:5e3,message:"ç¶šã‘ã¦ãã ã•ã„ï¼",time:"2æ™‚é–“å‰",verified:!0},{name:"åŒ¿åãƒ¦ãƒ¼ã‚¶ãƒ¼",amount:2e3,message:"ç´ æ™´ã‚‰ã—ã„ã‚¢ãƒ—ãƒªã§ã™ï¼",time:"5æ™‚é–“å‰",verified:!1},{name:"æ—©èµ·ãå¤ªéƒŽ",amount:1e3,message:"æœæ´»æ©Ÿèƒ½ãŒåŠ©ã‹ã‚Šã¾ã™",time:"1æ—¥å‰",verified:!0},{name:"åŒ¿åãƒ¦ãƒ¼ã‚¶ãƒ¼",amount:3e3,time:"2æ—¥å‰",verified:!1},{name:"å¥åº·ç¬¬ä¸€",amount:1500,message:"é‹å‹•ç¿’æ…£ãŒèº«ã«ã¤ãã¾ã—ãŸ",time:"3æ—¥å‰",verified:!0}].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center",children:(0,a.jsx)(r.Heart,{size:14,className:"text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-white font-medium",children:e.name}),e.verified&&(0,a.jsx)(o.CheckCircle,{size:14,className:"text-green-400"})]}),e.message&&(0,a.jsx)("div",{className:"text-gray-400 text-sm",children:e.message}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.time})]})]}),(0,a.jsxs)("div",{className:"text-pink-400 font-semibold",children:["Â¥",e.amount.toLocaleString()]})]},t))})]})]})]})}},91695,e=>{e.v(t=>Promise.all(["static/chunks/5cdfa0103bd60f10.js"].map(t=>e.l(t))).then(()=>t(36188)))},5096,e=>{e.v(t=>Promise.all(["static/chunks/f557095ff0026cf8.js"].map(t=>e.l(t))).then(()=>t(13199)))}]);