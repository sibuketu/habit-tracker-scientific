# 残りのタスクまとめ

> 更新日: 2025-01-27
> 目的: リリース前に実装すべき機能と改善点をまとめる

---

## ✅ 実装完了した機能

### 優先度: 高（リリース前に実装すべき）
1. ✅ **日次体重記録機能** - 実装済み（InputScreen）
2. ✅ **グラフ表示機能の強化** - 実装済み（StatsScreen、LabsScreenからアクセス可能）
3. ✅ **バーコード読み取り** - 実装済み（HomeScreenにボタン追加、barcodeScanner.ts作成）
4. ⚠️ **写真解析の完全実装** - 部分実装（モック実装あり、Gemini Vision API統合が必要）

### 優先度: 中（リリース後でも対応可能だが、あると良い）
5. ✅ **レシピ登録・保存** - 実装済み（RecipeScreen、HomeScreenからアクセス可能）
6. ✅ **体脂肪率記録** - 実装済み（InputScreen）
7. ✅ **データインポート機能** - 実装済み（DataImportScreen、SettingsScreenからアクセス可能）
8. ✅ **ウェアラブルデバイス連携** - 実装済み（HealthDeviceScreen、手動入力機能）
9. ✅ **睡眠記録の強化** - 実装済み（InputScreenに睡眠時間追加）

---

## ⚠️ 残っているタスク

### 1. 写真解析の完全実装（Gemini Vision API統合）
- **現状**: 
  - `HomeScreen.tsx`に写真アップロード機能あり（708-799行目）
  - `aiService.ts`に`analyzeFoodImage`関数あり（モック実装）
- **必要な作業**:
  - Gemini Vision API統合
  - 食品の自動識別と栄養素計算
  - エラーハンドリングの強化
- **優先度**: 高（リリース前に実装すべき）

### 2. バーコード読み取りの改善
- **現状**: 
  - `barcodeScanner.ts`作成済み
  - `HomeScreen.tsx`にボタン追加済み
- **必要な作業**:
  - エラーハンドリングの強化（カメラ許可拒否時の処理）
  - UI改善（スキャン中の表示、成功/失敗のフィードバック）
  - ブラウザ互換性の確認（BarcodeDetector API対応ブラウザ）
- **優先度**: 中（基本的な機能は実装済み）

---

## 📋 リリース前チェック項目

### デバッグ機能
- [x] デバッグデータに体重が含まれているか
- [x] デバッグデータに体脂肪率が含まれているか
- [x] デバッグデータに睡眠時間が含まれているか
- [ ] デバッグモードON/OFFの動作確認
- [ ] デバッグデータでグラフが正しく表示されるか

### 機能の動作確認
- [ ] 全ての画面に正しく遷移できるか
- [ ] データ保存・読み込みが正しく動作するか
- [ ] エラーハンドリングが適切か

### UI/UX
- [ ] モバイル表示が正しいか
- [ ] ボタンがタッチしやすいサイズか（44px以上）
- [ ] エラーメッセージが分かりやすいか

---

## 🎯 次のステップ

### 最優先（リリース前に実装すべき）
1. **写真解析の完全実装**
   - Gemini Vision API統合
   - 食品の自動識別と栄養素計算

### 優先度: 中（リリース後でも対応可能）
2. **バーコード読み取りの改善**
   - エラーハンドリングの強化
   - UI改善

---

## 📝 注意事項

- **デバッグモード**: リリース前にデバッグモードをOFFにすることを忘れない
- **環境変数**: 本番環境の環境変数が正しく設定されているか確認する
- **データバックアップ**: リリース前にデータのバックアップを取る

---

## 参考資料

- `MISSING_FEATURES_COMPARISON.md`: 既存アプリとの比較で不足していた機能リスト
- `FEATURE_IMPLEMENTATION_STATUS.md`: 機能実装状況の詳細
- `RELEASE_CHECKLIST.md`: リリース前チェックリスト

