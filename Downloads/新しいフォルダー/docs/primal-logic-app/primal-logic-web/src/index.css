@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Scientific Colors (60-30-10 Rule - Material Design Dark Theme) */
  --primary-bg: #121212;
  /* 60% - Material Design recommended dark background */
  --secondary-bg: #1e1e1e;
  /* 30% - Component Background (surface) */
  --accent-color: #2196f3;
  /* 10% - Material Blue 500 (使いやすさ全振り決定) */

  /* Text Colors (WCAG AA/AAA Contrast compliant) */
  --text-primary: #ffffff;
  /* High Contrast (>7:1 on #121212) */
  --text-secondary: #b3b3b3;
  /* Medium Contrast (>4.5:1 on #121212) */

  /* Legacy variable mapping (for existing components) */
  --color-bg-root: var(--primary-bg);
  --color-bg-primary: var(--primary-bg);
  --color-bg-secondary: var(--secondary-bg);
  --color-bg-tertiary: #2a2a2a;
  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-tertiary: #808080;
  --color-border: rgba(255, 255, 255, 0.12);
  --color-accent: var(--accent-color);
  --color-accent-hover: #42a5f5;
  --color-warning: #f59e0b;
  --color-warning-light: rgba(245, 158, 11, 0.1);
  --color-success: #10b981;
  --color-error: #ef4444;

  /* Nutrient Group Colors */
  --nutrient-group-electrolytes-bg: #f0f9ff;
  --nutrient-group-electrolytes-border: #3b82f6;
  --nutrient-group-electrolytes-text: #3b82f6;
  --nutrient-group-macros-bg: #fef3c7;
  --nutrient-group-macros-border: #f59e0b;
  --nutrient-group-macros-text: #f59e0b;
  --nutrient-group-others-bg: #f3f4f6;
  --nutrient-group-others-border: #d1d5db;
  --nutrient-group-others-text: #6b7280;

  /* Scientific Constants */
  --touch-target-size: 48px;
  /* Gold Standard (Google/MIT) */
  --spacing-unit: 8px;
  /* Spacing Base */
  --anim-duration-short: 150ms;
  /* Micro-interactions */
  --anim-duration-medium: 300ms;
  /* Modals/Transitions */
}

body {
  background-color: var(--primary-bg);
  color: var(--text-primary);
  font-family: 'Inter', sans-serif;
  line-height: 1.5;
  /* Optimal readability */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* 
  Global Interactive Element Enforcement 
  Based on Fitts's Law & MIT Touch Lab 
*/
button,
a,
input[type='checkbox'],
input[type='radio'],
select,
.interactive-target {
  min-width: var(--touch-target-size);
  min-height: var(--touch-target-size);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-unit);
  cursor: pointer;

  /* Instant Feedback (<100ms) */
  transition: all var(--anim-duration-short) ease-in-out;
}

button:active,
a:active,
.tap-target:active {
  transform: scale(0.95);
  opacity: 0.8;
  /* Tactile feedback - scale + opacity for clear visual response */
}

/* Enhanced tap feedback for touch devices */
@media (hover: none) and (pointer: coarse) {
  button:active,
  a:active,
  .tap-target:active {
    transform: scale(0.92);
    opacity: 0.7;
    background-color: rgba(255, 255, 255, 0.1);
  }
}

/* Selected state utility class */
.selected {
  ring: 2px solid var(--accent-color);
  background-color: rgba(33, 150, 243, 0.15);
}

/* Ripple effect for buttons */
.btn-ripple {
  position: relative;
  overflow: hidden;
}

.btn-ripple::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: width 0.3s ease, height 0.3s ease;
}

.btn-ripple:active::after {
  width: 200%;
  height: 200%;
}

/* Typography Standards */
p {
  font-size: 16px;
  /* Minimum legible size */
  max-width: 65ch;
  /* Optimal line length (50-75 chars) */
}

h1 {
  font-size: 2rem;
  line-height: 1.2;
  font-weight: 700;
  margin-bottom: 1rem;
}

h2 {
  font-size: 1.5rem;
  line-height: 1.3;
  font-weight: 600;
  margin-bottom: 0.75rem;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--primary-bg);
}

::-webkit-scrollbar-thumb {
  background: var(--secondary-bg);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--accent-color);
}
