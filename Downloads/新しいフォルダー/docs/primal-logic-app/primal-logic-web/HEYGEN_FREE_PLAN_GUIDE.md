# HeyGen Freeプランで動画を作る方法

## HeyGen Freeプランの制限

- **動画作成数**: 月3本まで
- **動画の長さ**: 最大3分（180秒）まで
- **解像度**: 720p
- **透かし**: あり（HeyGenのロゴが表示される）
- **商用利用**: 不可

## 補足: 画面に表示されているアバターについて

**表示されているアバターは全てAIアバターです。**
- 実在の人物ではありません
- 顔、声、ジェスチャーが全てAIで生成されます
- テンプレートで表示されている人物も全てAIです

---

## 方法1: テンプレートから動画を作る（Templates画面から）

### 現在の画面（Templates画面）から始める手順

1. **テンプレートを選択**
   - 画面中央の「HeyGen Library」セクションから動画スタイルを選ぶ
   - 例: "Avatar New Video" / "Breaking News" / "Social Template" など
   - カテゴリータブ（Recommended, Advertisement, Ecommerce等）で絞り込み可能
   - 動画の向き（Landscape横長 / Portrait縦長）を選択

2. **テンプレートをクリック**
   - 気に入ったテンプレートのサムネイルをクリック
   - 動画編集画面が開きます

3. **アバターを選択（必要に応じて変更）**
   - 左サイドバーまたは編集画面で「Avatar」を選択
   - 別のAIアバターに変更可能
   - 男性・女性・様々な見た目から選べます

4. **スクリプトを入力**
   - テンプレート内のテキストエリアに動画の台本を入力
   - **重要**: Freeプランは3分までなので、約450-500文字以内に収める
   - 例: "こんにちは。今日はカーニボアダイエットについてお話しします。..."

5. **言語と音声を設定**
   - 「Voice」タブで言語を選択（日本語 / 英語 / その他）
   - 音声の種類を選択（男性・女性・様々なトーン）
   - 「Preview」で音声を確認

6. **背景を調整（オプション）**
   - 背景画像を変更、または背景を削除
   - テンプレートの背景をそのまま使うことも可能

7. **動画を生成**
   - 右上の「Submit」または「Generate」ボタンをクリック
   - 動画生成には3-5分かかります
   - 生成が完了すると通知が来ます

8. **動画をダウンロード**
   - 生成された動画の画面で「Download」をクリック
   - MP4形式でダウンロードできます

---

## 方法2: 一から動画を作る（Createボタンから）

### 左サイドバーの「Create」ボタンから始める手順

1. **「Create」ボタンをクリック**
   - 左サイドバーの黒い「Create」ボタンをクリック
   - 動画作成画面が開きます

2. **動画サイズを選択**
   - 「Portrait」（縦長・TikTok/Instagram用）または「Landscape」（横長・YouTube用）を選択
   - Freeプランでは720pのみ

3. **アバターを選択**
   - 「Avatar」タブをクリック
   - 無料で使えるAIアバターから選択
   - 「Use」をクリック

3. **動画サイズを選択**
   - 「Portrait」（縦長・TikTok/Instagram用）または「Landscape」（横長・YouTube用）を選択
   - Freeプランでは720pのみ

4. **アバターを選択**
   - 「Avatar」タブをクリック
   - 無料で使えるアバターから選択（男性・女性・様々な見た目から選べる）
   - 「Use」をクリック

5. **スクリプトを入力**
   - 「Script」タブをクリック
   - テキストエリアに動画の台本を入力
   - **注意**: 3分以内の動画にするため、約450-500文字程度に収める（1分あたり約150-170文字）
   - 例: "こんにちは。今日はカーニボアダイエットについてお話しします。..."

6. **言語と音声を設定**
   - 「Voice」タブをクリック
   - 言語を選択（日本語 / 英語 / その他）
   - 音声の種類を選択（男性・女性・様々なトーン）
   - 「Preview」で音声を確認

7. **背景を設定（オプション）**
   - 「Background」タブをクリック
   - 背景画像または色を選択
   - または「Remove Background」で背景を削除

8. **動画を生成**
   - 右上の「Submit」または「Generate」をクリック
   - 動画生成には数分かかります（通常3-5分）
   - 生成が完了すると通知が来ます

9. **動画をダウンロード**
   - 生成された動画の画面で「Download」をクリック
   - MP4形式でダウンロードできます

---

## 方法2: APIを使用して自動生成（実装が必要）

### APIキーの取得（Freeプランでも可能）

1. HeyGenのホーム画面にログイン
2. 左サイドバーの「Subscriptions & API」をクリック
3. 「HeyGen API」タブを選択
4. 「Create API Key」をクリック
5. APIキーをコピーして`.env`ファイルに設定:
   ```
   VITE_HEYGEN_API_KEY=your_api_key_here
   ```

### 実装が必要な機能

既に実装済みの機能:
- ✅ スクリプト生成（Gemini API）
- ✅ HeyGen API統合（`videoGenerationHeyGen.ts`）
- ✅ ポーリング機能

Freeプランで動作するように修正が必要な点:
- ⏳ スクリプト長さを3分以内（約450-500文字）に制限
- ⏳ 解像度を720pに設定
- ⏳ APIエンドポイントの確認（Freeプランでも利用可能か）

---

## 3分以内の動画スクリプトの目安

### 文字数の目安
- **1分**: 約150-170文字
- **2分**: 約300-340文字
- **3分**: 約450-500文字（Freeプランの上限）

### スクリプト例（約3分・450文字）

```
こんにちは。今日はカーニボアダイエットについてお話しします。

カーニボアダイエットは、肉、魚、卵、内臓など、動物性食品のみを食べる食事法です。
植物性食品は一切食べません。

なぜカーニボアダイエットが健康に良いのでしょうか？

第一に、人類は何百万年も肉食中心の生活を送ってきました。
農耕は1万年程度で、遺伝子レベルでの適応は起きていません。

第二に、植物性食品には植物毒（オキサレート、レクチン、フィチン酸など）が含まれており、
これらが腸の炎症や自己免疫疾患の原因になることがあります。

第三に、動物性食品は栄養密度が高く、必要な栄養素を効率的に摂取できます。
特にタンパク質、脂質、ビタミンB12、鉄分などが豊富です。

ただし、注意点もあります。
ナトリウム、マグネシウムなどの電解質は積極的に摂取する必要があります。

カーニボアダイエットを始める際は、徐々に移行することをおすすめします。
まずは加工食品を減らし、新鮮な肉や魚を中心とした食事に切り替えてみてください。

今日はここまで。質問があればコメント欄に書いてください。
ありがとうございました。
```

---

## 実装: スクリプト生成時の文字数制限

`videoGeneration.ts`の`generateVideoScript`関数を修正して、Freeプラン用に3分以内のスクリプトを生成するようにします。

```typescript
// videoGeneration.ts の修正例
export interface VideoGenerationOptions {
  platform: 'youtube' | 'tiktok' | 'instagram';
  language: 'ja' | 'en' | 'fr' | 'de';
  topic?: string;
  useFreePlan?: boolean; // Freeプランを使用する場合true
}

export async function generateVideoScript(options: VideoGenerationOptions): Promise<VideoScript> {
  // ...
  
  const maxLength = options.useFreePlan ? 500 : 5000; // Freeプランは500文字まで
  
  const prompt = `
  // ... 既存のプロンプト ...
  
  ${options.useFreePlan ? '重要: スクリプトは450-500文字以内に収めてください（3分以内の動画用）。' : ''}
  `;
  
  // ...
}
```

---

## 実装: HeyGen APIでFreeプラン対応

`videoGenerationHeyGen.ts`を修正して、Freeプラン用の設定を追加します。

```typescript
// videoGenerationHeyGen.ts の修正例
export async function generateVideoWithHeyGen(
  script: VideoScript,
  useFreePlan: boolean = false
): Promise<string> {
  // ...
  
  // Freeプランの場合、スクリプト長さを制限
  if (useFreePlan && script.script.length > 500) {
    throw new Error('Freeプランではスクリプトは500文字以内に制限されています');
  }
  
  const request: HeyGenVideoRequest = {
    text: script.script,
    dimension: useFreePlan 
      ? { width: 1280, height: 720 } // 720p
      : { width: 1920, height: 1080 }, // 1080p
    // ...
  };
  
  // ...
}
```

---

## 次のステップ

1. **HeyGenアカウント作成**（Freeプラン）
   - `https://app.heygen.com` にアクセスしてアカウント作成

2. **手動で1本作成してみる**（動作確認）
   - 上記の「方法1」の手順で動画を1本作成
   - 生成時間、品質、透かしの位置を確認

3. **APIキーを取得**（API使用する場合）
   - 「Subscriptions & API」からAPIキーを取得
   - `.env`ファイルに設定

4. **実装を進める**（Cursor作業）
   - スクリプト生成時の文字数制限を実装
   - Freeプラン用のAPI設定を実装
   - 動画生成UIを実装

---

## 注意事項

- **月3本の制限**: Freeプランでは月に3本までしか動画を作成できません。4本目を作成しようとするとエラーになります。
- **透かし**: 動画にHeyGenのロゴが表示されます。商用利用はできません。
- **解像度**: 720pのみ。1080pや4Kは有料プランのみ。
- **動画の長さ**: 3分を超えるスクリプトを入力すると、エラーになるか自動で切られる可能性があります。

