# リリース前の認証機能に関する判断

> 作成日: 2025-12-29
> 目的: リリース前に認証機能を必須にするか、オプションのままにするかを判断する

---

## 現状

### 実装状況
- ✅ 認証機能は既に実装済み（`AuthScreen.tsx`）
- ✅ Supabase Authを使用したログイン・登録・パスワードリセット機能
- ⚠️ 現在は「Local First」方針で、認証は**オプション**
- ⚠️ `App.tsx`で認証画面の表示はコメントアウトされている（必須ではない）

### 現在の動作
- Supabaseが設定されていない場合：認証なしで動作（Local Storageのみ）
- Supabaseが設定されている場合：認証は可能だが、必須ではない
- データは`localStorage`に保存され、認証なしでも動作する

---

## リリース前の判断が必要な点

### 選択肢A: 認証をオプションのままにする（推奨）
**メリット**:
- ユーザーの摩擦が少ない（即座に使用可能）
- 既存の「Local First」方針と一致
- リリースが早い

**デメリット**:
- データ同期ができない（複数デバイスで使用できない）
- データバックアップができない（端末故障時にデータ消失）

### 選択肢B: 認証を必須にする
**メリット**:
- データ同期が可能（複数デバイスで使用可能）
- データバックアップが可能（Supabaseに保存）
- セキュリティが向上

**デメリット**:
- ユーザーの摩擦が増える（メール/パスワード入力が必要）
- リリースが遅れる可能性（認証フローのテストが必要）

---

## 推奨案

### Phase 1（リリース時）: 認証をオプションのままにする
- 既存の「Local First」方針を維持
- 認証機能は実装済みだが、必須にしない
- ユーザーが希望する場合のみ認証を使用

### Phase 2（将来）: 認証を推奨する（必須ではない）
- 認証を使用するとデータ同期が可能になることを明示
- 認証を推奨するUIを追加（例：「データをバックアップする」ボタン）
- 認証を使用しない場合も動作する

---

## リリース前の対応

### 必須対応
- [ ] 認証機能が正しく動作することを確認（Supabase設定時）
- [ ] 認証なしでも動作することを確認（Supabase未設定時）
- [ ] エラーハンドリングの確認（Supabase接続エラー時の処理）

### オプション対応
- [ ] 認証を推奨するUIの追加（「データをバックアップする」ボタンなど）
- [ ] 認証のメリットを説明する画面の追加

---

最終更新: 2025-12-29

